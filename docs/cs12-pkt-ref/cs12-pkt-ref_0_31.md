# 第三十一章：匿名类型

*匿名类型* 是一个简单的类，即时创建用于存储一组值。要创建匿名类型，您使用 `new` 关键字，后跟对象初始化程序，指定类型将包含的属性和值。例如：

```cs
var dude = new { Name = "Bob", Age = 1 };
```

编译器通过编写一个私有嵌套类型，为 `Name`（类型为 `string`）和 `Age`（类型为 `int`）生成只读属性来解决这个问题。必须使用 `var` 关键字引用匿名类型，因为类型名称是由编译器生成的。

匿名类型的属性名称可以从表达式中推断出，该表达式本身是一个标识符；例如：

```cs
int Age = 1;
var dude = new { Name = "Bob", Age };
```

这相当于：

```cs
var dude = new { Name = "Bob", Age = Age };
```

你可以像下面这样创建匿名类型的数组：

```cs
var dudes = new[]
{
  new { Name = "Bob", Age = 30 },
  new { Name = "Mary", Age = 40 }
};
```

匿名类型主要用于编写 LINQ 查询时使用。

匿名类型是不可变的，因此实例在创建后无法修改。然而，从 C# 10 开始，你可以使用 `with` 关键字创建具有变化的副本，就像使用记录一样。请参见“非破坏性变异”中的示例。

