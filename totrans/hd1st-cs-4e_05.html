<html><head></head><body><section data-pdf-bookmark="Chapter 3. Objects&#x2026;get oriented!: Making code make sense" data-type="chapter" epub:type="chapter"><div class="chapter" id="objectshellipget_orientedexclamation_mar">&#13;
<h1><span class="label">Chapter 3. </span>Objects…get oriented!: <em>Making code make sense</em></h1>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/103fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><a data-primary="objects" data-secondary="about" data-type="indexterm" id="idm46402347686312"/><strong>Every program you write solves a problem.</strong></p>&#13;
<p>When you’re building a program, it’s always a good idea to start by thinking about what problem your program’s supposed to solve. That’s why objects are really useful. They let you structure your code based on the problem it’s solving so that you can spend your time thinking about the problem you need to work on rather than getting bogged down in the mechanics of writing code. When you use objects right—and really put some thought into how you design them—you end up with code that’s intuitive to write, and easy to read and change.</p>&#13;
<section data-pdf-bookmark="If code is useful, it gets reused" data-type="sect1"><div class="sect1" id="if_code_is_usefulcomma_it_gets_reused">&#13;
<h1>If code is useful, it gets reused</h1>&#13;
<p><a data-primary="code" data-secondary="reusing" data-type="indexterm" id="idm46402347682840"/>Developers have been reusing code since the earliest days of programming, and it’s not hard to see why. If you’ve written a class for one program, and you have another program that needs code that does exactly the same thing, then it makes sense to <strong>reuse</strong> the same class in your new program.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/104fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Some methods take parameters and return a value" data-type="sect1"><div class="sect1" id="some_methods_take_parameters_and_return">&#13;
<h1>Some methods take <u>parameters</u> and <u>return</u> a value</h1>&#13;
<p><a data-primary="parameters" data-secondary="about" data-type="indexterm" id="idm46402347675800"/><a data-primary="return statement" data-type="indexterm" id="idm46402347674824"/><a data-primary="return type" data-type="indexterm" id="idm46402347673384"/><a data-primary="types" data-secondary="return type" data-type="indexterm" id="idm46402347672552"/>You’ve seen methods that do things, like the SetUpGame method in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a> that sets up your game. Methods can do more than that: they can use <strong>parameters</strong> to get input, do something with that input, and then generate output with a <strong>return value</strong> that can be used by the statement that called the method.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/105fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Parameters are values that the method uses as input. They’re declared as variables that are included in the method declaration (between the parentheses). The return value is a value that’s calculated or generated inside the method, and sent back to the statement that called that method. The type of the return value (like <em>string</em> or <em>int</em>) is called the <strong>return type</strong>. If a method has a return type, then it <u>must</u> use a <code><strong>return</strong></code> <strong>statement</strong>.</p>&#13;
<p>Here’s an example of a method with two int parameters and an int return type:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/105fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>The method takes two <strong>parameters</strong> called <code><strong>factor1</strong></code> and <code><strong>factor2</strong></code>. It uses the multiplication operator <code><strong>*</strong></code> to calculate the result, which it returns using the <code><strong>return</strong></code> keyword.</p>&#13;
<p>This code calls the Multiply method and stores the result in a variable called <code><strong>area</strong></code>:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/105fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="do_thisexclamation_mark-idd0001">&#13;
<h5>Do this!</h5>&#13;
<p>Since you’re about to create methods that return values, right now is a perfect time to write some code and use the debugger to <em>really dig into how the</em> <code><em><strong>return</strong></em></code> <em>statement works</em>.</p>&#13;
<ul>&#13;
<li><p>What happens when a method is done executing all of its statements? See for yourself—open up one of the programs you’ve written so far, place a breakpoint inside a method, then keep stepping through it.</p></li>&#13;
<li><p>When the method runs out of statements, <em>it</em> <strong><em>returns</em></strong> <em>to the statement that called it</em> and continues executing the next statement after that.</p></li>&#13;
<li><p>A method can also include a <code><strong>return</strong></code> statement, which causes it to immediately exit without executing any of its other statements. Try adding an extra <code><strong>return</strong></code> statement in the middle of a method, then step over it.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Let’s build a program that picks some cards" data-type="sect1"><div class="sect1" id="letapostrophes_build_a_program_that_pick">&#13;
<h1>Let’s build a program that picks some cards</h1>&#13;
<p><a data-primary="array of strings" data-type="indexterm" id="idm46402347644488"/><a data-primary="arrays" data-secondary="about" data-type="indexterm" id="idm46402347643544"/><a data-primary="CardPicker class" data-type="indexterm" id="idm46402347642568"/><a data-primary="PickRandomCards app" data-secondary="creating" data-type="indexterm" id="idm46402347641832"/><a data-primary="square brackets []" data-type="indexterm" id="idm46402347640792"/><a data-primary="strings" data-secondary="array of" data-type="indexterm" id="idm46402347639992"/>In the first project in this chapter, you’re going to build a .NET Core console app called PickRandomCards that lets you pick random playing cards. Here’s what its structure will look like:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/106fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Your PickSomeCards method will use string values to represent playing cards. If you want to pick five cards, you’ll call it like this:</p>&#13;
<pre data-type="programlisting">      <strong>string[] cards = PickSomeCards(5);</strong></pre>&#13;
<p>The <code><strong>cards</strong></code> variable has a type that you haven’t seen yet. The square brackets <code><strong>[]</strong></code> mean that it’s an <strong>array of strings</strong>. Arrays let you use a single variable to store multiple values—in this case, strings with playing cards. Here’s an example of a string array that the PickSomeCards method might return:</p>&#13;
<pre data-type="programlisting">{ "10 of Diamonds", &#13;
  "6 of Clubs", &#13;
  "7 of Spades",&#13;
  "Ace of Diamonds", &#13;
  "Ace of Hearts" }</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">This is an array of five strings. Your card picker app will create arrays like this to represent a number of randomly selected cards.</span></p>&#13;
</div>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/106fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>After your array is generated, you’ll use a <code><strong>foreach</strong></code> loop to write it to the console.</p>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Create your PickRandomCards console app" data-type="sect1"><div class="sect1" id="create_your_pickrandomcards_console_app">&#13;
<h1>Create your PickRandomCards console app</h1>&#13;
<p><a data-primary="class diagrams" data-type="indexterm" id="idm46402347625704"/><strong>Do this!</strong></p>&#13;
<p>Let’s use what you’ve learned so far to create a program that picks a number of random cards. Open Visual Studio and <strong>create a new Console App project called PickRandomCards</strong>. Your program will include a class called CardPicker. Here’s a class diagram that shows its name and methods:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/107fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Right-click on the PickRandomCards project in the Solution Explorer and <strong>choose Add &gt;&gt; Class…</strong> in Windows (or Add &gt;&gt; New Class… in macOS) from the pop-up menu. Visual Studio will prompt you for a class name—choose <em>CardPicker.cs</em>.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/107fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Visual Studio will create a brand-new class in your project called CardPicker:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/107fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Your new class is empty—it starts with class <code><strong>CardPicker</strong></code> and a pair of curly braces, but there’s nothing inside them. <strong>Add a new method called PickSomeCards</strong>. Here’s what your class should look like:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/107fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Finish your PickSomeCards method" data-type="sect1"><div class="sect1" id="finish_your_picksomecards_method">&#13;
<h1>Finish your PickSomeCards method</h1>&#13;
<p><a data-primary="PickRandomCards app" data-secondary="PickSomeCards method" data-type="indexterm" id="idm46402347610856"/><strong>Now do this!</strong></p>&#13;
<ol>&#13;
<li><p><strong><em>Your PickSomeCards method needs a return statement, so let’s add one.</em></strong> Go ahead and fill in the rest of the method—and now that it uses a <code><strong>return</strong></code> statement to return a string array value, the error goes away:</p>&#13;
<pre data-type="programlisting"><span style="color:#9D9EA0;">class CardPicker</span>&#13;
<span style="color:#9D9EA0;">{</span>&#13;
     <span style="color:#9D9EA0;">public static string[] PickSomeCards(int numberOfCards)</span>&#13;
     <span style="color:#9D9EA0;">{</span>&#13;
         string[] pickedCards = new string[numberOfCards];&#13;
         for (int i = 0; i &lt; numberOfCards; i++)&#13;
         {&#13;
              pickedCards[i] = RandomValue() + " of " + RandomSuit();&#13;
         }&#13;
         return pickedCards;&#13;
     <span style="color:#9D9EA0;">}</span>&#13;
<span style="color:#9D9EA0;">}</span></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">You made the red squiggly error underlines go away by returning a value with a type that matches the return type of the method.</span></p>&#13;
</div></li>&#13;
<li><p><strong><em>Generate the missing methods.</em></strong> Your code now has different errors because it doesn’t have RandomValue or RandomSuit methods. Generate these methods just like you did in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a>. Use the Quick Actions icon in the left margin of the code editor—when you click it, you’ll see options to generate both methods:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/108fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Go ahead and generate them. Your class should now have RandomValue and RandomSuit methods:</p>&#13;
<pre data-type="programlisting">class CardPicker&#13;
{&#13;
    public static string[] PickSomeCards(int numberOfCards)&#13;
    {&#13;
        string[] pickedCards = new string[numberOfCards];&#13;
        for (int i = 0; i &lt; numberOfCards; i++)&#13;
        {&#13;
            pickedCards[i] = RandomValue() + " of " + RandomSuit();&#13;
        }&#13;
        return pickedCards;&#13;
    }&#13;
    private static string RandomValue()&#13;
    {&#13;
        throw new NotImplementedException();&#13;
    }&#13;
    private static string RandomSuit()&#13;
    {&#13;
        throw new NotImplementedException();&#13;
    }&#13;
}</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">You used the IDE to generate these methods. It’s OK if they’re not in the same order—the order of the methods in a class doesn’t matter.</span></p>&#13;
</div>&#13;
</li>&#13;
<li><p><a data-primary="return statement" data-type="indexterm" id="idm46402347591096"/><strong><em>Use</em> <em>return</em></strong> <strong><em>statements to build out your RandomSuit and RandomValue methods.</em></strong></p>&#13;
<p>A method can have more than one <code><strong>return</strong></code> statement, and when it executes one of those statements it immediately returns—and <u><em>does not execute</em></u> <em>any more statements in the method</em>.</p>&#13;
<p>Here’s an example of how you could take advantage of return statements in a program. Let’s imagine that you’re building a card game, and you need methods to generate random card suits or values. We’ll start by creating a random number generator, just like we used in the animal matching game in the first chapter. Add it just below the class declaration:</p>&#13;
<pre data-type="programlisting"> <span style="color:#9D9EA0;">class CardPicker</span>&#13;
 <span style="color:#9D9EA0;">{</span>&#13;
     static Random random = new Random();</pre>&#13;
<p>Now add code to your RandomSuit method that takes advantage of <code><strong>return</strong></code> statements to stop executing the method as soon as it finds a match. The random number generator’s Next method can take two parameters: <code><strong>random.Next(1, 5)</strong></code> returns a number that’s at least 1 but <u>less than 5</u> (in other words, a random number from 1 to 4). Your RandomSuit method will use this to choose a random playing card suit:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/109fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Here’s a RandomValue method that generates a random value. See if you can figure out how it works:</p>&#13;
<pre data-type="programlisting">     private static string RandomValue()&#13;
     {&#13;
         int value = random.Next(1, 14);&#13;
         if (value == 1) return "Ace";&#13;
         if (value == 11) return "Jack";&#13;
         if (value == 12) return "Queen";&#13;
         if (value == 13) return "King";&#13;
         return value.ToString();&#13;
     }</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Notice how we’re returning <code>value.ToString()</code> and not just <code>value</code>? That’s because <code>value</code> is an int variable, but the RandomValue method was declared with a string return type, so we need to convert <code>value</code> to a string. You can add <code><strong>.ToString()</strong></code> to any variable or value to convert it to a string.</strong></p>&#13;
</div>&#13;
<blockquote>&#13;
<p>The return statement causes your method to stop <u>immediately</u> and go back to the statement that called it.</p>&#13;
</blockquote></li>&#13;
</ol>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Your finished CardPicker class" data-type="sect1"><div class="sect1" id="your_finished_cardpicker_class">&#13;
<h1>Your finished CardPicker class</h1>&#13;
<p><a data-primary="CardPicker class" data-type="indexterm" id="idm46402347571704"/><a data-primary="fields" data-secondary="about" data-type="indexterm" id="idm46402347570904"/><a data-primary="PickRandomCards app" data-secondary="CardPicker class" data-type="indexterm" id="idm46402347569800"/>Here’s the code for your finished CardPicker class. It should live inside a namespace that matches your project’s name:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/110fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="we_havenapostrophet_talked_about_fields">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/relax.png"/></span> <strong>We haven’t talked about fields much... yet.</strong></h5>&#13;
<p>Your CardPicker class has a <strong>field</strong> called <strong>random</strong>. You’ve seen fields in the animal matching game in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a>, but we still haven’t really worked with them much. Don’t worry—we’ll talk a lot about fields and the <code><strong>static</strong></code> keyword later in the chapter.</p>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-idd0003">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/brainpower.png"/></span> Brain Power</h5>&#13;
<p>You used the <code><strong>public</strong></code> and <code><strong>static</strong></code> keywords when you added PickSomeCards. Visual Studio kept the <code><strong>static</strong></code> keyword when it generated the methods, and declared them as <code><strong>private</strong></code>, not <code><strong>public</strong></code>. What do you think these keywords do?</p>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0010">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> Exercise</h5>&#13;
<p><a data-primary="exercises" data-secondary="filling in Main method" data-type="indexterm" id="idm46402347550856"/><a data-primary="Main method" data-type="indexterm" id="idm46402347549608"/>Now that your CardPicker class has a method to pick random cards, you’ve got everything you need to finish your console app by <strong>filling in the Main method</strong>. You just need a few useful methods to make your console app read a line of input from the user and use it to pick a number of cards.</p>&#13;
<p><strong>Useful method #1: Console.Write</strong></p>&#13;
<p>You’ve already seen the Console.WriteLine method. Here’s its cousin, Console.Write, which writes text to the console but doesn’t add a new line at the end. You’ll use it to display a message to the user:</p>&#13;
<pre data-type="programlisting"> Console.Write("Enter the number of cards to pick: ");</pre>&#13;
<p><strong>Useful method #2: Console.ReadLine</strong></p>&#13;
<p>The Console.ReadLine method reads a line of text from the input and returns a string. You’ll use it to let the user tell you how many cards to pick:</p>&#13;
<pre data-type="programlisting"> string line = Console.ReadLine();</pre>&#13;
<p><strong>Useful method #3: int.TryParse</strong></p>&#13;
<p>Your CardPicker.PickSomeCards method takes an int parameter. The line of input you get from the user is a string, so you’ll need a way to convert it to an int. You’ll use the int.TryParse method for that:</p>&#13;
<pre data-type="programlisting"> if (int.TryParse(line, out int numberOfCards))&#13;
 {&#13;
   <span style="color:#9D9EA0;">// this block is executed if line COULD be converted to an int</span>&#13;
   <span style="color:#9D9EA0;">// value that's stored in a new variable called numberOfCards</span>&#13;
 }&#13;
 else&#13;
 {&#13;
    <span style="color:#9D9EA0;">// this block is executed if line COULD NOT be converted to an int</span>&#13;
 }</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">In <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a> you used the int.TryParse method in your TextBox event handler to make it only accept numbers. Take a minute and have another look at how that event handler works.</span></p>&#13;
</div>&#13;
<p><strong>Put it all together</strong></p>&#13;
<p>Your job is to take these three new pieces and put them together in a brand-new Main method for your console app. Modify your <em>Program.cs</em> file and replace the “Hello World!” line in the Main method with code that does this:</p>&#13;
<ul>&#13;
<li><p>Use Console.Write to ask the user for the number of cards to pick.</p></li>&#13;
<li><p>Use Console.ReadLine to read a line of input into a string variable called <code><strong>line</strong></code>.</p></li>&#13;
<li><p>Use int.TryParse to try to convert it to an int variable called <code><strong>numberOfCards</strong></code>.</p></li>&#13;
<li><p>If the user input <strong><em>could be converted</em></strong> to an int value, use your CardPicker class to pick the number of cards that the user specified: CardPicker.PickSomeCards(numberOfCards). Use a string[] variable to save the results, then use a <code><strong>foreach</strong></code> loop to call Console.WriteLine on each card in the array. Flip back to <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a> to see an example of a <code><strong>foreach</strong></code> loop—you’ll use it to loop through every element of the array. Here’s the first line of the loop:foreach (string card in CardPicker.PickSomeCards(numberOfCards))</p></li>&#13;
<li><p>If the user input <strong><em>could not be converted</em></strong>, use Console.WriteLine to write a message to the user indicating that the number was not valid.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>While you’re working on your program’s Main method, take a look at its return type. What do you think is going on there?</strong></p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0011">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> Exercise Solution</h5>&#13;
<p><strong>Here’s the Main method for your console app.</strong> It prompts the user for the number of cards to pick, attempts to convert it to an int, and then uses the PickSomeCards method in the CardPicker class to pick that number of cards. PickSomeCards returns each of the picked cards in an array of strings, so it uses a <code><strong>foreach</strong></code> loop to write each of them to the console.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">This Main method replaces the one that prints “Hello World!” that Visual Studio created for you in Program.cs.</span></p>&#13;
</div>&#13;
<pre data-type="programlisting">static void Main(string[] args)&#13;
{&#13;
    Console.Write("Enter the number of cards to pick: ");&#13;
    string line = Console.ReadLine();&#13;
    if (int.TryParse(line, out int numberOfCards))&#13;
    {&#13;
        foreach (string card in CardPicker.PickSomeCards(numberOfCards))&#13;
        {&#13;
            Console.WriteLine(card);&#13;
        }&#13;
    }&#13;
    else&#13;
    {&#13;
        Console.WriteLine("Please enter a valid number.");&#13;
    }&#13;
}</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">This foreach loop executes Console.WriteLine(card) for each element in the array returned by PickSomeCards.</span></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Your Main method uses void as the return type to tell C# that it doesn’t return a value. A method with a void return type is not required to have a <code>return</code> statement.</strong></p>&#13;
</div>&#13;
<p>Here’s what it looks like when you run your console app:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/112fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Take the time to <u>really understand</u> how this program works—this is a great opportunity to use the Visual Studio debugger to help you explore your code. Place a breakpoint on the first line of the Main method, then use Step Into (F11) to step through the entire program. Add a watch for the <code>value</code> variable, and keep your eye on it as you step through the RandomSuit and RandomValue methods.</strong></p>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Ana’s working on her next game" data-type="sect1"><div class="sect1" id="anaapostrophes_working_on_her_next_game">&#13;
<h1>Ana’s working on her next game</h1>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/113fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><a data-primary="prototypes" data-type="indexterm" id="idm46402347508872"/>Meet Ana. She’s an indie game developer. Her last game sold thousands of copies, and now she’s getting started on her next one.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/113fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Ana’s started working on some <strong>prototypes</strong>. She’s been working on the code for the alien enemies that the player has to avoid in one exciting part of the game, where the player needs to escape from their hideout while the aliens search for them. Ana’s written several methods that define the enemy behavior: searching the last location the player was spotted, giving up the search after a while if the player wasn’t found, and capturing the player if the enemy gets too close.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/113fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<section data-pdf-bookmark="Ana’s game is evolving…" data-type="sect2"><div class="sect2" id="anaapostrophes_game_is_evolvinghellip">&#13;
<h2>Ana’s game is evolving…</h2>&#13;
<p>The humans versus aliens idea is pretty good, but Ana’s not 100% sure that’s the direction she wants to go in. She’s also thinking about a nautical game where the player has to evade pirates. Or maybe it’s a zombie survival game set on a creepy farm. In all three of those ideas, she thinks the enemies will have different graphics, but their behavior can be driven by the same methods.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/114fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/114fig01a.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/114fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>…so how can Ana make things easier for herself?</strong></p>&#13;
<p>Ana’s not sure which direction the game should go in, so she wants to make a few different prototypes—and she wants them all to have the same code for the enemies, with the SearchForPlayer, StopSearching, SpottedPlayer, CommunicatePlayerLocation, and CapturePlayer methods. She’s got her work cut out for her.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-idd0004">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/brainpower.png"/></span> Brain Power</h5>&#13;
<p>Can you think of a good way for Ana to use the same methods for enemies in different prototypes?</p>&#13;
</div></aside>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/115fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="prototypes">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/game.png"/></span> <strong>Prototypes</strong></h5>&#13;
<p><a data-primary="Game design... and beyond elements" data-secondary="Prototypes" data-type="indexterm" id="idm46402347484440"/><a data-primary="paper prototype" data-type="indexterm" id="idm46402347483288"/><a data-primary="Prototype Game design... and beyond element" data-type="indexterm" id="idm46402347482488"/><strong>Game design... and beyond</strong></p>&#13;
<p>A <strong>prototype</strong> is an early version of your game that you can play, test, learn from, and improve. A prototype can be a really valuable tool to help you make changes early. Prototypes are especially useful because they let you rapidly experiment with a lot of different ideas before you’ve made permanent decisions.</p>&#13;
<ul>&#13;
<li><p>The first prototype is often a <strong>paper prototype</strong>, where you lay out the core elements of the game on paper. For example, you can learn a lot about your game by using sticky notes or index cards for the different elements of the game, and drawing out levels or play areas on large pieces of paper to move them around.</p></li>&#13;
<li><p>One good thing about building prototypes is that they help you <strong>get from an idea to a working, playable game</strong> very quickly. You learn the most about a game (or any kind of program) when you get working software into the hands of your players (or users).</p></li>&#13;
<li><p>Most games will go through <strong>many prototypes</strong>. This is your chance to try out lots of different things and learn from them. If something doesn’t go well, think of it as an experiment, not a mistake.</p></li>&#13;
<li><p>Prototyping is a <strong>skill</strong>, and just like any other skill, <strong><em>you get better at it with practice</em></strong>. Luckily, building prototypes is also fun, and a great way to get better at writing C# code.</p></li>&#13;
</ul>&#13;
<p><strong>Prototypes aren’t just used for games! When you need to build any kind of program, it’s often a great idea to build a prototype first to experiment with different ideas.</strong></p>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Build a paper prototype for a classic game" data-type="sect1"><div class="sect1" id="build_a_paper_prototype_for_a_classic_ga">&#13;
<h1>Build a paper prototype for a classic game</h1>&#13;
<p><a data-primary="HUD (head-up display)" data-type="indexterm" id="idm46402347471864"/><a data-primary="prototypes" data-type="indexterm" id="idm46402347470904"/>Paper prototypes are really useful for helping you figure out how a game will work before you start building it, which can save you a lot of time. There’s a fast way to get started building them—all you need is some paper and a pen or pencil. Start by choosing your favorite classic game. Platform games work especially well, so we chose one of the <strong>most popular, most recognizable</strong> classic video games ever made... but you can choose any game you’d like! Here’s what to do next.</p>&#13;
<p><strong>Draw this!</strong></p>&#13;
<ol>&#13;
<li><p><strong>Draw the background on a piece of paper.</strong> Start your prototype by creating the background. In our prototype, the ground, bricks, and pipe don’t move, so we drew them on the paper. We also added the score, time, and other text at the top.</p></li>&#13;
<li><p><strong>Tear small scraps of paper and draw the moving parts.</strong> In our prototype, we drew the characters, the piranha plant, the mushroom, the fire flower, and the coins on separate scraps. If you’re not an artist, that’s absolutely fine! Just draw stick figures and rough shapes. Nobody else ever has to see this!</p></li>&#13;
<li><p><strong>“Play” the game.</strong> This is the fun part! Try to simulate player movement. Drag the player around the page. Make the non-player characters move too. It helps to spend a few minutes playing the game, then go back to your prototype and see if you can really reproduce the motion as closely as possible. (It will feel a little weird at first, but that’s OK!)</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/116fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</li>&#13;
</ol>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/117fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><a data-primary="exercises" data-secondary="Sharpen your pencil" data-tertiary="building paper prototypes" data-type="indexterm" id="idm46402347461784"/><a data-primary="paper prototype" data-type="indexterm" id="idm46402347460216"/><a data-primary="Sharpen Your Pencil exercises" data-secondary="building paper prototypes" data-type="indexterm" id="idm46402347459480"/><strong>Yes! A paper prototype is a great first step for <u>any</u> project.</strong></p>&#13;
<p>If you’re building a desktop app, a mobile app, or any other project that has a user interface, building a paper prototype is a great way to get started. Sometimes you need to create a few paper prototypes before you get the hang of it. That’s why we started with a paper prototype for a classic game…because that’s a great way to learn how to build paper prototypes. <strong>Prototyping is a really valuable skill for <u>any</u> kind of developer</strong>, not just a game developer.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">All of the tools and ideas in “Game design... and beyond” sections are important programming skills that go way beyond just game development—but we’ve found that they’re easier to learn when you try them with games first.</span></p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0011">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil</h5>&#13;
<p>In the next project, you’ll create a WPF app that uses your CardPicker class to generate a set of random cards. In this paper-and-pencil exercise, you’ll build a paper prototype of your app to try out various design options.</p>&#13;
<p>Start by drawing the window frame on a large piece of paper and a label on a smaller scrap of paper.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/117fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Next, draw a bunch of different types of controls on more small scraps of paper. Drag them around the window and experiment with ways to fit them together. What design do you think works best? There’s no single right answer—there are lots of ways to design any app.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/117fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Up next: build a WPF version of your card picking app" data-type="sect1"><div class="sect1" id="up_next_build_a_wpf_version_of_your_card">&#13;
<h1>Up next: build a WPF version of your card picking app</h1>&#13;
<p><a data-primary="PickRandomCards app" data-secondary="creating a WPF version of" data-type="indexterm" id="idm46402347442392"/><a data-primary="WPF (Windows Presentation Foundation)" data-type="indexterm" id="idm46402347441672"/>In the next project, you’ll build a WPF app called PickACardUI. Here’s what it will look like:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/118fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Your PickACardUI app will let you use a Slider control to choose the number of random cards to pick. When you’ve selected the number of cards, you’ll click a button to pick them and add them to a ListBox.</p>&#13;
<p>Here’s how the window will be laid out:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/118fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>We won’t keep reminding you to add your projects to source control—but we still think it’s a really good idea to create a GitHub account and publish all of your projects to it!</strong></p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/118fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">There are ASP.NET Core versions of all of the WPF projects in this book that feature screenshots from Visual Studio for Mac.</span></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Go to the <span style="color:#9D9EA0;">Visual Studio for Mac Learner’s Guide</span> for the Mac version of this project.</strong></p>&#13;
</div>&#13;
</div></section>&#13;
<section data-pdf-bookmark="A StackPanel is a container that stacks other controls" data-type="sect1"><div class="sect1" id="a_stackpanel_is_a_container_that_stacks">&#13;
<h1>A StackPanel is a container that stacks other controls</h1>&#13;
<p><a data-primary="PickRandomCards app" data-secondary="StackPanel control" data-type="indexterm" id="idm46402347427320"/><a data-primary="StackPanel control" data-type="indexterm" id="idm46402347425752"/>Your WPF app will use a Grid to lay out its controls, just like you used in your matching game. Before you start writing code, let’s take a closer look at the two controls in the upper-left cell of the grid:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/119fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>So how do we stack them on top of each other like that? We <strong><em>could</em></strong> try putting them in the same cell in the grid:</p>&#13;
<pre data-type="programlisting">   <strong>&lt;Grid&gt;</strong>&#13;
       &lt;<strong>Label</strong> HorizontalAlignment="<em>Center</em>" VerticalAlignment="<em>Center</em>" Margin="<em>20</em>"&#13;
           Content="How many cards should I pick?" FontSize="20"/&gt;&#13;
       &lt;<strong>Slider</strong> VerticalAlignment="<em>Center</em>" Margin="<em>20</em>"&#13;
           Minimum="1" Maximum="15" Foreground="Black"&#13;
           IsSnapToTickEnabled="True" TickPlacement="BottomRight" /&gt;&#13;
   <strong>&lt;/Grid&gt;</strong></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">This is XAML for a Slider control. We’ll take a closer look at it when you put your form together.</span></p>&#13;
</div>&#13;
<p>But that just causes them to overlap each other:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/119fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>That’s where a <strong>StackPanel control</strong> comes in handy. A StackPanel is a container control—like a Grid, its job is to contain other controls and make sure they go in the right place in the window. While the Grid lets you arrange controls in rows and columns, a StackPanel lets you arrange controls <strong><em>in a horizontal or vertical stack</em></strong>.</p>&#13;
<p>Let’s take the same Label and Slider controls, but this time use a StackPanel to lay them out so the Label is stacked on top of the Slider. Notice that we moved the alignment and margin properties to the StackPanel—we want the panel itself to be centered, with a margin around it:</p>&#13;
<pre data-type="programlisting"> &lt;<strong>StackPanel</strong> HorizontalAlignment="<em>Center</em><strong>"</strong> VerticalAlignment="<em>Center</em><strong>"</strong> Margin="<em>20</em><strong>"</strong> &gt;&#13;
     &lt;<strong>Label</strong> Content="<em>How many cards should I pick?</em><strong>"</strong> FontSize="<em>20</em><strong>"</strong> /&gt;&#13;
     &lt;<strong>Slider</strong> Minimum="<em>1</em><strong>"</strong> Maximum="<em>15</em><strong>"</strong> Foreground="<em>Black</em><strong>"</strong> IsSnapToTickEnabled="<em>True</em><strong>"</strong> TickPlacement="<em>BottomRight</em><strong>"</strong> /&gt;&#13;
 &lt;/<strong>StackPanel</strong>&gt;</pre>&#13;
<p>The StackPanel will make the controls in the cell look the way we want them to:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/119fig05.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<blockquote>&#13;
<p><strong><em>So that’s how the project will work. Now let’s get started building it!</em></strong></p>&#13;
</blockquote>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Reuse your CardPicker class in a new WPF app" data-type="sect1"><div class="sect1" id="reuse_your_cardpicker_class_in_a_new_wpf">&#13;
<h1><u>Reuse</u> your CardPicker class in a new WPF app</h1>&#13;
<p><a data-primary="CardPicker class" data-type="indexterm" id="idm46402347389800"/><a data-primary="PickRandomCards app" data-secondary="reusing CardPicker class in" data-type="indexterm" id="idm46402347388904"/>If you’ve written a class for one program, you’ll often want to use the same behavior in another. That’s why one of the big advantages of using classes is that they make it easier to <strong>reuse</strong> your code. Let’s give your card picker app a shiny new user interface, but keep the same behavior by reusing your CardPicker class.</p>&#13;
<p><strong><em>Reuse this!</em></strong></p>&#13;
<ol>&#13;
<li><p><strong>Create a new WPF app called PickACardUI.</strong></p>&#13;
<p>You’ll follow exactly the same steps that you used to create your animal matching game in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a>:</p>&#13;
<ul>&#13;
<li><p>Open Visual Studio and create a new project.</p></li>&#13;
<li><p>Select <strong>WPF App (.NET Core)</strong>.</p></li>&#13;
<li><p>Name your new app <strong>PickACardUI</strong>. Visual Studio will create the project, adding <em>MainWindow.xaml</em> and <em>MainWindow.xaml.cs</em> files that have the namespace PickACardUI.</p></li>&#13;
</ul></li>&#13;
<li><p><strong>Add the CardPicker class that you created for your Console App project.</strong></p>&#13;
<p>Right-click on the project name and choose <strong>Add &gt;&gt; Existing Item…</strong> from the menu.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/120fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Navigate to the folder with your console app and select <em>CardPicker.cs</em> to add it to your project. Your WPF project should now have a copy of the <em>CardPicker.cs</em> file from your console app.</p></li>&#13;
<li><p><strong>Change the namespace for the CardPicker class.</strong></p>&#13;
<p><strong>Double-click on <em>CardPicker.cs</em></strong> in the Solution Explorer. It still has the namespace from the console app. <strong>Change the namespace</strong> to match your project name. The IntelliSense pop-up will suggest the namespace PickACardUI—<strong>press Tab to accept the suggestion</strong>:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/120fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Now your CardPicker class should be in the PickACardUI namespace:</p>&#13;
<pre data-type="programlisting">namespace PickACardUI&#13;
{&#13;
    class CardPicker&#13;
    {</pre>&#13;
<p><strong><em>Congratulations, you’ve reused your CardPicker class!</em></strong> You should see the class in the Solution Explorer, and you’ll be able to use it in the code for your WPF app.</p></li>&#13;
</ol>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Use a Grid and StackPanel to lay out the main window" data-type="sect1"><div class="sect1" id="use_a_grid_and_stackpanel_to_lay_out_the">&#13;
<h1>Use a Grid and StackPanel to lay out the main window</h1>&#13;
<p><a data-primary="grid (XAML)" data-secondary="using to lay out main window" data-type="indexterm" id="idm46402347368184"/><a data-primary="PickRandomCards app" data-secondary="using grids and StackPanel controls to lay out main window" data-type="indexterm" id="idm46402347366856"/><a data-primary="StackPanel control" data-type="indexterm" id="idm46402347365880"/>Back in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a> you used a Grid to lay out your animal matching game. Take a few minutes and flip back through the part of the chapter where you laid out the grid, because you’re going to do the same thing to lay out your window.</p>&#13;
<ol>&#13;
<li><p><strong>Set up the rows and columns.</strong> Follow the same steps from <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a> to <strong>add two rows and two columns</strong> to your grid. If you get the steps right, you should see these row and column definitions just below the <code><strong>&lt;Grid&gt;</strong></code> tag in the XAML:</p>&#13;
<pre data-type="programlisting"> &lt;<strong>Grid.RowDefinitions</strong>&gt;&#13;
     &lt;<strong>RowDefinition</strong>/&gt;&#13;
     &lt;<strong>RowDefinition</strong>/&gt;&#13;
 &lt;/<strong>Grid.RowDefinitions</strong>&gt;&#13;
 &lt;<strong>Grid.ColumnDefinitions</strong>&gt;&#13;
     &lt;<strong>ColumnDefinition</strong>/&gt;&#13;
     &lt;<strong>ColumnDefinition</strong>/&gt;&#13;
 &lt;/<strong>Grid.ColumnDefinitions</strong>&gt;</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">You can use the Visual Studio designer to add two equal rows and two equal columns. If you run into trouble, you can just type the XAML directly into the editor.</span></p>&#13;
</div></li>&#13;
<li><p><strong>Add the StackPanel.</strong> It’s a little difficult to work with an empty StackPanel in the visual XAML designer because it’s hard to click on, so we’ll do this in the XAML code editor. <strong>Double-click on StackPanel in the Toolbox</strong> to add an empty StackPanel to the grid. You should see:</p>&#13;
<pre data-type="programlisting">       <span style="color:#9D9EA0;">&lt;/Grid.ColumnDefinitions&gt;</span>&#13;
&#13;
       &lt;StackPanel/&gt;&#13;
&#13;
    <span style="color:#9D9EA0;">&lt;/Grid&gt;</span>&#13;
&#13;
<span style="color:#9D9EA0;">&lt;/Window&gt;</span></pre>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/121fig02.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><strong>Set the StackPanel’s properties.</strong> When you double-clicked on StackPanel in the Toolbox, it added <strong><em>a StackPanel with no properties</em></strong>. By default it’s in the upper-left cell in the grid, so now we just want to set its alignment and margin. <strong>Click on the StackPanel tag <em>in the XAML editor</em></strong> to select it. Once it’s selected in the code editor, you’ll see its properties in the Properties window. Set the vertical and horizontal alignment to <code><strong>Center</strong></code> and all of the margins to <code><strong>20</strong></code>.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/121fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>You should now have a StackPanel like this in your XAML code:</p>&#13;
<pre data-type="programlisting">&lt;<strong>StackPanel</strong> HorizontalAlignment="<em>Center</em>" VerticalAlignment="<em>Center</em>" Margin="<em>20</em>" /&gt;</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>This means all of the margins are set to 20. You might also see the Margin property set to “20, 20, 20, 20”—it means the same thing.</p>&#13;
</div>&#13;
</li>&#13;
</ol>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Lay out your Card Picker desktop app’s window" data-type="sect1"><div class="sect1" id="lay_out_your_card_picker_desktop_appapos">&#13;
<h1>Lay out your Card Picker desktop app’s window</h1>&#13;
<p><a data-primary="PickRandomCards app" data-secondary="laying out desktop window for" data-type="indexterm" id="idm46402347336152"/>Lay out your new card picker app’s window so it has the user controls on the left and displays the picked cards on the right. You’ll use a <strong>StackPanel</strong> in the upper-left cell. It’s a <strong>container</strong>, which means it contains other controls, just like a Grid. But instead of laying the controls out in cells, it stacks them either horizontally or vertically. Once your StackPanel is laid out with a Label and Slider, you’ll add ListBox control, just like the one you used in <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a>.</p>&#13;
<ol>&#13;
<li><p><strong>Add a Label and Slider to your StackPanel.</strong></p>&#13;
<p><strong><em>Design this!</em></strong></p>&#13;
<p>A StackPanel is a container. When a StackPanel doesn’t contain any other controls, <em>you can’t see it in the designer</em>, which makes it hard to drag controls onto it. Luckily, it’s just as fast to add controls to it as it is to set its properties. <strong>Click on the StackPanel to select it.</strong></p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/122fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>While the StackPanel is selected, <strong>double-click on Label in the Toolbox</strong> to put a new Label control <em>inside the StackPanel</em>. The Label will appear in the designer, and a <code><strong>Label</strong></code> tag will appear in the XAML code editor.</p>&#13;
<p>Next, expand the <em>All WPF Controls</em> section in the Toolbox and <strong>double-click on Slider</strong>. Your upper-left cell should now have a StackPanel that contains a Label stacked on top of a Slider.</p>&#13;
</li>&#13;
<li><p><strong>Set the properties for the Label and Slider controls.</strong></p>&#13;
<p>Now that your StackPanel has a Label and a Slider, you just need to set their properties:</p>&#13;
<ul>&#13;
<li><p>Click on the Label in the designer. Expand the Common section in the Properties window and set its content to <code><strong>How many cards should I pick?</strong></code>—then expand the Text section and set its font size to <code><strong>20px</strong></code>.</p></li>&#13;
<li><p>Press Escape to deselect the Label, then <strong>click on the Slider in the designer</strong> to select it. Use the Name box at the top of the Properties window to change its name to <code><strong>numberOfCards</strong></code>.</p></li>&#13;
<li><p>Expand the Layout section and use the square (<span class="inlineimage"><img alt="Images" src="assets/122fig02.png"/></span>) to reset the width.</p></li>&#13;
<li><p>Expand the Common section and set its Maximum property to <code><strong>15</strong></code>, Minimum to <code><strong>1</strong></code>, AutoToolTipPlacement to <code><strong>TopLeft</strong></code>, and TickPlacement to <code><strong>BottomRight</strong></code>. Then click the caret (<span class="inlineimage"><img alt="Images" src="assets/122fig03.png"/></span>) to expand the Layout section and expose additional properties, including the IsSnapToTickEnabled property. Set it to <code><strong>True</strong></code>.</p></li>&#13;
<li><p>Let’s make ticks a little easier to see. Expand the Brush section in the Properties window and <strong>click on the large rectangle to the right of Foreground</strong>—this will let you use the color selector to choose the foreground color for the slider. Click in the R box and set it to <code><strong>0</strong></code>, then set G and B to <code><strong>0</strong></code> as well. The Foreground box should now be black, and the tick marks under the slider should be black.</p></li>&#13;
</ul>&#13;
<p>The XAML should look like this—if you’re having trouble with the designer, just edit the XAML directly:</p>&#13;
<pre data-type="programlisting">&lt;<strong>StackPanel</strong> HorizontalAlignment="<em>Center</em><strong>"</strong> VerticalAlignment="<em>Center</em><strong>"</strong> Margin="<em>20</em><strong>"&gt;</strong>&#13;
    &lt;<strong>Label</strong> Content="<em>How many cards should I pick?</em><strong>"</strong> FontSize="<em>20</em><strong>"/&gt;</strong>&#13;
    &lt;<strong>Slider</strong> x:Name="<em>numberOfCards</em><strong>"</strong> Minimum="<em>1</em><strong>"</strong> Maximum="<em>15</em><strong>"</strong> TickPlacement="<em>BottomRight</em><strong>"</strong> IsSnapToTickEnabled="<em>True</em><strong>"</strong> AutoToolTipPlacement="<em>TopLeft</em><strong>"</strong> Foreground="<em>Black</em><strong>"/&gt;</strong>&#13;
&lt;<strong>/StackPanel&gt;</strong></pre></li>&#13;
<li><p><strong>Add a Button to the lower-left cell.</strong></p>&#13;
<p>Drag a Button out of the toolbox and into the lower-left cell of the grid and set its properties:</p>&#13;
<ul>&#13;
<li><p>Expand the Common section and set its Content property to <code><strong>Pick some cards</strong></code>.</p></li>&#13;
<li><p>Expand the Text section and set its font size to <code><strong>20px</strong></code>.</p></li>&#13;
<li><p>Expand the Layout section. Reset its margins, width, and height. Then set its vertical and horizontal alignment to <code><strong>Center</strong></code> (<span class="inlineimage"><img alt="Images" src="assets/123fig01.png"/></span> and <span class="inlineimage"><img alt="Images" src="assets/123fig02.png"/></span>).</p>&#13;
<p>The XAML for your Button control should look like this:</p>&#13;
<pre data-type="programlisting">&lt;<strong>Button</strong> Grid.Row="<em>1</em><strong>"</strong> Content="<em>Pick some cards</em><strong>"</strong> FontSize="<em>20</em><strong>"</strong>&#13;
        HorizontalAlignment="<em>Center</em><strong>"</strong> VerticalAlignment="<em>Center</em><strong>"</strong> /&gt;</pre></li>&#13;
</ul></li>&#13;
<li><p><strong>Add a ListBox that fills the right half of the window by spanning two rows.</strong></p>&#13;
<p>Drag a ListBox control into the upper-right cell and set its properties:</p>&#13;
<ul>&#13;
<li><p>Use the Name box at the top of the Properties window to set the ListBox’s name to <code><strong>listOfCards</strong></code>.</p></li>&#13;
<li><p>Expand the Text section and set its font size to <code><strong>20px</strong></code>.</p></li>&#13;
<li><p>Expand the Layout section. Set its margins to <code><strong>20</strong></code>, just like you did with the StackPanel control. Make sure its width, height, horizontal alignment, and vertical alignment are reset.</p></li>&#13;
<li><p>Make sure Row is set to 0 and Column is set to 1. Then <strong>set the RowSpan to 2</strong> so that the ListBox takes up the entire column and stretches across both rows:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/123fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>The XAML for your ListBox control should look like this:</p>&#13;
<pre data-type="programlisting">&lt;<strong>ListBox</strong> x:Name="<em>listOfCards</em>" Grid.Column="<em>1</em>" Grid.RowSpan="<em>2</em>"&#13;
         FontSize="<em>20</em>" Margin="20,20,20,20"/&gt;</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">It’s OK if this value is just “20” instead of “20, 20, 20, 20”—that means the same thing.</span></p>&#13;
</div></li>&#13;
</ul></li>&#13;
<li><p><strong>Set the window title and size.</strong></p>&#13;
<p>When you create a new WPF app, Visual Studio creates a main window that’s 450 pixels wide and 800 pixels tall with the title “Main Window.” Let’s resize it, just like you did with the animal matching game:</p>&#13;
<ul>&#13;
<li><p>Click on the window’s title bar in the designer to select the window.</p></li>&#13;
<li><p>Use the Layout section to set the width to <code><strong>300</strong></code>.</p></li>&#13;
<li><p>Use the Common section to set the title to <code><strong>Card Picker</strong></code>.</p></li>&#13;
</ul>&#13;
<p>Scroll to the top of the XAML editor and look at the last line of the <code><strong>Window</strong></code> tag. You should see these properties:</p>&#13;
<pre data-type="programlisting">                Title="<em>Card Picker</em>" Height="<em>300</em>" Width="<em>800</em>"</pre></li>&#13;
<li><p><a data-primary="code-behind" data-type="indexterm" id="idm46402347252920"/><a data-primary="return statement" data-type="indexterm" id="idm46402347251592"/><a data-primary="return type" data-type="indexterm" id="idm46402347250856"/><a data-primary="void return type" data-type="indexterm" id="idm46402347250008"/><strong>Add a Click event handler to your Button control.</strong></p>&#13;
<p>The <strong>code-behind</strong>—tthe C# code in <em>MainWindow.xaml.cs</em> that’s joined to your XAML—consists of a single method. Double-click on the button in the designer—the IDE will add a method called Button_Click and make it the Click event handler, just like it did in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a>. Here’s the code for your new method:</p>&#13;
<pre data-type="programlisting"><span style="color:#9D9EA0;">private void Button_Click(object sender, RoutedEventArgs e)</span>&#13;
<span style="color:#9D9EA0;">{</span>&#13;
    string[] pickedCards = CardPicker.PickSomeCards((int)numberOfCards.Value);&#13;
    listOfCards.Items.Clear();&#13;
    foreach (string card in pickedCards)&#13;
    {&#13;
        listOfCards.Items.Add(card);&#13;
    }&#13;
<span style="color:#9D9EA0;">}</span></pre>&#13;
<blockquote>&#13;
<p>The C# code joined to your XAML window that contains the event handlers is called the <span style="color:#9D9EA0;"><u>code-behind</u></span>.</p>&#13;
</blockquote>&#13;
<p><strong>Now run your app.</strong> Use the slider to choose the number of random cards to pick, then press the button to add them to the ListBox. <strong><em>Nice work!</em></strong></p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/124fig02.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
</ol>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-idd0005">&#13;
<h5>Bullet Points</h5>&#13;
<ul>&#13;
<li><p>Classes have methods that contain statements that perform actions. Well-designed classes have sensible method names.</p></li>&#13;
<li><p>Some methods have a <strong>return type</strong>. You set a method’s return type in its declaration. A method with a declaration that starts with the <code><strong>int</strong></code> keyword returns an int value. Here’s an example of a statement that returns an int value: <code><strong>return 37;</strong></code></p></li>&#13;
<li><p>When a method has a return type, it <strong>must</strong> have a <code><strong>return</strong></code> statement that returns a value that matches a return type. So if a method declaration has the string return type then you need a <code><strong>return</strong></code> statement that returns a string.</p></li>&#13;
<li><p>As soon as a <code><strong>return</strong></code> statement in a method executes, your program jumps back to the statement that called the method.</p></li>&#13;
<li><p>Not all methods have a return type. A method with a declaration that starts <code><strong>public void</strong></code> doesn’t return anything at all. You can still use a <code><strong>return</strong></code> statement to exit a void method, as in this example: <code><strong>if</strong></code> <code><strong>(finishedEarly)</strong></code> <code><strong>{ return; }</strong></code></p></li>&#13;
<li><p>Developers often want to <strong>reuse</strong> the same code in multiple programs. Classes can help you make your code more reusable.</p></li>&#13;
<li><p>When you <strong>select a control</strong> in the XAML code editor, you can edit its properties in the Properties window.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
<section data-pdf-bookmark="Ana’s prototypes look great…" data-type="sect2"><div class="sect2" id="anaapostrophes_prototypes_look_greathell">&#13;
<h2>Ana’s prototypes look great…</h2>&#13;
<p><a data-primary="code" data-secondary="copying" data-type="indexterm" id="idm46402347223256"/>Ana found out that whether her player was being chased by an alien, a pirate, a zombie, or an evil killer clown, she could use the same methods from her Enemy class to make them work. Her game is starting to shape up.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/125fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="…but what if she wants more than one enemy?" data-type="sect2"><div class="sect2" id="hellipbut_what_if_she_wants_more_than_on">&#13;
<h2>…but what if she wants more than one enemy?</h2>&#13;
<p>And that’s great…until Ana wants more than one enemy, which is all there was in each of her early prototypes. What should she do to add a second or third enemy to her game?</p>&#13;
<p>Ana <em>could</em> copy the Enemy class code and paste it into two more class files. Then her program could use methods to control three different enemies at once. Technically, we’re reusing the code…right?</p>&#13;
<p>Hey Ana, what do you think of that idea?</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/125fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/125fig02a.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Maintaining three copies of the same code is really messy.</strong></p>&#13;
<p>A lot of problems you have to solve need a way to represent one <strong><em>thing</em></strong> a bunch of different times. In this case, it’s an enemy in a game, but it could be songs in a music player app, or contacts in a social media app. Those all have one thing in common: they always need to treat the same kind of thing in the same way, no matter how many of that thing they’re dealing with. Let’s see if we can find a better solution.</p>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Ana can use objects to solve her problem" data-type="sect1"><div class="sect1" id="ana_can_use_objects_to_solve_her_problem">&#13;
<h1>Ana can use <u>objects</u> to solve her problem</h1>&#13;
<p><a data-primary="new keyword" data-secondary="about" data-type="indexterm" id="idm46402347209864"/><a data-primary="objects" data-secondary="using to program Enemy class (example)" data-type="indexterm" id="idm46402347208856"/><strong>Objects</strong> are C#’s tool that you use to work with a bunch of similar things. Ana can use objects to program her Enemy class just once, and use it <em>as many times as she wants</em> in a program.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/126fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="You use a class to build an object" data-type="sect1"><div class="sect1" id="you_use_a_class_to_build_an_object">&#13;
<h1>You use a <u>class</u> to build an <u>ob</u>j<u>ect</u></h1>&#13;
<p><a data-primary="classes" data-secondary="using to build objects" data-type="indexterm" id="idm46402347202728"/><a data-primary="methods" data-secondary="object" data-type="indexterm" id="idm46402347201752"/><a data-primary="new statements" data-type="indexterm" id="idm46402347200776"/><a data-primary="objects" data-secondary="building from classes" data-type="indexterm" id="idm46402347200040"/>A class is like a blueprint for an object. If you wanted to build five identical houses in a suburban housing development, you wouldn’t ask an architect to draw up five identical sets of blueprints. You’d just use one blueprint to build five houses.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/127fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<blockquote>&#13;
<p><strong>A class defines its members, just like a blueprint defines the layout of the house. You can use one blueprint to make any number of houses, and you can use one class to make any number of objects.</strong></p>&#13;
</blockquote>&#13;
<section data-pdf-bookmark="An object gets its methods from its class" data-type="sect2"><div class="sect2" id="an_object_gets_its_methods_from_its_clas">&#13;
<h2>An object gets its methods from its class</h2>&#13;
<p>Once you build a class, you can create as many objects as you want from it using the <code><strong>new</strong></code> statement. When you do this, every method in your class becomes part of the object.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/127fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="When you create a new object from a class, it’s called an instance of that class" data-type="sect1"><div class="sect1" id="when_you_create_a_new_object_from_a_clas">&#13;
<h1>When you create a new object from a class, it’s called an <u>instance</u> of that class</h1>&#13;
<p><a data-primary="instances" data-secondary="defined" data-type="indexterm" id="idm46402347190664"/>You use the <strong><code>new</code> keyword</strong> to create an object. All you need is a variable to use with it. Use the class as the variable type to declare the variable, so instead of int or bool, you’ll use a class like House or Enemy.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>in-stance, noun.</p>&#13;
<p>an example or one occurrence of something. <em>The IDE search-andreplace feature finds every <strong>instance</strong> of a word and changes it to another.</em></p>&#13;
</div>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/128fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/128fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Yes! You’ve already created instances in your own code.</strong></p>&#13;
<p>Go back to your animal matching program and look for this line of code:</p>&#13;
<pre data-type="programlisting"> Random random = new Random();</pre>&#13;
<p>You created an instance of the Random class, and then you called its Next method. Now look at your CardPicker class and find the <code><strong>new</strong></code> statement. You’ve been using objects this whole time!</p>&#13;
</div></section>&#13;
<section data-pdf-bookmark="A better solution for Ana…brought to you by objects" data-type="sect1"><div class="sect1" id="a_better_solution_for_anahellipbrought_t">&#13;
<h1>A better solution for Ana…brought to you by objects</h1>&#13;
<p>Ana used objects to reuse the code in the Enemy class without all that messy copying that would’ve left duplicate code all over her project. Here’s how she did it.</p>&#13;
<ol>&#13;
<li><p>Ana created a Level class that stored the enemies in an <strong>Enemy array</strong> called <code><strong>enemies</strong></code>, just like you used string arrays to store cards and animal emoji.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/129fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</li>&#13;
<li><p>She used a loop that called <code><strong>new</strong></code> statements to create new instances of the Enemy class for the level and add them to an array of enemies.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/129fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</li>&#13;
<li><p>She called methods of each Enemy instance during every frame update to implement the enemy behavior.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/129fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</li>&#13;
</ol>&#13;
<p><strong>When you create a new instance of a class, it’s called <span style="color:#9D9EA0;"><u>instantiating</u></span> that class.</strong></p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/130fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>That’s right, we didn’t.</strong></p>&#13;
<p>Some game prototypes are really simple, while others are much more complicated—but complicated programs <strong><em>follow the same patterns</em></strong> as simple ones. Ana’s game program is an example of how someone would use objects in real life. And this doesn’t just apply to game development! No matter what kind of program you’re building, you’ll use objects in exactly the same way that Ana did in her game. Ana’s example is just the starting point for getting this concept into your brain. We’ll give you <strong><em>lots more examples</em></strong> over the rest of the chapter—and this concept is so important that we’ll revisit it in future chapters, too.</p>&#13;
<section data-pdf-bookmark="Theory and practice" data-type="sect2"><div class="sect2" id="theory_and_practice">&#13;
<h2>Theory and practice</h2>&#13;
<p>Speaking of patterns, here’s a pattern that you’ll see over and over again throughout the book. We’ll introduce a concept or idea (like objects) over the course of a few pages, using pictures and short code excerpts to demonstrate the idea. This is your opportunity to take a step back and try to understand what’s going on without having to worry about getting a program to work.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/130fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0012">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil</h5>&#13;
<p>Now that you’ve got a better idea of how objects work, it’s a great time to go back to your CardPicker class and get to know the Random class that you’re using.</p>&#13;
<p>1. Put your cursor inside of any of the methods, press Enter to start a new statement, then type <code><strong>random.</strong></code>—as soon as you type the period, Visual Studio will pop up an IntelliSense window that shows its methods. Each method is marked with a cube icon (<span class="inlineimage"><img alt="Images" src="assets/131fig01.png"/></span>). We filled in some of the methods. Finish filling in the class diagram for the Random class.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/131fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>2. Write code to create a new array of doubles called <code><strong>randomDoubles</strong></code>, then use a <code>for</code> loop to add 20 double values to that array. You should only add random floating-point numbers that are greater than or equal to 0.0, and less than 1.0. Use the IntelliSense pop-up to help you choose the right method from the Random class to use in your code.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/131fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0013">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil Solution</h5>&#13;
<p><a data-primary="exercises" data-secondary="Sharpen your pencil" data-tertiary="Random class" data-type="indexterm" id="idm46402347146568"/><a data-primary="IntelliSense window" data-type="indexterm" id="idm46402347145352"/><a data-primary="Random class" data-type="indexterm" id="idm46402347144616"/><a data-primary="Sharpen Your Pencil exercises" data-secondary="Random class" data-type="indexterm" id="idm46402347143880"/>Now that you’ve got a better idea of how objects work, it’s a great time to go back to your CardPicker class and get to know the Random class that you’re using.</p>&#13;
<p>1. Put your cursor inside of any of the methods, press Enter to start a new statement, then type <code><strong>random.</strong></code>—as soon as you type the period, Visual Studio will pop up an IntelliSense window that shows its methods. Each method is marked with a cube icon (<span class="inlineimage"><img alt="Images" src="assets/131fig01.png"/></span>). We filled in some of the methods. Finish filling in the class diagram for the Random class.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/132fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>2. Write code to create a new array of doubles called <code><strong>randomDoubles</strong></code>, then use a <code>for</code> loop to add 20 double values to that array. You should only add random floating-point numbers that are greater than or equal to 0.0, and less than 1.0. Use the IntelliSense pop-up to help you choose the right method from the Random class to use in your code.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/132fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="An instance uses fields to keep track of things" data-type="sect1"><div class="sect1" id="an_instance_uses_fields_to_keep_track_of">&#13;
<h1>An instance uses <u>fields</u> to keep track of things</h1>&#13;
<p><a data-primary="behavior, of objects" data-type="indexterm" id="idm46402347132984"/><a data-primary="class diagrams" data-type="indexterm" id="idm46402347131752"/><a data-primary="fields" data-secondary="instances and" data-type="indexterm" id="idm46402347131016"/><a data-primary="instances" data-secondary="fields and" data-type="indexterm" id="idm46402347130040"/><a data-primary="instantiation" data-type="indexterm" id="idm46402347129064"/><a data-primary="objects" data-secondary="behavior of" data-type="indexterm" id="idm46402347128328"/>You’ve seen how classes can contain fields as well as methods. We just saw how you used the <code><strong>static</strong></code> keyword to declare a field in your CardPicker class:</p>&#13;
<pre data-type="programlisting"> static Random random = new Random();</pre>&#13;
<p>What happens if you take away that <code><strong>static</strong></code> keyword? Then the field becomes an <strong>instance field</strong>, and every time you <u>instantiate</u> the class the new instance that was created <em>gets its own copy</em> of that field.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Sometimes people think the word “instantiate” sounds a little weird, but it makes sense when you think about what it means.</span></p>&#13;
</div>&#13;
<p>When we want to include fields a class diagram, we’ll draw a horizontal line in the box. The fields go above the line, and methods go below the line.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/133fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<section data-pdf-bookmark="Methods are what an object does. Fields are what the object knows." data-type="sect2"><div class="sect2" id="methods_are_what_an_object_doesdot_field">&#13;
<h2>Methods are what an object <u>does</u>. Fields are what the object <u>knows</u>.</h2>&#13;
<p>When Ana’s prototype created three instances of her Enemy class, each of those objects was used to keep track of a different enemy in the game. Every instance keeps separate copies of the same data: setting a field on the enemy2 instance won’t have any effect on the enemy1 or enemy3 instances.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/133fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<blockquote>&#13;
<p>An object’s behavior is defined by its methods, and it uses fields to keep track of its state.</p>&#13;
</blockquote>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/134fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><a data-primary="classes" data-secondary="static" data-type="indexterm" id="idm46402347114568"/><a data-primary="instances" data-secondary="requirement for, versus static methods" data-type="indexterm" id="idm46402347110344"/><a data-primary="static keyword" data-type="indexterm" id="idm46402347109304"/><a data-primary="static methods" data-type="indexterm" id="idm46402347108504"/><strong>Yes! That’s why you used the <code><strong>static</strong></code> keyword in your declarations.</strong></p>&#13;
<p>Take another look at the first few lines of your CardPicker class:</p>&#13;
<pre data-type="programlisting">class CardPicker&#13;
{&#13;
    <u>static</u> Random random = new Random();&#13;
    public <u>static</u> string PickSomeCards(int numberOfCards)</pre>&#13;
<p>When you use the <code><strong>static</strong></code> keyword to declare a field or method in a class, you don’t need an instance of that class to access it. You just called your method like this:</p>&#13;
<pre data-type="programlisting">    CardPicker.PickSomeCards(numberOfCards)</pre>&#13;
<p>That’s how you call static methods. If you take away the <code><strong>static</strong></code> keyword from the PickSomeCards method declaration, then you’ll have to create an instance of CardPicker in order to call the method. Other than that distinction, static methods are just like object methods: they can take arguments, they can return values, and they live in classes.</p>&#13;
<p>When a field is static <strong>there’s only one copy of it, and it’s <u>shared</u> by all instances</strong>. So if you created multiple instances of CardPicker, they would all share the same <em>random</em> field. You can even mark your <strong>whole class</strong> as static, and then all of its members <strong>must</strong> be static too. If you try to add a nonstatic method to a static class, your program won’t build.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-idd0006">&#13;
<h5>there are no Dumb Questions</h5>&#13;
<p><strong>Q: When I think of something that’s “static” I think of something that doesn’t change. Does that mean nonstatic methods can change, but static methods don’t? Do they behave differently?</strong></p>&#13;
<p><strong>A:</strong> No, both static and nonstatic methods act exactly the same. The only difference is that static methods don’t require an instance, while nonstatic methods do.</p>&#13;
<p><strong>Q: So I can’t use my class until I create an instance of an object?</strong></p>&#13;
<p><strong>A:</strong> You can use its static methods, but if you have methods that aren’t static, then you need an instance before you can use them.</p>&#13;
<p><strong>Q: Then why would I want a method that needs an instance? Why wouldn’t I make all my methods static?</strong></p>&#13;
<p><strong>A:</strong> Because if you have an object that’s keeping track of certain data—like Ana’s instances of her Enemy class that each kept track of different enemies in her game—then you can use each instance’s methods to work with that data. So when Ana’s game calls the StopSearching method on the enemy2 instance, it only causes that one enemy to stop searching for the player. It doesn’t affect the enemy1 or enemy3 objects, and they can keep searching. That’s how Ana can create game prototypes with any number of enemies, and her programs can keep track of all of them at once.</p>&#13;
</div></aside>&#13;
<blockquote>&#13;
<p>When a field is static, there’s only one copy of it shared by all instances.</p>&#13;
</blockquote>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0014">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil</h5>&#13;
<p><a data-primary="* (asterisk) operator" data-type="indexterm" id="idm46402347088504"/><a data-primary="Clown class exercise" data-type="indexterm" id="idm46402347087448"/><a data-primary="clowns" data-type="indexterm" id="idm46402347086680"/><a data-primary="exercises" data-secondary="Sharpen your pencil" data-tertiary="Clown class" data-type="indexterm" id="idm46402347085944"/><a data-primary="Sharpen Your Pencil exercises" data-secondary="Clown class" data-type="indexterm" id="idm46402347084520"/>Here’s a .NET console app that writes several lines to the console. It includes a class called Clown that has two fields, Name and Height, and a method called TalkAboutYourself. Your job is to read the code and write down the lines that are printed to the console.</p>&#13;
<p>Here’s the class diagram and code for the Clown class:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/135fig01z.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Here𕲁s the Main method for the console app. There are comments next to each of the calls to the TalkAboutYourself method, which prints a line to the console. Your job is to fill in the blanks in the comments so they match the output.</p>&#13;
<pre data-type="programlisting"><span style="color:#9D9EA0;">static void Main(string[] args) {</span>&#13;
    <span style="color:#9D9EA0;">Clown oneClown = new Clown();</span>&#13;
    <span style="color:#9D9EA0;">oneClown.Name = "Boffo";</span>&#13;
    <span style="color:#9D9EA0;">oneClown.Height = 14;</span>&#13;
    <strong>oneClown.TalkAboutYourself();</strong>      // My name is _______ and I'm ____ inches tall."&#13;
&#13;
    <span style="color:#9D9EA0;">Clown anotherClown = new Clown();</span>&#13;
    <span style="color:#9D9EA0;">anotherClown.Name = "Biff";</span>&#13;
    <span style="color:#9D9EA0;">anotherClown.Height = 16;</span>&#13;
    <strong>anotherClown.TalkAboutYourself();</strong>  // My name is _______ and I'm ____ inches tall."&#13;
&#13;
    <span style="color:#9D9EA0;">Clown clown3 = new Clown();</span>&#13;
    <span style="color:#9D9EA0;">clown3.Name = anotherClown.Name;</span>&#13;
    <span style="color:#9D9EA0;">clown3.Height = oneClown.Height - 3;</span>&#13;
    <strong>clown3.TalkAboutYourself();</strong>        // My name is _______ and I'm ____ inches tall."&#13;
&#13;
    <span style="color:#9D9EA0;">anotherClown.Height *= 2;</span>&#13;
    anotherClown.TalkAboutYourself();  // My name is _______ and I'm ____ inches tall."&#13;
}</pre>&#13;
</div></aside>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">The *= operator tells C# to take whatever’s on the left of the operator and multiply it by whatever’s on the right, so this will update the Height field.</span></p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Thanks for the memory" data-type="sect1"><div class="sect1" id="thanks_for_the_memory">&#13;
<h1>Thanks for the memory</h1>&#13;
<p><a data-primary="Clown class exercise" data-type="indexterm" id="idm46402347064328"/><a data-primary="exercises" data-secondary="Sharpen your pencil" data-tertiary="Clown class" data-type="indexterm" id="idm46402347063304"/><a data-primary="heap" data-type="indexterm" id="idm46402347061624"/><a data-primary="memory" data-secondary="about" data-type="indexterm" id="idm46402347060888"/><a data-primary="objects" data-secondary="storage in heap memory" data-type="indexterm" id="idm46402347059800"/><a data-primary="Sharpen Your Pencil exercises" data-secondary="Clown class" data-type="indexterm" id="idm46402347058600"/>When your program creates an object, it lives in a part of the computer’s memory called the <strong>heap</strong>. When your code creates an object with a <code><strong>new</strong></code> statement, C# immediately reserves space in the heap so it can store the data for that object.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/136fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>When your program creates a new object, it gets added to the heap.</strong></p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-idd002">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil Solution</h5>&#13;
<p>Here’s what the program prints to the console. It’s worth taking a few minutes to create a new .NET console app, add the Clown class, and make its Main method match this one, then step through it with the debugger.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/136fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="What’s on your program’s mind" data-type="sect1"><div class="sect1" id="whatapostrophes_on_your_programapostroph">&#13;
<h1>What’s on your program’s mind</h1>&#13;
<p><a data-primary="heap" data-type="indexterm" id="idm46402347048424"/>Let’s take a closer look at the program in the “Sharpen your pencil” exercise, starting with the first line of the Main method. It’s actually <strong>two statements</strong> combined into one:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/137fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Next, let’s look closely at what the heap looks like after each group of statements is executed:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/137fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Sometimes code can be difficult to read" data-type="sect1"><div class="sect1" id="sometimes_code_can_be_difficult_to_read">&#13;
<h1>Sometimes code can be difficult to read</h1>&#13;
<p><a data-primary="code" data-secondary="compact" data-type="indexterm" id="idm46402347041208"/><a data-primary="Raspberry PI" data-type="indexterm" id="idm46402347040088"/>You may not realize it, but you’re constantly making choices about how to structure your code. Do you use one method to do something? Do you split it into more than one? Do you even need a new method at all? The choices you make about methods can make your code much more intuitive—or if you’re not careful, much more convoluted.</p>&#13;
<p>Here’s a nice, compact chunk of code from a control program that runs a machine that makes candy bars:</p>&#13;
<pre data-type="programlisting">    int t = m.chkTemp();&#13;
    if (t &gt; 160) {&#13;
       T tb = new T();&#13;
       tb.clsTrpV(2);&#13;
       ics.Fill();&#13;
       ics.Vent();&#13;
       m.airsyschk();&#13;
    }</pre>&#13;
<section data-pdf-bookmark="Extremely compact code can be especially problematic" data-type="sect2"><div class="sect2" id="extremely_compact_code_can_be_especially">&#13;
<h2>Extremely compact code can be especially problematic</h2>&#13;
<p>Take a second and look at that code. Can you figure out what it does? Don’t feel bad if you can’t—it’s very difficult to read! Here are a few reasons why:</p>&#13;
<ul>&#13;
<li><p>We can see a few variable names: <code><strong>tb</strong></code>, <code><strong>ics</strong></code>, <code><strong>m</strong></code>. These are terrible names! We have no idea what they do. And what’s that T class for?</p></li>&#13;
<li><p>The chkTemp method returns an integer…but what does it do? We can guess maybe it has something to do with checking the temperature of…something?</p></li>&#13;
<li><p>The clsTrpV method has one parameter. Do we know what that parameter is supposed to be? Why is it 2? What is that 160 number for?</p></li>&#13;
</ul>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/138fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>C# and .NET are everywhere…and we mean <u>everywhere</u></strong>.</p>&#13;
<p>Have you ever played with a Raspberry PI? It’s a low-cost computer on a single board, and computers like it can be found inside all sorts of machinery. Thanks to Windows IoT (or Internet of Things), your C# code can run on them. There’s a free version for prototyping, so you can start playing with hardware any time.</p>&#13;
<p>You can learn more about .NET IoT apps here: <a href="https://dotnet.microsoft.com/apps/iot">https://dotnet.microsoft.com/apps/iot</a>.</p>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Most code doesn’t come with a manual" data-type="sect2"><div class="sect2" id="most_code_doesnapostrophet_come_with_a_m">&#13;
<h2>Most code doesn’t come with a manual</h2>&#13;
<p><a data-primary="CICS (candy isolation cooling system) vent procedure" data-type="indexterm" id="idm46402347025480"/><a data-primary="code comments" data-type="indexterm" id="idm46402347024616"/><a data-primary="embedded system" data-type="indexterm" id="idm46402347023784"/>Those statements don’t give you any hints about why the code’s doing what it’s doing. In this case, the programmer was happy with the results because she was able to get it all into one method. But making your code as compact as possible isn’t really useful! Let’s break it up into methods to make it easier to read, and make sure the classes are given names that make sense.</p>&#13;
<p>We’ll start by figuring out what the code is supposed to do. Luckily, we happen to know that this code is part of an <strong>embedded system</strong>, or a controller that’s part of a larger electrical or mechanical system. And we happen to have documentation for this code—specifically, the manual that the programmers used when they originally built the system.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/139fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>We can compare the code with the manual that tells us what the code is supposed to do. Adding comments can definitely help us understand what it’s supposed to do:</p>&#13;
<pre data-type="programlisting"><span style="color:#9D9EA0;">/* This code runs every 3 minutes to check the temperature.</span>&#13;
 <span style="color:#9D9EA0;">* If it exceeds 160C we need to vent the cooling system.</span>&#13;
 <span style="color:#9D9EA0;">*/</span>&#13;
int t = m.chkTemp();&#13;
if (t &gt; 160) {&#13;
   <span style="color:#9D9EA0;">// Get the controller system for the turbines</span>&#13;
   T tb = new T();&#13;
&#13;
   <span style="color:#9D9EA0;">// Close throttle valve on turbine #2</span>&#13;
   tb.clsTrpV(2);&#13;
&#13;
   <span style="color:#9D9EA0;">// Fill and vent the isolation cooling system</span>&#13;
   ics.Fill();&#13;
   ics.Vent();&#13;
&#13;
   <span style="color:#9D9EA0;">// Initiate the air system check</span>&#13;
   m.airsyschk();&#13;
}</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Adding extra line breaks to your code in some places can make it easier to read.</p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-idd0005">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/brainpower.png"/></span> Brain Power</h5>&#13;
<p>Code comments are a good start. Can you think of a way to make this code even easier to understand?</p>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Use intuitive class and method names" data-type="sect1"><div class="sect1" id="use_intuitive_class_and_method_names">&#13;
<h1>Use intuitive class and method names</h1>&#13;
<p><a data-primary="classes" data-secondary="names for" data-type="indexterm" id="idm46402347004504"/><a data-primary="fields" data-secondary="XML documentation for" data-type="indexterm" id="idm46402347003640"/><a data-primary="methods" data-secondary="names for" data-type="indexterm" id="idm46402347002584"/><a data-primary="methods" data-secondary="XML documentation for" data-type="indexterm" id="idm46402347001608"/><a data-primary="XML documentation" data-type="indexterm" id="idm46402347000552"/>That page from the manual made it a lot easier to understand the code. It also gave us some great hints about how to make our code easier to understand. Let’s take a look at the first two lines:</p>&#13;
<pre data-type="programlisting"><span style="color:#9D9EA0;">/* This code runs every 3 minutes to check the temperature.</span>&#13;
 <span style="color:#9D9EA0;">* If it exceeds 160C we need to vent the cooling system.</span>&#13;
 <span style="color:#9D9EA0;">*/</span>&#13;
int t = m.chkTemp();&#13;
if (t &gt; 160) {</pre>&#13;
<p>The comment we added explains a lot. Now we know why the conditional test checks the variable <code><strong>t</strong></code> against 160—the manual says that any temperature above 160°C means the nougat is too hot. It turns out that <code><strong>m</strong></code> is a class that controls the candy maker, with static methods to check the nougat temperature and check the air system.</p>&#13;
<p>So let’s put the temperature check into a method, and choose names for the class and the methods that make their purpose obvious. We’ll move these first two lines into their own method that returns a Boolean value, true if the nougat is too hot or false if it’s OK:</p>&#13;
<pre data-type="programlisting"><span style="color:#9D9EA0;">/// &lt;summary&gt;</span>&#13;
<span style="color:#9D9EA0;">/// If the nougat temperature exceeds 160C it's too hot.</span>&#13;
<span style="color:#9D9EA0;">/// &lt;/summary&gt;</span>&#13;
public bool IsNougatTooHot() {&#13;
   int temp = CandyBarMaker.CheckNougatTemperature();&#13;
   if (temp &gt; 160) {&#13;
     return true;&#13;
   } else {&#13;
     return false;&#13;
   }&#13;
}</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">When we rename the class “CandyBarMaker” and the method “CheckNougatTemperature” it starts to make the code easier to understand.</span></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Notice how the C in CandyBarMaker is uppercase? If we always start class names with an uppercase letter and variables with lowercase ones, it’s easier to tell when you’re calling a static method versus using an instance.</span></p>&#13;
</div>&#13;
<p>Did you notice the special <code><span style="color:#9D9EA0;">///</span></code> comments above the method? That’s called an <em>XML Documentation Comment</em>. The IDE uses those comments to show you documentation for methods—like the documentation you saw when you used the IntelliSense window to figure out which method from the Random class to use.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="ide_tip_xml_documentation_for_methods_an">&#13;
<h5><strong>IDE Tip: XML documentation for methods and fields</strong></h5>&#13;
<p>Visual Studio helps you add XML documentation. Put your cursor in the line above any method and type three slashes, and it will add an empty template for your documentation. If your method has parameters and a return type, it will add <code>&lt;param&gt;</code> and <code>&lt;returns&gt;</code> tags for them as well. Try going back to your CardPicker class and typing <code>///</code> in the line above the PickSomeCards method—the IDE will add blank XML documentation. Fill it in and watch it show up in IntelliSense.</p>&#13;
<pre data-type="programlisting">/// &lt;summary&gt;&#13;
/// Picks a number of cards and returns them.&#13;
/// &lt;/summary&gt;&#13;
/// &lt;param name="numberOfCards"&gt;The number of cards to pick.&lt;/param&gt;&#13;
/// &lt;returns&gt;An array of strings that contain the card names.&lt;/returns&gt;</pre>&#13;
<p>You can create XML documentation for your fields, too. Try it out by going to the line just above any field and typing three slashes in the IDE. Anything you put after <code>&lt;summary&gt;</code> will show up in the IntelliSense window for the field.</p>&#13;
</div></aside>&#13;
<p><a data-primary="class diagrams" data-type="indexterm" id="idm46402346980200"/><a data-primary="void return type" data-type="indexterm" id="idm46402346978264"/>What does the manual say to do if the nougat is too hot? It tells us to perform the candy isolation cooling system (or CICS) vent procedure. So let’s make another method, and choose an obvious name for the T class (which turns out to control the turbine) and the ics class (which controls the isolation cooling system, and has two static methods to fill and vent the system), and cap it all off with some brief XML documentation:</p>&#13;
<pre data-type="programlisting"><span style="color:#9D9EA0;">/// &lt;summary&gt;</span>&#13;
<span style="color:#9D9EA0;">/// Perform the Candy Isolation Cooling System (CICS) vent procedure.</span>&#13;
<span style="color:#9D9EA0;">/// &lt;/summary&gt;</span>&#13;
public void DoCICSVentProcedure() {&#13;
   TurbineController turbines = new TurbineController();&#13;
   turbines.CloseTripValve(2);&#13;
   IsolationCoolingSystem.Fill();&#13;
   IsolationCoolingSystem.Vent();&#13;
   Maker.CheckAirSystem();&#13;
}</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>When your method is declared with a void return type, that means it doesn’t return a value and it doesn’t need a return statement. All of the methods you wrote in the last chapter used the void keyword!</p>&#13;
</div>&#13;
<p>Now that we have the IsNougatTooHot and DoCICSVentProcedure methods, we can <strong><em>rewrite the original confusing code as a single method</em></strong>—and we can give it a name that makes clear exactly what it does:</p>&#13;
<pre data-type="programlisting"><span style="color:#9D9EA0;">/// &lt;summary&gt;</span>&#13;
<span style="color:#9D9EA0;">/// This code runs every 3 minutes to check the temperature.</span>&#13;
<span style="color:#9D9EA0;">/// If it exceeds 160C we need to vent the cooling system.</span>&#13;
<span style="color:#9D9EA0;">/// &lt;/summary&gt;</span>&#13;
public void ThreeMinuteCheck() {&#13;
   if (IsNougatTooHot() == true) {&#13;
   DoCICSVentProcedure();&#13;
   }&#13;
}</pre>&#13;
<p>Now the code is a lot more intuitive! Even if you don’t know that the CICS vent procedure needs to be run if the nougat is too hot, <strong>it’s a lot more obvious what this code is doing</strong>.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/141fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Use class diagrams to plan out your classes</strong></p>&#13;
<p>A class diagram is valuable tool for designing your code BEFORE you start writing it. Write the name of the class at the top of the diagram. Then write each method in the box at the bottom. Now you can see all of the parts of the class at a glance—and that’s your first chance to spot problems that might make your code difficult to use or understand later.</p>&#13;
</div>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/142fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><a data-primary="code" data-secondary="refactoring" data-type="indexterm" id="idm46402346961272"/><a data-primary="refactoring code" data-type="indexterm" id="idm46402346959864"/><strong>That’s right. When you change the structure of your code without altering its behavior, it’s called</strong> <span style="color:#9D9EA0;"><u>refactoring</u></span>.</p>&#13;
<p>Great developers write code that’s as easy as possible to understand, even after they haven’t looked at it for a long time. Comments can help, but nothing beats choosing intuitive names for your methods, classes, variables, and fields.</p>&#13;
<p>You can make your code easier to read and write by thinking about the problem your code was built to solve. If you choose names for your methods that make sense to someone who understands that problem, then your code will be a lot easier to decipher <u>and</u> develop. No matter how well we plan our code, we almost never get things exactly right the first time.</p>&#13;
<p>That’s why <strong><em>advanced developers constantly refactor their code</em></strong>. They’ll move code into methods and give them names that make sense. They’ll rename variables. Any time they see code that isn’t 100% obvious, they’ll take a few minutes to refactor it. They know it’s worth taking the time to do it now, because it will make it easier to add more code in an hour (or a day, a month, or a year!).</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0015">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencilb.png"/></span> Sharpen your pencil</h5>&#13;
<p><a data-primary="classes" data-secondary="exercises on" data-type="indexterm" id="idm46402346951272"/><a data-primary="exercises" data-secondary="Sharpen your pencil" data-tertiary="classes" data-type="indexterm" id="idm46402346950088"/><a data-primary="Sharpen Your Pencil exercises" data-secondary="classes" data-type="indexterm" id="idm46402346948840"/>Each of these classes has a serious design flaw. Write down what you think is wrong with each class, and how you’d fix it.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/143fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0016">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil Solution</h5>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/144fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>This class is part of the candy manufacturing system from earlier.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/144fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>These two classes are part of a system that a pizza parlor uses to track the pizzas that are out for delivery.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/144fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>The CashRegister class is part of a program that’s used by an automated convenience store checkout system.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/144fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="code_tip_a_few_ideas_for_designing_intui">&#13;
<h5><strong>Code Tip: A few ideas for designing intuitive classes</strong></h5>&#13;
<p><a data-primary="classes" data-secondary="designing" data-type="indexterm" id="idm46402346932184"/><a data-primary="classes" data-secondary="similarities between" data-type="indexterm" id="idm46402346930520"/><a data-primary="code" data-secondary="advice for code exercises" data-type="indexterm" id="idm46402346929448"/><a data-primary="design" data-secondary="intuitive classes" data-type="indexterm" id="idm46402346928328"/>We’re about to jump back into writing code. You’ll be writing code for the rest of this chapter, and a LOT of code throughout the book. That means you’ll be <strong><em>creating a lot of classes</em></strong>. Here are a few things to keep in mind when you make choices about how to design them:</p>&#13;
<ul>&#13;
<li><p><strong>You’re building your program to solve a problem.</strong></p>&#13;
<p>Spend some time thinking about that problem. Does it break down into pieces easily? How would you explain that problem to someone else? These are good things to think about when designing your classes.</p></li>&#13;
<li><p><strong>What real-world things will your program use?</strong></p>&#13;
<p>A program to help a zookeeper track her animals’ feeding schedules might have classes for different kinds of food and types of animals.</p></li>&#13;
<li><p><strong>Use descriptive names for classes and methods.</strong></p>&#13;
<p>Someone should be able to figure out what your classes and methods do just by looking at their names.</p></li>&#13;
<li><p><strong>Look for similarities between classes.</strong></p>&#13;
<p>Sometimes two classes can be combined into one if they’re really similar. The candy manufacturing system might have three or four turbines, but there’s only one method for closing the trip valve that takes the turbine number as a parameter.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="itapostrophes_ok_if_you_get_stuck_when_y">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/relax.png"/></span> <strong>It’s OK if you get stuck when you’re writing code. In fact, it’s a good thing!</strong></h5>&#13;
<p>Writing code is all about solving problems—and some of them can be tricky! But if you keep a few things in mind, it’ll make the code exercises go more smoothly:</p>&#13;
<ul>&#13;
<li><p>It’s easy to get caught up in syntax problems, like missing parentheses or quotes. One missing bracket can cause many build errors.</p></li>&#13;
<li><p>It’s <strong><em>much better</em></strong> to look at the solution than to get frustrated with a problem. When you’re frustrated, your brain doesn’t like to learn.</p></li>&#13;
<li><p>All of the code in this book is tested and definitely works in Visual Studio 2019! But it’s easy to accidentally type things wrong (like typing a one instead of a lowercase L).</p></li>&#13;
<li><p>If your solution just won’t build, try downloading it from the GitHub repository for the book—it has working code for everything in the book: <a href="https://github.com/head-first-csharp/fourth-edition">https://github.com/head-first-csharp/fourth-edition</a>.</p></li>&#13;
</ul>&#13;
<p><strong>You can learn a lot from reading code. So if you run into a problem with a coding exercise, don’t be afraid to peek at the solution. <em>It’s not cheating!</em></strong></p>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Build a class to work with some guys" data-type="sect1"><div class="sect1" id="build_a_class_to_work_with_some_guys">&#13;
<h1>Build a class to work with some guys</h1>&#13;
<p><a data-primary="classes" data-secondary="designing" data-type="indexterm" id="idm46402346909704"/>Joe and Bob lend each other money all the time. Let’s create a class to keep track of how much cash they each have. We’ll start with an overview of what we’ll build.</p>&#13;
<ol>&#13;
<li><p><strong>We’ll create two instances of a “Guy” class.</strong></p>&#13;
<p>We’ll use two Guy variables called <code><strong>joe</strong></code> and <code><strong>bob</strong></code> to keep track of each of our instances. Here’s what the heap will look like after they’re created:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/146fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/146fig04.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><strong>We’ll set each Guy object’s Cash and Name fields.</strong></p>&#13;
<p>The two objects represent different guys, each with his own name and a different amount of cash in his pocket. Each guy has a Name field that keeps track of his name, and a Cash field that has the number of bucks in his pocket.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/146fig02.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><strong>We’ll add methods to give and receive cash.</strong></p>&#13;
<p>We’ll make a guy give cash from his pocket (and reduce his Cash field) by calling his GiveCash method, which will return the amount of cash he gave. We’ll make him receive cash and add it to his pocket (increasing his Cash field) by calling his ReceiveCash method, which returns the amount of cash he received.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/146fig03.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
</ol>&#13;
<pre data-type="programlisting">class Guy&#13;
{&#13;
    public string Name;&#13;
    public int Cash;&#13;
&#13;
    <span style="color:#9D9EA0;">/// &lt;summary&gt;</span>&#13;
    <span style="color:#9D9EA0;">/// Writes my name and the amount of cash I have to the console.</span>&#13;
    <span style="color:#9D9EA0;">/// &lt;/summary&gt;</span>&#13;
    public void WriteMyInfo()&#13;
    {&#13;
        Console.WriteLine(Name + " has " + Cash + " bucks.");&#13;
    }&#13;
    <span style="color:#9D9EA0;">/// &lt;summary&gt;</span>&#13;
    <span style="color:#9D9EA0;">/// Gives some of my cash, removing it from my wallet (or printing</span>&#13;
    <span style="color:#9D9EA0;">/// a message to the console if I don't have enough cash).</span>&#13;
    <span style="color:#9D9EA0;">/// &lt;/summary&gt;</span>&#13;
    <span style="color:#9D9EA0;">/// &lt;param name="amount"&gt;Amount of cash to give.&lt;/param&gt;</span>&#13;
    <span style="color:#9D9EA0;">/// &lt;returns&gt;</span>&#13;
    <span style="color:#9D9EA0;">/// The amount of cash removed from my wallet, or 0 if I don't</span>&#13;
    <span style="color:#9D9EA0;">/// have enough cash (or if the amount is invalid).</span>&#13;
    <span style="color:#9D9EA0;">/// &lt;/returns&gt;</span>&#13;
    public int GiveCash(int amount)&#13;
    {&#13;
        if (amount &lt;= 0)&#13;
        {&#13;
            Console.WriteLine(Name + " says: " + amount + " isn't a valid amount");&#13;
            return 0;&#13;
        }&#13;
        if (amount &gt; Cash)&#13;
        {&#13;
            Console.WriteLine(Name + " says: " +&#13;
                "I don't have enough cash to give you " + amount);&#13;
            return 0;&#13;
        }&#13;
        Cash -= amount;&#13;
        return amount;&#13;
    }&#13;
    <span style="color:#9D9EA0;">/// &lt;summary&gt;</span>&#13;
    <span style="color:#9D9EA0;">/// Receive some cash, adding it to my wallet (or printing</span>&#13;
    <span style="color:#9D9EA0;">/// a message to the console if the amount is invalid).</span>&#13;
    <span style="color:#9D9EA0;">/// &lt;/summary&gt;</span>&#13;
    <span style="color:#9D9EA0;">/// &lt;param name="amount"&gt;Amount of cash to give.&lt;/param&gt;</span>&#13;
    public void ReceiveCash(int amount)&#13;
    {&#13;
        if (amount &lt;= 0)&#13;
        {&#13;
            Console.WriteLine(Name + " says: " + amount + " isn't an amount I'll take");&#13;
        }&#13;
        else&#13;
        {&#13;
            Cash += amount;&#13;
        }&#13;
    }&#13;
}</pre>    &#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">The Name and Cash fields keep track of the guy’s name and how much cash he has in his pocket.</span></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Sometimes you want to ask an object to perform a task, like printing a description of itself to the console.</span></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">The GiveCash and ReceiveCash methods verify that the amount they’re being asked to give or receive is valid. That way you can’t ask a guy to receive a negative number, which would cause him to lose cash.</span></p>&#13;
</div>&#13;
<p><strong>Compare the comments in this code to the class diagrams and illustrations of the Guy objects. If something doesn’t make sense at first, take the time to really understand it.</strong></p>&#13;
</div></section>&#13;
<section data-pdf-bookmark="There’s an easier way to initialize objects with C#" data-type="sect1"><div class="sect1" id="thereapostrophes_an_easier_way_to_initia">&#13;
<h1>There’s an easier way to initialize objects with C#</h1>&#13;
<p><a data-primary="initialization" data-type="indexterm" id="idm46402346870616"/><a data-primary="object initializers" data-type="indexterm" id="idm46402346869528"/>Almost every object that you create needs to be initialized in some way. The Guy object is no exception—it’s useless until you set its Name and Cash fields. It’s so common to have to initialize fields that C# gives you a shortcut for doing, it called an <strong>object initializer</strong>. The IDE’s IntelliSense will help you do it.</p>&#13;
<p>You’re about to do an exercise where you create two Guy objects. You <strong><em>could</em></strong> use one <code><strong>new</strong></code> statement and two more statements to set its fields:</p>&#13;
<pre data-type="programlisting">joe = new Guy();&#13;
joe.Name = "Joe";&#13;
joe.Cash = 50;</pre>&#13;
<p><strong><em>Instead</em></strong>, type this: <code><strong>Guy joe = new Guy() {</strong></code></p>&#13;
<blockquote>&#13;
<p>Object initializers save you time and make your code more compact and easier to read…and the IDE helps you write them.</p>&#13;
</blockquote>&#13;
<p>As soon as you add the left curly bracket, the IDE will pop up an IntelliSense window that shows all of the fields that you can initialize:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/148fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Choose the Name field, set it to 50, and add a comma:</p>&#13;
<pre data-type="programlisting"><strong>Guy joe = new Guy() { Cash = 50,</strong></pre>&#13;
<p>Now type a space—another IntelliSense window will pop up with the remaining field to set:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/148fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Set the Name field and add the semicolon. You now have a single statement that initializes your object:</p>&#13;
<pre data-type="programlisting"><strong>Guy joe = new Guy() { Cash = 50, Name = "Joe" };</strong></pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">This new declaration does the same thing as the three lines of code at the top of the page, but it’s shorter and easier to read.</span></p>&#13;
</div>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/148fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>First, it will call each Guy object’s WriteMyInfo method. Then it will read an amount from the input and ask who to give the cash to. It will call one Guy object’s GiveCash method, then the other Guy object’s ReceiveCash method. It will keep going until the user enters a blank line.</strong></p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0012">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> Exercise</h5>&#13;
<p><a data-primary="code" data-secondary="replacing comments with" data-type="indexterm" id="idm46402346850184"/><a data-primary="comments" data-type="indexterm" id="idm46402346849096"/><a data-primary="exercises" data-secondary="replacing comments with code" data-type="indexterm" id="idm46402346848216"/>Here’s the Main method for a console app that makes Guy objects give cash to each other. Your job is to replace the <code><span style="color:#9D9EA0;">comments</span></code> with code—<u>read each comment and write code</u> that does exactly what it says. When you’re done, you’ll have a program that looks like the screenshot on the previous page.</p>&#13;
<pre data-type="programlisting">{&#13;
    <span style="color:#9D9EA0;">// Create a new Guy object in a variable called joe</span>&#13;
    <span style="color:#9D9EA0;">// Set its Name field to "Joe"</span>&#13;
    <span style="color:#9D9EA0;">// Set its Cash field to 50</span>&#13;
    <span style="color:#9D9EA0;">// Create a new Guy object in a variable called bob</span>&#13;
    <span style="color:#9D9EA0;">// Set its Name field to "Bob"</span>&#13;
    <span style="color:#9D9EA0;">// Set its Cash field to 100</span>&#13;
    while (true)&#13;
    {&#13;
        <span style="color:#9D9EA0;">// Call the WriteMyInfo methods for each Guy object</span>&#13;
        Console.Write("Enter an amount: ");&#13;
        string howMuch = Console.ReadLine();&#13;
        if (howMuch == "") return;&#13;
        <span style="color:#9D9EA0;">// Use int.TryParse to try to convert the howMuch string to an int</span>&#13;
        <span style="color:#9D9EA0;">// if it was successful (just like you did earlier in the chapter)</span>&#13;
        {&#13;
             Console.Write("Who should give the cash: ");&#13;
             string whichGuy = Console.ReadLine();&#13;
             if (whichGuy == "Joe")&#13;
             {&#13;
                 <span style="color:#9D9EA0;">// Call the joe object's GiveCash method and save the results</span>&#13;
                 <span style="color:#9D9EA0;">// Call the bob object's ReceiveCash method with the saved results</span>&#13;
             }&#13;
             else if (whichGuy == "Bob")&#13;
             {&#13;
                 <span style="color:#9D9EA0;">// Call the bob object's GiveCash method and save the results</span>&#13;
                 <span style="color:#9D9EA0;">// Call the joe object's ReceiveCash method with the saved results</span>&#13;
             }&#13;
             else&#13;
             {&#13;
                 Console.WriteLine("Please enter 'Joe' or 'Bob'");&#13;
             }&#13;
        }&#13;
        else&#13;
        {&#13;
        Console.WriteLine("Please enter an amount (or a blank line to exit).");&#13;
        }&#13;
    }&#13;
}</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Replace all of the comments with code that does what the comments describe</span></p>&#13;
</div>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0001">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> <strong>Exercise Solution</strong></h5>&#13;
<p>Here’s the Main method for your console app. It uses an infinite loop to keep asking the user how much cash to move between the Guy objects. If the user enters a blank line for an amount, the method executes a <code><strong>return</strong></code> statement, which causes Main to exit and the program to end.</p>&#13;
<pre data-type="programlisting">    static void Main(string[] args)&#13;
    {&#13;
    Guy joe = new Guy() { Cash = 50, Name = "Joe" };&#13;
    Guy bob = new Guy() { Cash = 100, Name = "Bob" };&#13;
&#13;
    while (true)&#13;
    {&#13;
        joe.WriteMyInfo();&#13;
        bob.WriteMyInfo();&#13;
        Console.Write("Enter an amount: ");&#13;
        string howMuch = Console.ReadLine();&#13;
        if (howMuch == "") return;&#13;
        if (int.TryParse(howMuch, out int amount))&#13;
        {&#13;
             Console.Write("Who should give the cash: ");&#13;
             string whichGuy = Console.ReadLine();&#13;
             if (whichGuy == "Joe")&#13;
             {&#13;
                 int cashGiven = joe.GiveCash(amount);&#13;
                 bob.ReceiveCash(cashGiven);&#13;
             }&#13;
             else if (whichGuy == "Bob")&#13;
             {&#13;
                 int cashGiven = bob.GiveCash(amount);&#13;
                 joe.ReceiveCash(cashGiven);&#13;
             }&#13;
             else&#13;
             {&#13;
                 Console.WriteLine("Please enter 'Joe' or 'Bob'");&#13;
     	     }&#13;
        }&#13;
        else&#13;
        {&#13;
            Console.WriteLine("Please enter an amount (or a blank line to exit).");&#13;
        }&#13;
    }&#13;
}</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">When the Main method executes this return statement it ends the program, because console apps stop when the Main method ends.</span></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Here’s the code where one Guy object gives cash from his pocket, and the other Guy object receives it.</span></p>&#13;
</div>&#13;
</div></aside>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Don’t move on to the next part of the exercise until you have the first part working and you understand what’s going on. It’s worth taking a few minutes to use the debugger to step through the program and make sure you <u>really</u> get it.</strong></p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_left_parenthesispart_2right_par">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> <strong>Exercise (Part 2)</strong></h5>&#13;
<p><a data-primary="classes" data-secondary="exercises on" data-type="indexterm" id="idm46402346816744"/><a data-primary="classes" data-secondary="reusing" data-type="indexterm" id="idm46402346813784"/><a data-primary="exercises" data-secondary="reusing classes" data-type="indexterm" id="idm46402346812616"/>Now that you have your Guy class working, let’s see if you can reuse it in a betting game. Look closely at this screenshot to see how it works and what it prints to the console.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/151fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Create a new console app and add the same Guy class. Then, in your Main method, <u>declare three variables</u>: a Random variable called <code><strong>random</strong></code> with a new instance of the Random class; a double variable called <code><strong>odds</strong></code> that stores the odds to beat, set to .75; and a Guy variable called <code><strong>player</strong></code> for an instance of Guy named “The player” with 100 bucks.</p>&#13;
<p>Write a line to the console welcoming the player and printing the odds. Then run this loop:</p>&#13;
<ol>&#13;
<li><p>Have the Guy object print the amount of cash it has.</p></li>&#13;
<li><p>Ask the user how much money to bet.</p></li>&#13;
<li><p>Read the line into a string variable called <code><strong>howMuch</strong></code>.</p></li>&#13;
<li><p>Try to parse it into an int variable called <code><strong>amount</strong></code>.</p></li>&#13;
<li><p>If it parses, the player gives the amount to an int variable called <code><strong>pot</strong></code>. It gets multiplied by two, because it’s a double-or-nothing bet.</p></li>&#13;
<li><p>The program picks a random number between 0 and 1.</p></li>&#13;
<li><p>If the number is greater than <code><strong>odds</strong></code>, the player receives the pot.</p></li>&#13;
<li><p>If not, the player loses the amount they bet.</p></li>&#13;
<li><p>The program keeps running while the player has cash.</p></li>&#13;
</ol>&#13;
<p><span class="inlineimage"><img alt="Images" src="assets/151fig02.png"/></span> Bonus question: Is Guy really the best name for this class? Why or why not?</p>&#13;
<p>........................................................................................</p>&#13;
<p>........................................................................................</p>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="esercise_solution">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> <strong>Esercise Solution</strong></h5>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/152fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<pre data-type="programlisting">static void Main(string[] args)&#13;
{&#13;
    double odds = .75;&#13;
    Random random = new Random();&#13;
    Guy player = new Guy() { Cash = 100, Name = "The player" };&#13;
    Console.WriteLine("Welcome to the casino. The odds are " + odds);&#13;
    while (player.Cash &gt; 0)&#13;
    {&#13;
        player.WriteMyInfo();&#13;
        Console.Write("How much do you want to bet: ");&#13;
        string howMuch = Console.ReadLine();&#13;
        if (int.TryParse(howMuch, out int amount))&#13;
        {&#13;
            int pot = player.GiveCash(amount) * 2;&#13;
            if (pot &gt; 0)&#13;
            {&#13;
                if (random.NextDouble() &gt; odds)&#13;
                {&#13;
                    int winnings = pot;&#13;
                    Console.WriteLine("You win " + winnings);&#13;
                    player.ReceiveCash(winnings);&#13;
                } else&#13;
                {&#13;
                    Console.WriteLine("Bad luck, you lose.");&#13;
                }&#13;
            }&#13;
        } else&#13;
        {&#13;
            Console.WriteLine("Please enter a valid number.");&#13;
        }&#13;
    }&#13;
    Console.WriteLine("The house always wins.");&#13;
}</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Was your code a little different? If it still works and produces the right output, that’s OK! There are <u>many</u> different ways to write the same program.</strong></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">...and as you get further along in the book and the exercise solutions get longer, your code will look more and more different from ours. Remember, it’s always OK to look at the solution when you’re working on an exercise!</span></p>&#13;
</div>&#13;
<p><span class="inlineimage"><img alt="Images" src="assets/151fig02.png"/></span>  Here’s our solution to the bonus question—did you come up with a different answer?</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/151fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0017">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil</h5>&#13;
<p><a data-primary="exercises" data-secondary="Sharpen your pencil" data-tertiary="writing to the console" data-type="indexterm" id="idm46402346779304"/><a data-primary="Sharpen Your Pencil exercises" data-secondary="writing to the console" data-type="indexterm" id="idm46402346777688"/>Here’s a .NET console app that writes three lines to the console. Your job is to figure out what it writes, <u>without</u> using a computer. Start at the first line of the Main method and keep track of the values of each of the fields in the objects as it executes.</p>&#13;
<pre data-type="programlisting">class Pizzazz&#13;
{&#13;
    public int Zippo; &#13;
&#13;
    public void Bamboo(int eek)&#13;
    {&#13;
        Zippo += eek;&#13;
    }&#13;
}&#13;
&#13;
class Abracadabra&#13;
{&#13;
    public int Vavavoom;&#13;
&#13;
    public bool Lala(int floq)&#13;
    {&#13;
        if (floq &lt; Vavavoom)&#13;
        {&#13;
            Vavavoom += floq;&#13;
            return true;&#13;
        }&#13;
        return false;&#13;
    }&#13;
}&#13;
&#13;
class Program&#13;
{&#13;
    public static void Main(string[] args)&#13;
    {&#13;
        Pizzazz foxtrot = new Pizzazz() { Zippo = 2 };&#13;
        foxtrot.Bamboo(foxtrot.Zippo);&#13;
        Pizzazz november = new Pizzazz() { Zippo = 3 };&#13;
        Abracadabra tango = new Abracadabra() { Vavavoom = 4 };&#13;
        while (tango.Lala(november.Zippo))&#13;
        {&#13;
            november.Zippo *= -1;&#13;
            november.Bamboo(tango.Vavavoom);&#13;
            foxtrot.Bamboo(november.Zippo);&#13;
            tango.Vavavoom -= foxtrot.Zippo;&#13;
        }&#13;
        Console.WriteLine("november.Zippo = " + november.Zippo);&#13;
        Console.WriteLine("foxtrot.Zippo = " + foxtrot.Zippo);&#13;
        Console.WriteLine("tango.Vavavoom = " + tango.Vavavoom);&#13;
    }&#13;
}</pre>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46402346773816">&#13;
<p><strong>What does this program write to the console?</strong></p>&#13;
<p><span style="color:#9D9EA0;">november.Zippo =</span> ........................................</p>&#13;
<p><span style="color:#9D9EA0;">foxtrot.Zippo =</span>  ........................................</p>&#13;
<p><span style="color:#9D9EA0;">tango.Vavavoom =</span>  ........................................</p>&#13;
<p>To find the solution, enter the program into Visual Studio and run it. If you didn’t get the answer right, step through the code line by line and add watches for each of the objects’ fields.</p>&#13;
<p>If you don’t want to type the whole thing in, you can download it from GitHub: <a href="https://github.com/head-first-csharp/fourth-edition">https://github.com/head-first-csharp/fourth-edition</a>.</p>&#13;
</div></aside>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">If you’re using a Mac, the IDE generates a class called MainClass, not Program. That won’t make a difference in this exercise.</span></p>&#13;
</div>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Use the C# Interactive window to run C# code" data-type="sect1"><div class="sect1" id="use_the_chash_interactive_window_to_run">&#13;
<h1>Use the C# Interactive window to run C# code</h1>&#13;
<p><a data-primary="C# Interactive window" data-type="indexterm" id="idm46402346767432"/>If you just want to run some C# code, you don’t always need to create a new project in Visual Studio. Any C# code entered into the <strong>C# Interactive window</strong> is run <u>immediately</u>. You can open it by choosing View &gt;&gt; Other Windows &gt;&gt; C# Interactive. Try it now, and <strong>paste in the code</strong> from the exercise solution. You can run it by typing this and pressing enter: <code><strong>Program.Main(new string[]</strong></code></p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/154fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>You can also run an interactive C# session from the command line. On Windows, search the Start menu for <code><strong>developer command prompt</strong></code>, start it, and then type <code><strong>csi</strong></code>. On macOS or Linux, run <code><strong>csharp</strong></code> to start the Mono C# Shell. In both cases, you can paste the Pizzazz, Abracadabra, and Program classes from the previous exercise directly into the prompt, then run <code><strong>Program.Main(new string[] {})</strong></code> to run your console app’s entry point.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-idd0006">&#13;
<h5>Bullet Points</h5>&#13;
<ul>&#13;
<li><p>Use the <code><strong>new</strong></code> <strong>keyword</strong> to create instances of a class. A program can have many instances of the same class.</p></li>&#13;
<li><p>Each <strong>instance</strong> has all of the methods from the class and gets its own copies of each of the fields.</p></li>&#13;
<li><p>When you included <code><strong>new Random();</strong></code> in your code, you were creating an <strong>instance of the Random class</strong>.</p></li>&#13;
<li><p>Use the <code><strong>static</strong></code> <strong>keyword</strong> to declare a field or method in a class as static. You don’t need an instance of that class to access static methods or fields.</p></li>&#13;
<li><p>When a field is <strong>static</strong>, there’s only one copy of it shared by all instances. When you include the <code><strong>static</strong></code> keyword in a class declaration, all of its members must be static too.</p></li>&#13;
<li><p>If you remove the <code><strong>static</strong></code> keyword from a static field, it becomes an <strong>instance field</strong>.</p></li>&#13;
<li><p>We refer to fields and methods of a class as its <strong>members</strong>.</p></li>&#13;
<li><p>When your program creates an object, it lives in a part of the computer’s memory called the <strong>heap</strong>.</p></li>&#13;
<li><p>Visual Studio helps you add <strong>XML documentation</strong> to your fields and methods, and displays it in its IntelliSense window.</p></li>&#13;
<li><p><strong>Class diagrams</strong> help you plan out your classes and make them easier to work with.</p></li>&#13;
<li><p>When you change the structure of your code without altering its behavior, it’s called <strong>refactoring</strong>. Advanced developers constantly refactor their code.</p></li>&#13;
<li><p><strong>Object initializers</strong> save you time and make your code more compact and easier to read.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section></body></html>