- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: C# 12 represents the ninth major update to Microsoft’s flagship programming
    language, positioning C# as a language with unusual flexibility and breadth. At
    one end, it offers high-level abstractions such as query expressions and asynchronous
    continuations, whereas at the other end, it allows low-level efficiency through
    constructs such as custom value types and optional pointers.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: C# 12代表了微软旗舰编程语言的第九个重大更新，将C#定位为一种具有非同寻常灵活性和广度的语言。一方面，它提供了高级抽象，如查询表达式和异步继续，而另一方面，它通过自定义值类型和可选指针等构造允许低级效率。
- en: The price of this growth is that there’s more than ever to learn. Although tools
    such as Microsoft’s IntelliSense—and online references—are excellent in helping
    you on the job, they presume an existing map of conceptual knowledge. This book
    provides exactly that map of knowledge in a concise and unified style—free of
    clutter and long introductions.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这种增长的代价是需要学习的内容比以往任何时候都多。尽管诸如微软的IntelliSense和在线参考等工具在帮助您处理工作中的问题方面非常出色，但它们假设您具备一定的概念知识图谱。本书正是以简洁统一的风格提供了这样一张知识地图——没有冗长的介绍和混乱的内容。
- en: Like the past seven editions, *C# 12 in a Nutshell* is organized around concepts
    and use cases, making it friendly both to sequential reading and to random browsing.
    It also plumbs significant depths while assuming only basic background knowledge,
    making it accessible to intermediate as well as advanced readers.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 与过去七个版本一样，《C# 12 简明手册》围绕概念和用例组织，使其既适合顺序阅读，又适合随机浏览。它还深入到重要的深度，同时仅假设基本的背景知识，因此对中级和高级读者都很容易理解。
- en: This book covers C#, the Common Language Runtime (CLR), and the .NET 8 Base
    Class Library (BCL). We’ve chosen this focus to allow space for difficult and
    advanced topics without compromising depth or readability. Features recently added
    to C# are flagged so that you can also use this book as a reference for C# 11
    and C# 10.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本书涵盖了C#、公共语言运行时（CLR）以及.NET 8基础类库（BCL）。我们选择这个重点，以便为难度较大和高级主题留出空间，而不影响深度或可读性。最近添加到C#的功能已经标记，这样您也可以将本书作为C#
    11和C# 10的参考。
- en: Intended Audience
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 目标读者
- en: This book targets intermediate to advanced audiences. No prior knowledge of
    C# is required, but some general programming experience is necessary. For the
    beginner, this book complements, rather than replaces, a tutorial-style introduction
    to programming.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向中高级读者。不需要事先了解C#，但需要一些通用的编程经验。对于初学者，本书是编程教程风格介绍的补充，而非替代。
- en: This book is an ideal companion to any of the vast array of books that focus
    on an applied technology such as ASP.NET Core or Windows Presentation Foundation
    (WPF). *C# 12 in a Nutshell* covers the areas of the language and .NET that such
    books omit, and vice versa.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本书是任何专注于应用技术（如ASP.NET Core或Windows Presentation Foundation（WPF））的大量图书的理想伴侣。《C#
    12 简明手册》涵盖了这些书籍所忽略的语言和.NET的领域，反之亦然。
- en: If you’re looking for a book that skims every .NET technology, this is not for
    you. This book is also unsuitable if you want to learn about APIs specific to
    mobile device development.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您寻找一本涵盖每一个.NET技术的书籍，那么这本书不适合您。如果您想要了解特定于移动设备开发的API，则本书也不适合。
- en: How This Book Is Organized
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书的组织结构
- en: '[Chapter 2](ch02.html#chash_language_basics) through [Chapter 4](ch04.html#advanced_chash)
    concentrate purely on C#, starting with the basics of syntax, types, and variables,
    and finishing with advanced topics such as unsafe code and preprocessor directives.
    If you’re new to the language, you should read these chapters sequentially.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](ch02.html#chash_language_basics)到[第4章](ch04.html#advanced_chash)完全集中于C#，从语法、类型和变量的基础开始，到诸如不安全代码和预处理器指令等高级主题。如果您是这门语言的新手，应该按顺序阅读这些章节。'
- en: The remaining chapters focus on .NET 8’s Base Class Libraries, covering such
    topics as Language-Integrated Query (LINQ), XML, collections, concurrency, I/O
    and networking, memory management, reflection, dynamic programming, attributes,
    cryptography, and native interoperability. You can read most of these chapters
    randomly, except for Chapters [5](ch05.html#dotnet_overview) and [6](ch06.html#dotnet_fundamentals),
    which lay a foundation for subsequent topics. You’re also best off reading the
    three chapters on LINQ in sequence, and some chapters assume some knowledge of
    concurrency, which we cover in [Chapter 14](ch14.html#concurrency_and_asynchron).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 剩余章节专注于 .NET 8 的基础类库，涵盖语言集成查询（LINQ）、XML、集合、并发、I/O 和网络、内存管理、反射、动态编程、属性、加密和本地互操作性等主题。您可以随机阅读大多数章节，除了第
    [5](ch05.html#dotnet_overview) 和第 [6](ch06.html#dotnet_fundamentals) 章，这两章为后续主题奠定基础。最好按顺序阅读关于
    LINQ 的三章，有些章节假设您具备一些并发知识，我们在 [第 14 章](ch14.html#concurrency_and_asynchron) 中进行讨论。
- en: What You Need to Use This Book
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用本书所需条件
- en: The examples in this book require .NET 8\. You will also find Microsoft’s .NET
    documentation useful to look up individual types and members (which is available
    [online](https://oreil.ly/y5bAc)).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 本书示例需要 .NET 8\. 您还会发现 Microsoft 的 .NET 文档对查找单个类型和成员（可在线访问）非常有用。
- en: Although it’s possible to write source code in a simple text editor and build
    your program from the command line, you’ll be much more productive with a *code
    scratchpad* for instantly testing code snippets, plus an *integrated development
    environment* (IDE) for producing executables and libraries.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然可以在简单的文本编辑器中编写源代码，并从命令行构建程序，但使用 *代码临时记事本* 可以更快速地测试代码片段，再加上集成开发环境（IDE）可以更高效地生成可执行文件和库。
- en: For a Windows code scratchpad, download LINQPad 8 from [*www.linqpad.net*](http://www.linqpad.net)
    (free). LINQPad fully supports C# 12 and is maintained by the author.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows 代码临时记事本，请从 [*www.linqpad.net*](http://www.linqpad.net) 下载 LINQPad
    8（免费）。LINQPad 完全支持 C# 12，并由作者维护。
- en: 'For a Windows IDE, download *Visual Studio 2022*: any edition is suitable for
    what’s taught in this book. For a cross-platform IDE, download *Visual Studio
    Code*.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows IDE，请下载 *Visual Studio 2022*：任何版本都适用于本书教授的内容。对于跨平台 IDE，请下载 *Visual
    Studio Code*。
- en: Note
  id: totrans-17
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意事项
- en: 'All code listings for all chapters are available as interactive (editable)
    LINQPad samples. You can download the entire lot in a single click: at the bottom
    left, click the LINQPad’s Samples tab, click “Download more samples,” and then
    choose “C# 12 in a Nutshell.”'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 所有章节的代码清单均作为交互式（可编辑）LINQPad 示例提供。您可以一键下载所有示例：在左下角点击 LINQPad 的“Samples”选项卡，点击“Download
    more samples”，然后选择“C# 12 in a Nutshell”。
- en: Conventions Used in This Book
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书使用的约定
- en: The book uses basic UML notation to illustrate relationships between types,
    as shown in [Figure P-1](#sample_diagram). A slanted rectangle means an abstract
    class; a circle means an interface. A line with a hollow triangle denotes inheritance,
    with the triangle pointing to the base type. A line with an arrow denotes a one-way
    association; a line without an arrow denotes a two-way association.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用基本的 UML 符号来说明类型之间的关系，如 [图 P-1](#sample_diagram) 所示。倾斜的矩形表示抽象类；圆圈表示接口。带有空心三角形的线表示继承，三角形指向基类型。带有箭头的线表示单向关联；没有箭头的线表示双向关联。
- en: '![Sample diagram](assets/cn10_0001.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![示例图](assets/cn10_0001.png)'
- en: Figure P-1\. Sample diagram
  id: totrans-22
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 P-1\. 示例图
- en: 'The following typographical conventions are used in this book:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用以下排版约定：
- en: '*Italic*'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '*斜体*'
- en: Indicates new terms, URIs, filenames, and directories
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 表示新术语、URI、文件名和目录
- en: '`Constant width`'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '`等宽字体`'
- en: Indicates C# code, keywords and identifiers, and program output
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 表示 C# 代码、关键字和标识符以及程序输出
- en: '`**Constant width bold**`'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '`**等宽字体加粗**`'
- en: Shows a highlighted section of code
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 显示代码的突出部分
- en: '`*Constant width italic*`'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '`*等宽字体斜体*`'
- en: Shows text that should be replaced with user-supplied values
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 显示应由用户提供值替换的文本
- en: Using Code Examples
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用代码示例
- en: Supplemental material (code examples, exercises, etc.) is available for download
    at [*http://www.albahari.com/nutshell*](http://www.albahari.com/nutshell).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 补充材料（代码示例、练习等）可在 [*http://www.albahari.com/nutshell*](http://www.albahari.com/nutshell)
    下载。
- en: This book is here to help you get your job done. In general, you may use the
    code in this book in your programs and documentation. You do not need to contact
    us for permission unless you’re reproducing a significant portion of the code.
    For example, writing a program that uses several chunks of code from this book
    does not require permission. Selling or distributing examples from O’Reilly books
    *does* require permission. Answering a question by citing this book and quoting
    example code does not require permission (although we appreciate attribution).
    Incorporating a significant amount of example code from this book into your product’s
    documentation *does* require permission.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 本书旨在帮助您完成工作。通常情况下，您可以在您的程序和文档中使用本书中的代码，无需联系我们获得许可。但如果您要复制本书的大部分代码，则需要许可。例如，编写一个使用本书中几个代码块的程序不需要许可。销售或分发O’Reilly图书的示例需要许可。引用本书并引用示例代码来回答问题不需要许可（尽管我们感谢署名）。将本书的大量示例代码整合到产品文档中需要许可。
- en: 'We appreciate, but generally do not require, attribution. An attribution usually
    includes the title, author, publisher, and ISBN. For example: “*C# 12 in a Nutshell*
    by Joseph Albahari (O’Reilly). Copyright 2024 Joseph Albahari, 978-1-098-14744-0.”'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我们欣赏，但通常不要求署名。署名通常包括标题、作者、出版商和ISBN。例如：“*C# 12 in a Nutshell* by Joseph Albahari
    (O’Reilly)。Copyright 2024 Joseph Albahari, 978-1-098-14744-0.”
- en: If you feel your use of code examples falls outside fair use or the permission
    given here, feel free to contact us at [permissions@oreilly.com](mailto:permissions@oreilly.com).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您认为您使用的代码示例超出了公平使用或这里给出的许可，请随时通过[permissions@oreilly.com](mailto:permissions@oreilly.com)与我们联系。
- en: How to Contact Us
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何联系我们
- en: 'Please address comments and questions concerning this book to the publisher:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 请将关于本书的评论和问题发送给出版商：
- en: O’Reilly Media, Inc.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: O’Reilly Media, Inc.
- en: 1005 Gravenstein Highway North
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1005 Gravenstein Highway North
- en: Sebastopol, CA 95472
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加利福尼亚州塞巴斯托波尔95472
- en: 800-889-8969 (in the United States or Canada)
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 800-889-8969（美国或加拿大境内）
- en: 707-829-7019 (international or local)
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 707-829-7019（国际或本地）
- en: 707-829-0104 (fax)
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 707-829-0104（传真）
- en: '[*support@oreilly.com*](mailto:support@oreilly.com)'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*support@oreilly.com*](mailto:support@oreilly.com)'
- en: '[*https://www.oreilly.com/about/contact.html*](https://www.oreilly.com/about/contact.html)'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*https://www.oreilly.com/about/contact.html*](https://www.oreilly.com/about/contact.html)'
- en: We have a web page for this book, where we list errata, examples, and any additional
    information. You can access this page at [*https://oreil.ly/c-sharp-nutshell-12*](https://oreil.ly/c-sharp-nutshell-12).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为本书设有网页，列出勘误、示例及其他信息。您可以访问[*https://oreil.ly/c-sharp-nutshell-12*](https://oreil.ly/c-sharp-nutshell-12)查看此页面。
- en: 'Code listings and additional resources are provided at:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 代码清单和其他资源请参阅：
- en: '[*http://www.albahari.com/nutshell/*](http://www.albahari.com/nutshell/)'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*http://www.albahari.com/nutshell/*](http://www.albahari.com/nutshell/)'
- en: For news and information about our books and courses, visit [*https://oreilly.com*](https://oreilly.com).
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 获取有关我们的图书和课程的新闻和信息，请访问[*https://oreilly.com*](https://oreilly.com)。
- en: 'Find us on LinkedIn: [*https://linkedin.com/company/oreilly-media*](https://linkedin.com/company/oreilly-media)'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在LinkedIn上找到我们：[*https://linkedin.com/company/oreilly-media*](https://linkedin.com/company/oreilly-media)
- en: 'Follow us on Twitter: [*https://twitter.com/oreillymedia*](https://twitter.com/oreillymedia)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在Twitter上关注我们：[*https://twitter.com/oreillymedia*](https://twitter.com/oreillymedia)
- en: 'Watch us on YouTube: [*https://youtube.com/oreillymedia*](https://youtube.com/oreillymedia)'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在YouTube上观看我们：[*https://youtube.com/oreillymedia*](https://youtube.com/oreillymedia)
- en: Acknowledgments
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 致谢
- en: Joseph Albahari
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Joseph Albahari
- en: Since its first incarnation in 2007, this book has relied on input from some
    superb technical reviewers. For their input into recent editions, I’d like to
    extend particular thanks to Stephen Toub, Paulo Morgado, Fred Silberberg, Vitek
    Karas, Aaron Robinson, Jan Vorlicek, Sam Gentile, Rod Stephens, Jared Parsons,
    Matthew Groves, Dixin Yan, Lee Coward, Bonnie DeWitt, Wonseok Chae, Lori Lalonde,
    and James Montemagno.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 自2007年首次问世以来，本书依赖于一些出色的技术审阅者的意见。对于他们在最近版本中的贡献，我特别感谢Stephen Toub、Paulo Morgado、Fred
    Silberberg、Vitek Karas、Aaron Robinson、Jan Vorlicek、Sam Gentile、Rod Stephens、Jared
    Parsons、Matthew Groves、Dixin Yan、Lee Coward、Bonnie DeWitt、Wonseok Chae、Lori Lalonde和James
    Montemagno。
- en: And for their input into earlier editions, I’m most grateful to Eric Lippert,
    Jon Skeet, Stephen Toub, Nicholas Paldino, Chris Burrows, Shawn Farkas, Brian
    Grunkemeyer, Maoni Stephens, David DeWinter, Mike Barnett, Melitta Andersen, Mitch
    Wheat, Brian Peek, Krzysztof Cwalina, Matt Warren, Joel Pobar, Glyn Griffiths,
    Ion Vasilian, Brad Abrams, and Adam Nathan.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 我特别感谢埃里克·利珀特（Eric Lippert）、乔恩·斯基特（Jon Skeet）、史蒂芬·托布（Stephen Toub）、尼古拉斯·帕尔迪诺（Nicholas
    Paldino）、克里斯·伯罗斯（Chris Burrows）、肖恩·法卡斯（Shawn Farkas）、布莱恩·格伦克迈耶（Brian Grunkemeyer）、莫妮·斯蒂芬斯（Maoni
    Stephens）、大卫·德温特（David DeWinter）、迈克·巴内特（Mike Barnett）、梅丽塔·安德森（Melitta Andersen）、米奇·韦特（Mitch
    Wheat）、布莱恩·皮克（Brian Peek）、克日什托夫·瓦利纳（Krzysztof Cwalina）、马特·沃伦（Matt Warren）、乔尔·波巴尔（Joel
    Pobar）、格林·格里菲斯（Glyn Griffiths）、伊昂·瓦西里安（Ion Vasilian）、布拉德·艾布拉姆斯（Brad Abrams）和亚当·内森（Adam
    Nathan）的早期贡献。
- en: I appreciate that many of the technical reviewers are accomplished individuals
    at Microsoft, and I particularly thank you for taking the time to raise this book
    to the next quality bar.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 我感谢微软的许多技术审阅者都是杰出的个人，特别感谢你们花时间将本书提升到下一个质量水平。
- en: I want to thank Ben Albahari and Eric Johannsen, who contributed to previous
    editions, and the O’Reilly team—particularly my efficient and responsive editor
    Corbin Collins. Finally, my deepest thanks to my wonderful wife, Li Albahari,
    whose presence kept me happy throughout the project.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 我要感谢本·阿尔巴哈里（Ben Albahari）和埃里克·约翰森（Eric Johannsen），他们对之前版本有所贡献，以及O'Reilly团队，特别是我高效负责的编辑科尔宾·科林斯（Corbin
    Collins）。最后，我深深感谢我的美妙妻子李·阿尔巴哈里（Li Albahari），在整个项目期间她的存在使我保持愉快。
