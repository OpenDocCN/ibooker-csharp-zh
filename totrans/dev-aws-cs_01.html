<html><head></head><body>
<div id="sbo-rt-content"><section class="pagenumrestart" data-pdf-bookmark="Chapter 1. Getting Started with .NET on AWS" data-type="chapter" epub:type="chapter"><div class="chapter" id="Chapter1">
<h1><span class="label">Chapter 1. </span>Getting Started with .NET on AWS</h1>
<p><a data-primary=".NET" data-primary-sortas="NET" data-secondary="basics" data-type="indexterm" id="ix_ch01-asciidoc0"/>This chapter covers the basic scaffolding of essentials on your first day working with AWS and C#.  These essentials include using cloud-based development environments such as AWS CloudShell and a traditional Visual Studio development environment that leverages the AWS SDK.</p>
<p>The material in this book sets you up for success by adding many code examples of doing .NET 6 development on AWS.  You can view those code examples in the <a href="https://oreil.ly/AWS-with-C-Sharp-examples">source code repository for the book</a>.  Additionally, both traditional development methods like Visual Studio and new cloud native strategies like developing with AWS Cloud9 are covered. There is something for all types of .NET developers.</p>
<p>For scripting fans, there are also examples of using the AWS Command Line Interface and PowerShell for the AWS SDK.
At the end of the chapter, there are discussion questions and exercises that you can use to build on the lessons covered.  These exercises are an excellent tool for creating a comprehensive portfolio of work that gets you hired.  Let’s get started with a brief dive into cloud computing.</p>
<section data-pdf-bookmark="What Is Cloud Computing?" data-type="sect1"><div class="sect1" id="idm45599668054192">
<h1>What Is Cloud Computing?</h1>
<p><a data-primary="cloud computing (generally)" data-secondary="defined" data-type="indexterm" id="idm45599668052624"/>Cloud <a data-primary="cloud computing (generally)" data-secondary="basics" data-type="indexterm" id="ix_ch01-asciidoc1"/>computing is the utility-type delivery of IT resources over the internet with utility-type pricing. Instead of purchasing and maintaining physical data centers and hardware, you can access IT services, such as computing, storage, and databases, on an as-needed basis from a cloud vendor.</p>
<p>Perhaps the best way to describe cloud computing is to take the view of the UC Berkeley Reliable Adaptive Distributed Systems Laboratory or RAD Lab.  In their paper <a href="https://oreil.ly/tsBGN">“Above the Clouds:  A Berkeley View of Cloud Computing”</a>, they mention three new critical aspects of cloud computing: “the illusion of infinite computing resources,” “the elimination of up-front commitment by cloud users,” and “the ability to pay for the use of computing resources on a short-term basis as needed.”  Let’s talk about these items in more detail.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Having taught thousands of students and working professionals cloud computing, I (Noah) have strong opinions on learning as quickly as possible.  A key performance indicator, or KPI, is how many mistakes you can make per week.  In practice, this means trying things out, getting frustrated, then working out the best way to solve what is frustrating you, and then doing that over and over again as quickly as possible.</p>
<p>One of the ways I encourage this in a classroom is by facilitating students to demo progress weekly on what they are working on and build a portfolio of work.  Similarly, in this book, I recommend building out a series of GitHub projects that catalog your work and then building out demo videos explaining how your project works.    This step accomplishes two things in learning cloud computing: teaching yourself better metacognition skills and building a portfolio of work that makes you more marketable.</p>
</div>
<dl>
<dt>The illusion of infinite computing resources</dt>
<dd>
<p>Machine learning is an excellent example of an ideal use case for “near infinite” computing resources.  Deep learning requires access to large quantities of storage, disk I/O, and compute.  Through elastic compute and storage, data lake capability via Amazon S3 opens up workflows that didn’t exist previously. This new workflow allows users and systems to operate data where it resides versus moving it back and forth to workstations or specialized file servers. <a data-primary="S3 (Amazon Simple Storage Service)" data-secondary="strengths of" data-type="indexterm" id="idm45599668046096"/>Notice in <a data-type="xref" href="#Figure-1-7-2">Figure 1-1</a> that the Amazon S3 storage system can seamlessly handle the scaling of computing, storage, and disk I/O with any number of workers that access the resource.  Amazon S3 can do this not only because it contains near infinite elasticity but also due to redundant properties.  This concept means that it not only scales but can virtually always be available because of the design around the idea that <a href="https://oreil.ly/X77BO">“things always fail”</a>.</p>
</dd>
</dl>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><a data-primary="SageMaker" data-type="indexterm" id="idm45599668042352"/>One definition of machine learning is a program that learns from historical data to create predictions.  You can use AWS SageMaker Studio to train your own machine learning models without knowing anything about data science with a feature called Amazon SageMaker Autopilot.  You can learn more about that service <a href="https://oreil.ly/QsDeC">here</a>.</p>
</div>
<aside class="pagebreak-before less_space" data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm45599668040608">
<h5>Resource Requirements of AI and ML</h5>
<p><a data-primary="data lake" data-type="indexterm" id="idm45599667311520"/>A data lake is often synonymous with a cloud-based object storage system like Amazon S3. It allows data processing “in place” without moving it around, and a data lake accomplishes this through near-infinite capacity and computing characteristics. A data lake is a centralized repository that allows you to store all your structured and unstructured data at any scale.
When working in the film industry on movies like <a href="https://oreil.ly/ZgrZN"><em>Avatar</em></a>, the data was immense; it did need to be moved by an excessively complicated system. Now, with the cloud, this problem goes away.</p>
<p><a data-primary="deep learning" data-type="indexterm" id="idm45599667309616"/>Deep learning is a type of machine learning that uses neural networks to learn from large quantities of data to make predictions or find hidden patterns.  Deep learning is suited to cloud computing via data lakes due to its requirement for large amounts of data and powerful GPUs.  According to AWS, “Unlike traditional machine learning, deep learning attempts to simulate the way our brains learn and process information by creating artificial <em>neural networks</em> that can extract complicated concepts and relationships from data. Deep learning models improve through complex pattern recognition in pictures, text, sounds, and other data to produce more accurate insights and predictions.”  You can learn more about data lakes and deep learning in the O’Reilly book Noah wrote, <a class="orm:hideurl" href="https://learning.oreilly.com/library/view/practical-mlops/9781098103002"><em>Practical MLOps</em></a>.</p>
</div></aside>
<figure><div class="figure" id="Figure-1-7-2">
<img alt="doac 0101" height="690" src="assets/doac_0101.png" width="987"/>
<h6><span class="label">Figure 1-1. </span>Near infinite compute</h6>
</div></figure>
<dl>
<dt>The elimination of up-front commitment by cloud users</dt>
<dd>
<p>For many start-ups, spending hundreds of thousands of dollars on buying equipment to try out an idea is not feasible.  The cloud enables an opportunistic way to develop software by eliminating high fixed costs before cloud computing.  Not only that, but you are not locked into a particular technology choice as you are in an on-premise data center.</p>
</dd>
<dt>The ability to pay for the use of computing resources on a short-term basis as needed</dt>
<dd>
<p>By switching to variable costs, companies only pay for what they need.  The result is more efficient architectures that can respond to events and scale according to demand.
As you can see, the critical cloud benefit is the ability to use elastic capabilities, namely, compute and storage.  <a data-primary="EFS (Elastic File System)" data-type="indexterm" id="idm45599667302080"/><a data-primary="Elastic File System (EFS)" data-type="indexterm" id="idm45599667301312"/>One such resource is an Elastic File System (EFS) on AWS.  According to AWS, <a href="https://aws.amazon.com/efs">EFS</a> is a “simple, serverless, set-and-forget, elastic file system.”  It works well with the core elasticity capability of <a data-primary="Spot Instances" data-type="indexterm" id="idm45599667299824"/>AWS in that it allows a developer to provision or tear down ephemeral resources like spot instances for a task yet interact with persistent storage available to all machines that use it. <a href="https://aws.amazon.com/ec2/spot"><em>Spot instances</em></a> are compute instances you can bid on and obtain for up to 90% cost savings, making them ideal for workflows that can be run anytime or are transient.<sup><a data-type="noteref" href="ch01.xhtml#idm45599667298000" id="idm45599667298000-marker">1</a></sup></p>
</dd>
</dl>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><a data-primary="cost optimization" data-type="indexterm" id="idm45599667295184"/><a data-primary="Well-Architected Framework" data-type="indexterm" id="idm45599667294480"/>AWS takes cost optimization very seriously and includes it as one of their <a href="https://oreil.ly/LzKgE">AWS Well-Architected Framework</a> pillars.  According to AWS, “The AWS Well-Architected Framework helps you understand the pros and cons of decisions you make while building systems on AWS.”   Spot instances are a considerable part of the cost optimization story because they allow you to bid on unused capacity, achieving, as a result, up to 90% off regular on-demand pricing.  For developers learning something, this resource is invaluable because you only “pay for what you need.”</p>
<p>Fully managed networked file systems like EFS are helpful in that they provide a consistent network experience, like a persistent home directory or data share.  “Amazon Elastic File System (Amazon EFS) automatically grows and shrinks as you add and remove files with no need for management or provisioning,” according to official <a href="https://aws.amazon.com/efs">AWS documentation</a>.</p>
</div>
<p>One of the most troublesome bottlenecks in dealing with large data is needing more compute, disk I/O (input/output), and storage to process a task, like counting the visits to a website for a company with terabytes of data.  In particular, the ability to seamlessly use a file system mountable by a cluster of machines (i.e., EFS) and grow to meet the I/O demands of the cluster’s aggregate work is a massive efficiency that did not exist until cloud computing.</p>
<p><a data-primary="EC2 (Elastic Compute Cloud)" data-secondary="about" data-type="indexterm" id="idm45599668334880"/>Another elastic resource is <a href="https://oreil.ly/dnQh1">EC2</a> virtual computing environments, also known as instances.  EC2 instances are a basic level of scalable computing capacity provided by AWS. They have many features, including using Amazon Machine Images (AMIs) that package a complete server install.   They are handy for scaling web services, trying out prototypes, or bidding on spare capacity, as with AWS Spot Instances. Spot Instances open up entirely new ways of working because virtual machines can be disposable, i.e., discarded when not needed, and used when the costs are low enough to justify their use.<a data-startref="ix_ch01-asciidoc1" data-type="indexterm" id="idm45599668332528"/></p>
</div></section>
<section data-pdf-bookmark="Types of Cloud Computing" data-type="sect1"><div class="sect1" id="idm45599668331568">
<h1>Types of Cloud Computing</h1>
<p><a data-primary="cloud computing (generally)" data-secondary="types of" data-type="indexterm" id="ix_ch01-asciidoc2"/>One consideration to be aware of is the types of cloud computing:  IaaS (Infrastructure as a Service), PaaS (Platform as a Service), FaaS (Function as a Service), and SaaS (Software as a Service).  Let’s discuss each in detail.</p>
<dl>
<dt>IaaS</dt>
<dd>
<p><a data-primary="Infrastructure as a Service (IaaS)" data-type="indexterm" id="idm45599668326688"/>This option offers the basic building blocks of cloud computing, including networking, storage, and computing.  It provides the closest abstraction to traditional IT resources and the most flexibility.</p>
</dd>
<dt>PaaS</dt>
<dd>
<p><a data-primary="Platform as a Service" data-type="indexterm" id="idm45599668324688"/>This option is a hosted service that takes care of all IT management and allows a developer to focus only on building the business logic.  An excellent example of an AWS PaaS is <a href="https://aws.amazon.com/apprunner">AWS App Runner</a>, which allows for continuous delivery of .NET applications with minimal effort.  This type of offering removes the need to manage IT infrastructure.  It allows an organization to focus on the deployment and management of applications.</p>
</dd>
<dt>FaaS</dt>
<dd>
<p><a data-primary="Function as a Service (FaaS)" data-type="indexterm" id="idm45599668322000"/>FaaS is fascinating as a development paradigm because it allows a developer to work at the speed of thought.  AWS Lambda is the canonical example of this model due to its automatic management of the compute resources.<sup><a data-type="noteref" href="ch01.xhtml#idm45599668321152" id="idm45599668321152-marker">2</a></sup> For a .NET developer, it is perhaps the most efficient way to deploy logic to the cloud since the code only runs when responding to an event.</p>
</dd>
<dt>SaaS</dt>
<dd>
<p><a data-primary="SaaS (Software as a Service)" data-type="indexterm" id="idm45599666837504"/><a data-primary="Software as a Service (SaaS)" data-type="indexterm" id="idm45599666836736"/>This option provides a complete product available to purchase, freeing up an organization from needing to either host or develop this offering. An excellent example of this type of product is a logging and monitoring analysis service.</p>
</dd>
<dt>Other (“as a service”)</dt>
<dd>
<p>There are newer “as a service” offerings made available by cloud computing.  These services are discussed in more detail a little later in the book.</p>
</dd>
</dl>
<p><a data-primary="cost optimization" data-type="indexterm" id="idm45599666834128"/>The general intuition is that IaaS means you pay less but have to do more, SaaS means you pay more but do less, and PaaS lies in the middle.<sup><a data-type="noteref" href="ch01.xhtml#idm45599666833136" id="idm45599666833136-marker">3</a></sup>  This concept is similar to walking into a big warehouse store and either buying flour to make pizza, buying a frozen pizza, or buying a cooked slice of pizza at the counter on your way out.   Whether we’re talking about pizza or software, you pay less but do more in situations where you have expertise and time to do things yourself.  Alternatively, the convenience of higher level service, i.e., a hot slice of pizza, is worth leveraging the experts.</p>
<p>While the raw cost of IaaS may be less, it is also closer to the traditional way of doing things in physical data, which may not always mean it is cheaper.  IaaS may not always be more affordable because the total ROI (return on investment) may be higher since you need to pay for highly trained staff to develop and manage applications on top of IaaS.  Additionally, some traditional paradigms like running a web service in a virtual machine may cost more money than an event-driven AWS Lambda function that only runs when invoked.</p>
<p><a data-primary="cloud native service" data-type="indexterm" id="idm45599666831120"/>Another way to describe an efficient event-driven service like AWS Lambda is to call it a <em>cloud native service</em>.  Cloud native services are new offerings created due to efficiencies made possible by cloud computing and offer paradigms not available in traditional IT infrastructure, such as responding to web events versus running a web server 24/7.   In concrete terms, an AWS Lambda function could run for just a few seconds of combined compute time per day.  Meanwhile, a traditional web service would run 24/7 regardless of whether it’s receiving thousands of requests per second or just a dozen requests in a day.  This concept is similar to the lights in a parking garage: you could waste electricity lighting an empty garage or you could use sensor lights that only turn on when motion triggers them.  In this case, IaaS may be a more expensive solution when the ROI of the resources required to build it and the application’s run-time inefficiencies are fully considered in the cost.</p>
<p><a data-primary="managed services" data-type="indexterm" id="idm45599666829504"/>Another way to refer to services that require little to no management on your part is <em>managed services</em>. <a data-primary="CloudSearch" data-type="indexterm" id="idm45599666828288"/>An excellent example of a managed service is Amazon CloudSearch.  The managed service in the AWS Cloud makes it simple and cost-effective to set up, manage, and scale a search solution for your website or application. Managed services are the opposite of IaaS, which require experts to set up, run, and maintain them.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>AWS uses the term <em>managed services</em> to refer to PaaS, SaaS, and FaaS services. You’ll likely only see the term <em>managed services</em> used in AWS documentation.<a data-startref="ix_ch01-asciidoc2" data-type="indexterm" id="idm45599666825440"/></p>
</div>
<p>Next, let’s dive into how to get started with AWS.</p>
</div></section>
<section data-pdf-bookmark="Getting Started with AWS" data-type="sect1"><div class="sect1" id="idm45599666823968">
<h1>Getting Started with AWS</h1>
<p><a data-primary="AWS (generally)" data-secondary="getting started with" data-type="indexterm" id="ix_ch01-asciidoc3"/>An ideal place to get started with AWS is to sign up for a <a href="https://aws.amazon.com/free">free tier account</a>. When you initially create the account note, you need to set both an account name and the email address for the root user as shown in <a data-type="xref" href="#Figure-1-1-1">Figure 1-2</a>.</p>
<figure><div class="figure" id="Figure-1-1-1">
<img alt="doac 0102" height="382" src="assets/doac_0102.png" width="299"/>
<h6><span class="label">Figure 1-2. </span>Sign up for AWS</h6>
</div></figure>
<p>Once you create an account, the first thing to do is to lock away your AWS account root user access keys.<sup><a data-type="noteref" href="ch01.xhtml#idm45599666815792" id="idm45599666815792-marker">4</a></sup> on how to lock your AWS account root user access keys.] You don’t want to use the root user for everyday tasks but instead create an IAM admin user.<sup><a data-type="noteref" href="ch01.xhtml#idm45599666813856" id="idm45599666813856-marker">5</a></sup></p>
<p>This is because if you expose the account credentials, it is possible to lose control of your AWS account.  <a data-primary="principle of least privilege (PLP)" data-type="indexterm" id="idm45599666812128"/>A fundamental security principle is the principle of least privilege (PLP), which states that you should “start with a minimum set of permissions and grant additional permissions as necessary.”  <a data-primary="multifactor authentication" data-type="indexterm" id="idm45599666811072"/>Additionally, the root user account should enable AWS multifactor authentication (MFA) on the AWS root user account to review the step-by-step instructions on how to secure your account with MFA.<sup><a data-type="noteref" href="ch01.xhtml#idm45599666810048" id="idm45599666810048-marker">6</a></sup></p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>It is worth noting that a standard stumbling block in getting up to speed quickly with cloud computing is the terminology.  Fortunately, AWS has a detailed and updated <a href="https://oreil.ly/5s83K">glossary of terms</a> worth bookmarking.</p>
</div>
<p>A straightforward way to use AWS is via the AWS web console.  Let’s tackle this next.</p>
<section data-pdf-bookmark="Using the AWS Management Console" data-type="sect2"><div class="sect2" id="idm45599666806240">
<h2>Using the AWS Management Console</h2>
<p><a data-primary="AWS (generally)" data-secondary="Management Console" data-type="indexterm" id="ix_ch01-asciidoc4"/><a data-primary="Management Console" data-type="indexterm" id="ix_ch01-asciidoc5"/>The AWS Management Console, as shown in <a data-type="xref" href="#Figure-1-1-2">Figure 1-3</a>, is the central location to control AWS from a web browser.<sup><a data-type="noteref" href="ch01.xhtml#idm45599666801440" id="idm45599666801440-marker">7</a></sup>  The Services tab shows a hierarchical view of every service on the platform.  Adjacent to this tab is a search box that allows you to search for a service.  We find ourselves using the search box frequently, as it is often the quickest way to navigate to a service.  Adjacent to the search box is the AWS CloudShell icon, which appears as a black and white terminal icon.  <a href="https://aws.amazon.com/cloudshell">This service</a> is a great way to quickly try out commands on the AWS platform, like listing <a href="https://oreil.ly/SvdPd">S3 buckets</a>—containers for object storage—in your account or running a command against a managed natural language processing API like <a href="https://aws.amazon.com/comprehend">AWS Comprehend</a>.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Conceptually, an S3 bucket is similar to consumer cloud storage like Dropbox, Box, or Google Drive.</p>
</div>
<p>The circled N. Virginia tab shows the AWS region currently used.  It is common to toggle to different regions to launch virtual machines or try services in another region.  Often, but not always, new services first appear in the N. Virginia region, so depending on what region your organization is using, they may need to toggle to N. Virginia to try out a new service and then back again.  Likewise, suppose a new service appears in a different region like US West (Oregon). You may find yourself trying that new service out in that region and then needing to toggle back to your primary region.</p>
<figure><div class="figure" id="Figure-1-1-2">
<img alt="doac 0103" height="822" src="assets/doac_0103.png" width="1441"/>
<h6><span class="label">Figure 1-3. </span>Using the AWS Console</h6>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>The <a href="https://oreil.ly/QU1ur">cost of services</a> and transferring data out of AWS may vary between regions.</p>
</div>
<p>Finally, the Recently visited tab shows services recently used.  After prolonged use of AWS, it is common to have most of the daily services appear in this section, providing a helpful shortcut menu to use AWS.  Another thing to note is that you can <a href="https://oreil.ly/Q14E7">“star”</a> an item in the console to add it to the Favorites tab, as shown in <a data-type="xref" href="#Figure-1-1-2-1-favorites">Figure 1-4</a>.  This process can be a convenient way to access services you use often.<a data-startref="ix_ch01-asciidoc5" data-type="indexterm" id="idm45599668074752"/><a data-startref="ix_ch01-asciidoc4" data-type="indexterm" id="idm45599668074080"/></p>
<figure><div class="figure" id="Figure-1-1-2-1-favorites">
<img alt="doac 0104" height="656" src="assets/doac_0104.png" width="2222"/>
<h6><span class="label">Figure 1-4. </span>Favorites in the AWS Management Console</h6>
</div></figure>
<p>Next, let’s look at utilizing the AWS communities and documentation resources.</p>
</div></section>
<section data-pdf-bookmark="Utilizing the AWS Communities and Documentation" data-type="sect2"><div class="sect2" id="idm45599668070912">
<h2>Utilizing the AWS Communities and Documentation</h2>
<p><a data-primary="AWS (generally)" data-secondary="communities and documentation" data-type="indexterm" id="ix_ch01-asciidoc6"/><a data-primary="communities and documentation" data-type="indexterm" id="ix_ch01-asciidoc7"/>A tremendous variety of documentation is available for learning about the AWS platform in various forms and depth.  Let’s discuss these resources next.</p>
<section data-pdf-bookmark="The .NET on AWS website" data-type="sect3"><div class="sect3" id="idm45599668067024">
<h3>The .NET on AWS website</h3>
<p><a data-primary=".NET" data-primary-sortas="NET" data-secondary="website" data-type="indexterm" id="idm45599668065504"/><a data-primary="communities and documentation" data-secondary=".NET on AWS website" data-secondary-sortas="NET on AWS" data-type="indexterm" id="idm45599668064256"/>The <a href="https://oreil.ly/cS5eZ">.NET on AWS website</a> is the central location for information about using .NET with AWS.   From here, readers can find service and SDK documentation, AWS toolkits and migration tools, getting started tutorials, developer community links, and other content.</p>
<p>It is wise for a .NET developer to bookmark this website since it has a curated view of helpful resources.  One of my favorite sections is the <a href="https://oreil.ly/de3mt">.NET Community tab</a>.  This section has a link to many popular developer communities, as shown in <a data-type="xref" href="#Figure-1-1-3">Figure 1-5</a> including Twitter, re:Post, Stack Overflow, Slack, GitHub, and Global AWS User Groups.<sup><a data-type="noteref" href="ch01.xhtml#idm45599668457424" id="idm45599668457424-marker">8</a></sup></p>
<figure><div class="figure" id="Figure-1-1-3">
<img alt="doac 0105" height="304" src="assets/doac_0105.png" width="1438"/>
<h6><span class="label">Figure 1-5. </span>Developer communities for .NET</h6>
</div></figure>
<p>One of the more valuable sections of the community portal is the links to YouTube channels and developer blogs.  Finally, there are links to open source .NET projects that AWS invests in, including <a href="https://github.com/aws/dotnet">.NET on AWS</a> and <a href="https://github.com/aws/aws-sdk-net">AWS SDK for .NET</a>.</p>
<p>Next, let’s look at the AWS SDK for .NET documentation.</p>
</div></section>
<section class="pagebreak-before less_space" data-pdf-bookmark="AWS SDK for .NET documentation" data-type="sect3"><div class="sect3" id="one-aws-sdk">
<h3>AWS SDK for .NET documentation</h3>
<p><a data-primary="communities and documentation" data-secondary="SDK for .NET documentation" data-type="indexterm" id="idm45599668447904"/><a data-primary="SDK (Software Development Kit)" data-secondary="SDK for .NET documentation" data-type="indexterm" id="idm45599668446736"/><a data-primary="SDK for .NET" data-secondary="documentation" data-type="indexterm" id="idm45599668445760"/>You can learn to develop and deploy applications with the AWS SDK for .NET at the <a href="https://aws.amazon.com/sdk-for-net">official website</a>. This website includes several essential guides, including the <a href="https://oreil.ly/4xmTZ">Developer Guide</a>, the  <a href="https://oreil.ly/EHPkN">API Reference Guide</a>, and the  <a href="https://oreil.ly/Y0f0G">SDK Code Examples Guide</a>.</p>
<p>Another essential resource is the necessary development .NET tools on AWS, shown in <a data-type="xref" href="#Figure-1-1-4">Figure 1-6</a>.  These include AWS Toolkit for Rider, AWS Toolkit for Visual Studio, AWS Toolkit for Visual Studio Code, and AWS Tools for Azure DevOps.</p>
<figure><div class="figure" id="Figure-1-1-4">
<img alt="doac 0106" height="212" src="assets/doac_0106.png" width="1391"/>
<h6><span class="label">Figure 1-6. </span>Explore .NET tools on AWS</h6>
</div></figure>
<p>We’ll dig into the AWS SDK later in the chapter.  Next, let’s take a look at the AWS service documentation.</p>
</div></section>
<section data-pdf-bookmark="AWS service documentation" data-type="sect3"><div class="sect3" id="idm45599667291824">
<h3>AWS service documentation</h3>
<p><a data-primary="communities and documentation" data-secondary="AWS service documentation" data-type="indexterm" id="idm45599667290576"/>AWS has so many services that it can be overwhelming at first to understand which service is appropriate for the task at hand.  Fortunately, there is a centralized web page, the  <a href="https://docs.aws.amazon.com">AWS documentation website</a>, containing guides and API references, tutorials and projects, SDKs and toolkits, as well general resources like FAQs and links to case studies.</p>
<p>One item to call out is that AWS has many SDKs and toolkits, as shown in <a data-type="xref" href="#Figure-1-1-5">Figure 1-7</a>, including the AWS CLI.  It can be helpful for a .NET developer to see examples in many languages to get ideas for solutions you can build .NET.  The  <a href="https://aws.amazon.com/cli">AWS Command Line Interface</a> is often the most efficient documentation for a service since it abstracts the concepts at a level that makes it easy to understand what is going on.  An excellent example of this concept is the following command to copy a folder recursively into AWS S3 object storage:</p>
<pre data-type="programlisting">aws s3 cp myfolder s3://mybucket/myfolder --recursive</pre>
<p>Each whitespace separates the command’s actions, i.e., <code>aws</code> then <code>s3</code> for the service, the action <code>s3</code>, and the rest of the command.  There is no quicker way to learn a service on AWS than to invoke it from the command line in many cases.<a data-startref="ix_ch01-asciidoc7" data-type="indexterm" id="idm45599667283712"/><a data-startref="ix_ch01-asciidoc6" data-type="indexterm" id="idm45599667283008"/></p>
<figure><div class="figure" id="Figure-1-1-5">
<img alt="doac 0107" height="435" src="assets/doac_0107.png" width="1175"/>
<h6><span class="label">Figure 1-7. </span>Explore AWS SDK and toolkits</h6>
</div></figure>
<p>Next, let’s talk about installing the AWS Command Line.</p>
</div></section>
</div></section>
<section data-pdf-bookmark="Using the AWS Command Line Interface" data-type="sect2"><div class="sect2" id="idm45599667279680">
<h2>Using the AWS Command Line Interface</h2>
<p><a data-primary="AWS (generally)" data-secondary="Command Line Interface" data-type="indexterm" id="ix_ch01-asciidoc8"/><a data-primary="Command Line Interface (CLI)" data-type="indexterm" id="ix_ch01-asciidoc9"/>According to the <a href="https://aws.amazon.com/cli">official AWS documentation</a>, “The AWS Command Line Interface (CLI) is a unified tool to manage your AWS services. With just one tool to download and configure, you can control multiple AWS services from the command line and automate them through scripts.”</p>
<p><a data-primary="Command Line Interface (CLI)" data-secondary="methods for interacting with" data-type="indexterm" id="ix_ch01-asciidoc10"/>There are four essential methods to interact with the AWS Command Line Interface.<sup><a data-type="noteref" href="ch01.xhtml#idm45599667273312" id="idm45599667273312-marker">9</a></sup> Let’s discuss each briefly.</p>
<dl>
<dt>AWS CloudShell</dt>
<dd>
<p><a data-primary="CloudShell" data-type="indexterm" id="idm45599668596704"/><a href="https://aws.amazon.com/cloudshell">AWS CloudShell</a> is a cloud native browser-based shell, meaning that it takes advantage of the unique properties of the cloud by preinstalling the AWS CLI for you.  You can choose between the <a href="https://oreil.ly/3prep">Bash shell, PowerShell, or Z shell</a>.</p>
</dd>
<dt>AWS Cloud9</dt>
<dd>
<p><a data-primary="Cloud9" data-type="indexterm" id="idm45599668593264"/><a href="https://aws.amazon.com/cloud9">AWS Cloud9</a> is a cloud native interactive development environment (IDE) that has deep hooks into AWS with unique development tools suited to developing not just for the cloud but inside the cloud itself.</p>
</dd>
<dt>Linux shells</dt>
<dd>
<p><a data-primary="Linux shells, Command Line Interface and" data-type="indexterm" id="idm45599668590448"/>By using the <a href="https://oreil.ly/rWRSi">Amazon Linux 2 AMI</a>, you automatically get access to the command-line tools for AWS integration. Alternatively, you can install the AWS CLI on any <a href="https://oreil.ly/xVxX1">Linux system</a>.</p>
</dd>
<dt>Windows command line</dt>
<dd>
<p><a data-primary="Windows command line, CLI and" data-type="indexterm" id="idm45599668586784"/><a href="https://oreil.ly/iX5tt">Managed AWS Windows AMIs</a> come with AWS CLI. Alternatively, you can download and run the <a href="https://oreil.ly/0qrv9">64-bit Windows installer</a>.</p>
</dd>
</dl>
<p>Next, let’s discuss the installation notes about each of these methods.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>You can watch a more detailed walk-through of using the AWS CloudShell, including interacting with Bash, ZSH, PowerShell, S3, Lambda, Python, IPython, Pip, Boto3, DynamoDB, and Cloud9 on   <a href="https://oreil.ly/F9y5o">YouTube</a> or <a href="https://oreil.ly/4J4Me">O’Reilly</a>.</p>
</div>
<dl>
<dt>How to install AWS CloudShell and AWS Cloud9</dt>
<dd>
<p><a data-primary="Cloud9" data-secondary="installation" data-type="indexterm" id="idm45599668579936"/><a data-primary="CloudShell" data-secondary="installation" data-type="indexterm" id="idm45599668578960"/>There is no installation process necessary for AWS CloudShell and AWS Cloud9 because they are already included in the AWS Console experience, as shown in <a data-type="xref" href="#Figure-1-1-9">Figure 1-8</a>.  Notice that searching for both tools brings them both up in search results, allowing you to “star” (i.e., add them as favorites) or click on them.  Finally, the terminal icon can also launch AWS CloudShell.  One key advantage of these cloud native terminals is they are fully managed and up-to-date and automatically manage your credentials.</p>
</dd>
</dl>
<figure><div class="figure" id="Figure-1-1-9">
<img alt="doac 0108" height="582" src="assets/doac_0108.png" width="1447"/>
<h6><span class="label">Figure 1-8. </span>Selecting AWS Cloud9 and AWS CloudShell</h6>
</div></figure>
<dl>
<dt>How to install the AWS CLI</dt>
<dd>
<p><a data-primary="Command Line Interface (CLI)" data-secondary="installation" data-type="indexterm" id="idm45599667443024"/>The AWS CLI installation comes with AWS Cloud9 or AWS CloudShell.  If you need to install the AWS CLI locally on Windows, <a href="https://oreil.ly/JDsuk">a detailed guide</a> is on the AWS website.</p>
</dd>
<dt>How to install AWSPowerShell.NETCore for AWS</dt>
<dd>
<p><a data-primary="AWSPowerShell.NETCore" data-seealso="PowerShell" data-type="indexterm" id="idm45599667439824"/><a data-primary="PowerShell" data-secondary="installation" data-type="indexterm" id="idm45599667438848"/><a data-primary="PowerShell" data-seealso="AWSPowerShell.NETCore" data-type="indexterm" id="idm45599667437904"/>If you need to run PowerShell for AWS locally on Windows, Linux, or macOS, you can refer to the <a href="https://oreil.ly/omRZp">PowerShell Gallery</a> to find the latest version of AWSPowerShell.NETCore and installation instructions for Windows, Linux, and macOS.  AWSPowerShell.NETCore is the recommended version of PowerShell for working with AWS because it has comprehensive cross-platform support.  Generally, though, you can install the following PowerShell command: <code>Install-Module -Name AWSPowerShell.NetCore</code>.</p>
</dd>
</dl>
<p>An alternative to installing PowerShell on a local operating system is using AWS CloudShell since it comes preinstalled. Next, let’s talk about how this process works.<a data-startref="ix_ch01-asciidoc10" data-type="indexterm" id="idm45599667434720"/></p>
<section data-pdf-bookmark="Using PowerShell with AWS CloudShell" data-type="sect3"><div class="sect3" id="idm45599667433888">
<h3>Using PowerShell with AWS CloudShell</h3>
<p><a data-primary="CloudShell" data-secondary="using PowerShell with" data-type="indexterm" id="ix_ch01-asciidoc11"/><a data-primary="Command Line Interface (CLI)" data-secondary="using PowerShell with CloudShell" data-type="indexterm" id="ix_ch01-asciidoc12"/><a data-primary="PowerShell" data-secondary="CloudShell and" data-type="indexterm" id="ix_ch01-asciidoc13"/>An excellent guide for using AWS Tools for PowerShell lives on the <a href="https://oreil.ly/zOG86">AWS website</a>. Let’s look at a simple example to supplement the official documentation.  In the following example, as shown in <a data-type="xref" href="#Figure-1-1-10">Figure 1-9</a>, we create an AWS bucket by invoking the <code>New-S3Bucket</code> cmdlet to create a new Amazon S3 bucket.</p>
<figure><div class="figure" id="Figure-1-1-10">
<img alt="doac 0109" height="119" src="assets/doac_0109.png" width="586"/>
<h6><span class="label">Figure 1-9. </span>Create AWS bucket in AWS PowerShell</h6>
</div></figure>
<p>Next, we can go to the AWS Console, select S3, and verify it appears, as shown in <a data-type="xref" href="#Figure-1-1-11">Figure 1-10</a>.</p>
<figure><div class="figure" id="Figure-1-1-11">
<img alt="doac 0110" height="193" src="assets/doac_0110.png" width="1106"/>
<h6><span class="label">Figure 1-10. </span>Show AWS bucket in AWS S3 Console</h6>
</div></figure>
<p>It is worth mentioning that PowerShell for AWS offers a sophisticated and high-level interface to control and interact with services on AWS, including EC2, S3, Lambda, and more.  You can further explore those in the <a href="https://oreil.ly/2V072">AWS documentation</a>.</p>
<p>The AWS CloudShell supports three shells: PowerShell, Bash, and Z shell.  To use PowerShell, you type <strong><code>pwsh</code></strong>.  You can explore all AWS CloudShell features using the official <a href="https://oreil.ly/z1CC4">documentation</a>.  The AWS CloudShell comes with 1 GB of persistent storage in <em>/home/cloudshell-user</em>.  The action menu, as shown in <a data-type="xref" href="#Figure-1-1-12">Figure 1-11</a>, allows you to perform many practical actions, including downloading and uploading files, restarting the terminal, deleting the data in the home directory, and configuring the tabs layout of the terminal.</p>
<figure class="width-50"><div class="figure" id="Figure-1-1-12">
<img alt="doac 0111" height="461" src="assets/doac_0111.png" width="461"/>
<h6><span class="label">Figure 1-11. </span>AWS CloudShell action menu</h6>
</div></figure>
<p>Fortunately, the AWS CloudShell PowerShell is straightforward, similar to local PowerShell.  First, to use <code>AWSPowerShell.NetCore</code>, import it as shown in the following sequence, echo content into a file, and write it to the bucket created earlier.  Finally, run <code>Get-S3Object</code> to verify the file’s creation in S3, which you can see in <a data-type="xref" href="#Figure-1-1-13">Figure 1-12</a>.</p>
<pre data-code-language="powershell" data-type="programlisting"><code class="nb">Import-Module</code> <code class="n">AWSPowerShell</code><code class="p">.</code><code class="n">NetCore</code>
<code class="nb">echo </code><code class="s2">"This is data"</code> <code class="p">&gt;</code> <code class="n">data</code><code class="p">.</code><code class="n">txt</code>
<code class="nb">Write-S3Object</code> <code class="n">-BucketName</code> <code class="n">silly-name</code><code class="p">-</code><code class="n">1234</code> <code class="o">-File</code> <code class="n">data</code><code class="p">.</code><code class="n">txt</code>
<code class="nb">Get-S3Object</code></pre>
<figure><div class="figure" id="Figure-1-1-13">
<img alt="doac 0112" height="539" src="assets/doac_0112.png" width="1194"/>
<h6><span class="label">Figure 1-12. </span>AWS CloudShell create file S3</h6>
</div></figure>
<p>Another feature of the CloudShell and PowerShell environment is invoking C# code.  To get started using PowerShell with C#, you can create a C# snippit and embed it in a script called <em>./hello-ps-c-sharp.ps1</em>.  The C# code comes after the <code>$code = @"</code> block and then terminates at <code>"@</code>.  The general idea is that if you are using PowerShell inside of AWS CloudShell, you can use existing snippets of helpful C# to enhance a PowerShell script without needing a full-fledged editor:</p>
<pre data-code-language="csharp" data-type="programlisting"><code class="err">$</code><code class="n">code</code> <code class="p">=</code> <code class="s">@"</code>
<code class="s">using System;</code>
<code class="s">namespace HelloWorld</code>
<code class="s">{</code>
<code class="s">        public class Program</code>
<code class="s">        {</code>
<code class="s">                public static void Main(){</code>
<code class="s">                        Console.WriteLine("</code><code class="n">Hello</code> <code class="n">AWS</code> <code class="n">Cloudshell</code><code class="p">!</code><code class="s">");</code>
                <code class="p">}</code>
        <code class="p">}</code>
<code class="p">}</code>
<code class="s">"@</code>

<code class="n">Add</code><code class="p">-</code><code class="n">Type</code> <code class="p">-</code><code class="n">TypeDefinition</code> <code class="err">$</code><code class="n">code</code> <code class="p">-</code><code class="n">Language</code> <code class="n">CSharp</code>
<code class="n">iex</code> <code class="s">"[HelloWorld.Program]::Main()"</code>

<code class="n">Install</code><code class="p">-</code><code class="n">Module</code> <code class="p">-</code><code class="n">Name</code> <code class="n">AWS</code><code class="p">.</code><code class="n">Tools</code><code class="p">.</code><code class="n">Installer</code> <code class="p">-</code><code class="n">Force</code></pre>
<p>Next, run it in your PowerShell prompt:</p>
<pre data-code-language="bash" data-type="programlisting">PS /home/cloudshell-user&gt; ./hello-ps-c-sharp.ps1
Hello AWS Cloudshell!
PS /home/cloudshell-user&gt;</pre>
<p><a data-primary="Bash, PowerShell versus" data-type="indexterm" id="idm45599658455216"/>Consider using Bash and PowerShell, depending on which one makes more sense in a given context.  If you are doing something with pure .NET capabilities, then PowerShell is an easy win.  On the other hand, you may find some documentation for scripting a solution with Bash on the AWS website.  Instead of rewriting the example, simply use it and extend in Bash, saving you time.</p>
<p>In the following example, we use a Bash hash to store a list of Cloud9 IDs and then get information about them:</p>
<pre data-code-language="bash" data-type="programlisting"><code class="ch">#!/usr/bin/env bash</code>
<code class="c1"># Loop through a list of Cloud9 Environments to find out more information</code>

<code class="nb">declare</code> -A <code class="nv">cloud9Env</code><code class="o">=([</code>env1<code class="o">]=</code><code class="s2">"18acd120518340df8a73ccaab641851e"</code><code class="se">\</code>
    <code class="o">[</code>env2<code class="o">]=</code><code class="s2">"2c9eb66bf53b4083b9ab6345bae70dad"</code><code class="se">\</code>
    <code class="o">[</code>env3<code class="o">]=</code><code class="s2">"f104b0141c284a41af0c75fea7890770"</code> <code class="o">)</code>

<code class="c1">## now loop through the above hash to get more information</code>
<code class="k">for</code> env <code class="k">in</code> <code class="s2">"</code><code class="si">${</code><code class="p">!cloud9Env[@]</code><code class="si">}</code><code class="s2">"</code><code class="p">;</code> <code class="k">do</code>
   <code class="nb">echo</code> <code class="s2">"Information for </code><code class="nv">$env</code><code class="s2">: "</code>
   aws cloud9 describe-environments --environment-id <code class="s2">"</code><code class="si">${</code><code class="nv">cloud9Env</code><code class="p">[</code><code class="nv">$env</code><code class="p">]</code><code class="si">}</code><code class="s2">"</code>
<code class="k">done</code></pre>
<p>We don’t have to use Bash in this particular situation because there is excellent documentation on how to solve the problem in PowerShell for AWS.  PowerShell can do the same thing as Bash and has deep C# integration.  Notice the following example shows the PowerShell method of looping through several IDs stored in a hash:</p>
<pre data-code-language="bash" data-type="programlisting"><code class="c1"># PowerShell script that loops through Cloud9 to get environment information</code>

<code class="nv">$cloud9Env</code> <code class="o">=</code> @<code class="o">{</code> <code class="nv">env1</code> <code class="o">=</code> <code class="s2">"18acd120518340df8a73ccaab641851e"</code><code class="p">;</code>
                <code class="nv">env2</code> <code class="o">=</code> <code class="s2">"2c9eb66bf53b4083b9ab6345bae70dad"</code><code class="p">;</code>
                <code class="nv">env3</code> <code class="o">=</code> <code class="s2">"f104b0141c284a41af0c75fea7890770"</code> <code class="o">}</code>

foreach <code class="o">(</code><code class="nv">$env</code> <code class="k">in</code> <code class="nv">$cloud9Env</code>.GetEnumerator<code class="o">())</code> <code class="o">{</code>
            Write-Host <code class="s2">"Information for </code><code class="k">$(</code><code class="nv">$env</code>.Key<code class="k">)</code><code class="s2">:"</code><code class="p">;</code>
            Get-C9EnvironmentData <code class="k">$(</code><code class="nv">$env</code>.Value<code class="k">)</code>
<code class="o">}</code></pre>
<p>To summarize, the AWS CloudShell is a great companion for the C# developer, and it is worth having in your toolkit.  Now let’s use Visual Studio for AWS, a preferred environment for experienced .NET developers who use AWS<a data-startref="ix_ch01-asciidoc13" data-type="indexterm" id="idm45599658338304"/><a data-startref="ix_ch01-asciidoc12" data-type="indexterm" id="idm45599658327472"/><a data-startref="ix_ch01-asciidoc11" data-type="indexterm" id="idm45599658326864"/>.<a data-startref="ix_ch01-asciidoc9" data-type="indexterm" id="idm45599658326096"/><a data-startref="ix_ch01-asciidoc8" data-type="indexterm" id="idm45599658325392"/></p>
</div></section>
</div></section>
<section data-pdf-bookmark="Using Visual Studio with AWS and AWS Toolkit for Visual Studio" data-type="sect2"><div class="sect2" id="one-aws-tookit-visual-studio">
<h2>Using Visual Studio with AWS and AWS Toolkit for Visual Studio</h2>
<p><a data-primary="AWS (generally)" data-secondary="using Visual Studio with AWS and AWS Toolkit for Visual Studio" data-type="indexterm" id="ix_ch01-asciidoc14"/><a data-primary="Toolkit for Visual Studio" data-type="indexterm" id="ix_ch01-asciidoc15"/><a data-primary="Visual Studio" data-secondary="AWS and AWS Toolkit for Visual Studio" data-type="indexterm" id="ix_ch01-asciidoc16"/>Getting set up with Visual Studio with AWS is a straightforward process.  The required components are an AWS account, a machine running a supported version of Windows, Visual Studio Community Edition or higher, and <a href="https://aws.amazon.com/visualstudio">AWS Toolkit for Visual Studio</a>.  Please refer to this official AWS documentation for further details on setting up Visual Studio for AWS if this is your first time configuring it.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>If you want to use the latest .NET 6 features, you need to use Visual Studio 2022.  In practice, your best experience for Visual Studio with deep AWS integration is a Windows environment running the latest version of Visual Studio.   For example, a Mac version of Visual Studio exists, but the AWS Toolkit does not work on Mac.</p>
</div>
<p>The AWS SDK for .NET has deep integration with the Visual Studio environment, as shown in <a data-type="xref" href="#Figure-1-6">Figure 1-13</a>.  It includes interacting with AWS Core Services, including Amazon S3 and Amazon EC2, through the AWS Explorer integration installed as part of AWS Toolkit for Visual Studio.</p>
<figure><div class="figure" id="Figure-1-6">
<img alt="doac 0113" height="744" src="assets/doac_0113.png" width="1262"/>
<h6><span class="label">Figure 1-13. </span>AWS SDK for .NET</h6>
</div></figure>
<p>According to the official AWS documentation, the AWS Toolkit for Visual Studio is an extension for Microsoft Visual Studio running on Microsoft Windows that makes it “easier for developers to develop, debug, and deploy .NET applications using Amazon Web Services.”  This integration includes multiple ways to deploy applications and manage services.  A component of this integration manifests itself in the Server Explorer Toolbox, or AWS Explorer, as shown in <a data-type="xref" href="#Figure-1-7">Figure 1-14</a>. The AWS Explorer lets you manage and interact with AWS resources like Amazon S3 or EC2 instances within a Microsoft Windows Visual Studio environment.</p>
<p>Notice how straightforward it is to dive into many popular AWS services with a mouse click.</p>
<p>Visual Studio is a popular development for .NET for two reasons: it is both a fantastic editor and a rich ecosystem for .NET developers.  The AWS Toolkit for Visual Studio taps into this ecosystem as an extension for Microsoft Visual Studio on Windows, making it easier for developers to develop, debug, and deploy .NET applications using Amazon Web Services. You can see a complete list of the features available by reviewing the <a href="https://oreil.ly/v2Xne">installer’s official documentation</a>.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Note that <a href="https://oreil.ly/yWme7">Visual Studio Code</a> and <a href="https://oreil.ly/vVrq5">JetBrains Rider</a> both have AWS Toolkits.</p>
</div>
<figure><div class="figure" id="Figure-1-7">
<img alt="doac 0114" height="1029" src="assets/doac_0114.png" width="786"/>
<h6><span class="label">Figure 1-14. </span>AWS Explorer</h6>
</div></figure>
<p>The AWS Explorer installation does require three key steps:<sup><a data-type="noteref" href="ch01.xhtml#idm45599658279568" id="idm45599658279568-marker">10</a></sup></p>
<ol>
<li>
<p>Install the AWS Toolkit for Visual Studio</p>
<p>Download the <a href="https://oreil.ly/v2Xne"><em>AWS Toolkit for Visual Studio 2022</em></a> and install the package on your Windows machine that has a local installation of Visual Studio.</p>
</li>
</ol>
<ol class="pagebreak-before" start="2">
<li>
<p>Create an IAM user and download credentials</p>
<p>Create an IAM user in the AWS Console and apply the <em>principle of least privilege</em>.<sup><a data-type="noteref" href="ch01.xhtml#idm45599658273904" id="idm45599658273904-marker">11</a></sup> Ensure that you select the access key option, as shown in <a data-type="xref" href="#Figure-1-1-6">Figure 1-15</a>, and then download the credentials in CSV format when prompted.</p>
</li>
</ol>
<figure><div class="figure" id="Figure-1-1-6">
<img alt="doac 0115" height="732" src="assets/doac_0115.png" width="1441"/>
<h6><span class="label">Figure 1-15. </span>Create an IAM user for Visual Studio</h6>
</div></figure>
<ol start="3">
<li>
<p>Add credentials to Visual Studio</p>
<p>Finally, add the credentials you downloaded in CSV form to AWS Explorer, as shown in <a data-type="xref" href="#Figure-1-1-7">Figure 1-16</a>.</p>
</li>
</ol>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Extra special consideration is needed in downloading keys from AWS to use on any local development machine because if they are compromised, the privileges of those keys are available to whoever owns them.  Using the PLP, a developer should select IAM privileges that correspond only with the functions that are strictly necessary to develop the solutions you create on AWS.</p>
</div>
<figure><div class="figure" id="Figure-1-1-7">
<img alt="doac 0116" height="813" src="assets/doac_0116.png" width="1441"/>
<h6><span class="label">Figure 1-16. </span>Add credentials</h6>
</div></figure>
<p>Once AWS Toolkit for Visual Studio installs, it is also good to be vigilant about updating the tool shown in <a data-type="xref" href="#Figure-1-1-8">Figure 1-17</a> since it is actively under development with new features from AWS. You will see new updates to the AWS Toolkit for Visual Studio as notifications in Visual Studio.<a data-startref="ix_ch01-asciidoc16" data-type="indexterm" id="idm45599658263408"/><a data-startref="ix_ch01-asciidoc15" data-type="indexterm" id="idm45599658262800"/><a data-startref="ix_ch01-asciidoc14" data-type="indexterm" id="idm45599658262192"/></p>
<figure><div class="figure" id="Figure-1-1-8">
<img alt="doac 0117" height="559" src="assets/doac_0117.png" width="940"/>
<h6><span class="label">Figure 1-17. </span>Upgrading AWS Toolkit for Visual Studio</h6>
</div></figure>
<p>Next, let’s look at getting started with the AWS SDK.</p>
</div></section>
<section data-pdf-bookmark="Getting Started with the AWS SDK" data-type="sect2"><div class="sect2" id="idm45599658323904">
<h2>Getting Started with the AWS SDK</h2>
<p><a data-primary="SDK (Software Development Kit)" data-secondary="getting stated with" data-type="indexterm" id="ix_ch01-asciidoc17"/>The best method to learn a new technology is to build something.  Let’s get started with the AWS SDK by making a Console App that targets .NET 6 using the AWSSDK.S3 package from NuGet.  The steps are as follows:</p>
<ol>
<li>
<p>Create a new Console App targeting .NET 6.</p>
<p>Inside Visual Studio, create a new Console Application that serves as the vessel for the AWS S3 tool developed.</p>
</li>
<li>
<p>Install AWSSDK.S3 via NuGet.</p>
<p>With the newly created Console App loaded, choose Tools, then NuGet Package Manager, then Manage NuGet Packages for Solution.  Search for AWSSDK.S3 and install it into your Console Project.</p>
</li>
<li>
<p>Create the code.</p>
<p>Build the following Console App by replacing the <em>Program.cs</em> file with the content shown in the following example.</p>
</li>
</ol>
<div data-type="tip"><h6>Tip</h6>
<p>Another way to install NuGet Packages is to right-click on the project and select Manage NuGet Packages.</p>
</div>
<pre data-code-language="csharp" data-type="programlisting"><code class="k">using</code> <code class="nn">System</code><code class="p">;</code>
<code class="k">using</code> <code class="nn">System.Threading.Tasks</code><code class="p">;</code>

<code class="c1">// To interact with Amazon S3.</code>
<code class="k">using</code> <code class="nn">Amazon.S3</code><code class="p">;</code>
<code class="k">using</code> <code class="nn">Amazon.S3.Model</code><code class="p">;</code>

<code class="c1">// Create an S3 client object.</code>
<code class="kt">var</code> <code class="n">s3Client</code> <code class="p">=</code> <code class="k">new</code> <code class="n">AmazonS3Client</code><code class="p">();</code>

<code class="c1">// Display Prompt</code>
<code class="n">Console</code><code class="p">.</code><code class="n">WriteLine</code><code class="p">(</code><code class="s">"AWS Bucket Lister"</code> <code class="p">+</code> <code class="n">Environment</code><code class="p">.</code><code class="n">NewLine</code><code class="p">);</code>

<code class="c1">// Process API Calls Async List AWS Buckets</code>
<code class="kt">var</code> <code class="n">listResponse</code> <code class="p">=</code> <code class="k">await</code> <code class="n">s3Client</code><code class="p">.</code><code class="n">ListBucketsAsync</code><code class="p">();</code>
<code class="n">Console</code><code class="p">.</code><code class="n">WriteLine</code><code class="p">(</code><code class="err">$</code><code class="s">"Number of buckets: {listResponse.Buckets.Count}"</code><code class="p">);</code>

<code class="c1">// Loop through the AWS buckets</code>
<code class="k">foreach</code> <code class="p">(</code><code class="n">S3Bucket</code> <code class="n">b</code> <code class="k">in</code> <code class="n">listResponse</code><code class="p">.</code><code class="n">Buckets</code><code class="p">)</code>
<code class="p">{</code>
  <code class="n">Console</code><code class="p">.</code><code class="n">WriteLine</code><code class="p">(</code><code class="n">b</code><code class="p">.</code><code class="n">BucketName</code><code class="p">);</code>
<code class="p">}</code></pre>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>For fans of the command line, it is worth noting that you can also use the <code>dotnet</code> command-line tool to create a Console Application as in the following snippet: <code>dotnet new console --framework net6.0</code>.<sup><a data-type="noteref" href="ch01.xhtml#idm45599658141328" id="idm45599658141328-marker">12</a></sup></p>
</div>
<p>The Console App result then details a list of S3 buckets that the AWS user who has run the .NET application had, as shown in <a data-type="xref" href="#Figure-1-9">Figure 1-18</a>.</p>
<figure><div class="figure" id="Figure-1-9">
<img alt="doac 0118" height="766" src="assets/doac_0118.png" width="873"/>
<h6><span class="label">Figure 1-18. </span>Async listing buckets</h6>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>You can also watch a walk-through of building this S3 Console Application from scratch on <a href="https://oreil.ly/itGcO">O’Reilly</a> or <a href="https://youtu.be/DGI_Vd04DpM">YouTube</a>.</p>
</div>
<p>A follow-up step to this Console Application would be to extend the functionality to create buckets and not just list them, as shown in this <a href="https://oreil.ly/jKBKl">AWS tutorial</a> for the AWS SDK for .NET.<a data-startref="ix_ch01-asciidoc17" data-type="indexterm" id="idm45599658133008"/></p>
<p>Next, let’s wrap up everything covered in this chapter.</p>
</div></section>
</div></section>
<section data-pdf-bookmark="Conclusion" data-type="sect1"><div class="sect1" id="idm45599666823472">
<h1>Conclusion</h1>
<p>Cloud computing is a crucial driver of innovation in technology because it opens up more efficient ways to work.<sup><a data-type="noteref" href="ch01.xhtml#idm45599658130560" id="idm45599658130560-marker">13</a></sup>  By leveraging near-infinite resources and cloud native managed services, developers can enhance their productivity by focusing on the problem at hand versus issues unrelated to building a solution, like systems administration.  This chapter covered how to start working with Amazon Cloud Services, first using a CloudShell, then moving to a full-fledged Visual Studio code environment.</p>
<p>The Visual Studio environment benefits from the AWS Toolkit, which has advanced features for interacting with the AWS Cloud.  The AWS SDK is available directly inside Visual Studio via the NuGet package manager.  The AWS SDK allows for straightforward integration into Visual Studio solutions like Console Applications.  We used the AWS SDK to build out Console Applications with low-level services like AWS S3 and high-level AI APIs like AWS Comprehend.</p>
<p>A recommended next step for readers is to view the critical thinking discussion questions to reflect on how you could leverage the full power of AWS.  You can take these questions and discuss them with your team or a coworker learning AWS.  Additionally, several challenge exercise suggestions below serve as good practice for building AWS services that target .NET 6.  Some of these services are not covered in detail yet, so you are welcome to skip them until they are covered in later chapters.<a data-primary=".NET" data-primary-sortas="NET" data-secondary="containerization of" data-see="containerization of .NET" data-type="indexterm" id="idm45599658128112"/><a data-primary=".NET" data-primary-sortas="NET" data-secondary="migrating legacy framework application to AWS" data-see="migrating legacy .NET framework application to AWS" data-type="indexterm" id="idm45599658126624"/><a data-primary=".NET applications" data-primary-sortas="NET applications" data-secondary="modernizing to serverless" data-see="serverless applications" data-type="indexterm" id="idm45599658125072"/><a data-primary="Amazon Comprehend; Amazon EC2, etc." data-see="Comprehend; EC2, etc." data-type="indexterm" id="idm45599658123568"/><a data-primary="AWS App Runner; AWS CloudShell, etc." data-see="App Runner; CloudShell, etc." data-type="indexterm" id="idm45599658122608"/><a data-primary="CI/CD" data-see="continuous integration/continuous delivery" data-type="indexterm" id="idm45599658121632"/><a data-primary="CLI" data-see="Command Line Interface" data-type="indexterm" id="idm45599658120656"/><a data-primary="Elastic Compute Cloud" data-see="EC2" data-type="indexterm" id="idm45599658119712"/><a data-primary="instrumentation" data-see="logging, monitoring, and instrumentation" data-type="indexterm" id="idm45599658118768"/><a data-primary="Inversion of Control (IoC)" data-see="dependency injection" data-type="indexterm" id="idm45599658117792"/><a data-primary="legacy framework application, migrating to AWS" data-see="migrating legacy .NET framework application to AWS" data-type="indexterm" id="idm45599658116832"/><a data-primary="Simple Storage Service" data-see="S3" data-type="indexterm" id="idm45599658115824"/><a data-primary="Software Development Kit" data-see="SDK" data-type="indexterm" id="idm45599658114880"/></p>
<p>Next up, in <a data-type="xref" href="ch02.xhtml#Chapter2">Chapter 2</a>, we cover AWS Core Services.  These include AWS Storage, EC2 Compute, and services like DynamoDB.  These services are the foundation for building cloud native applications that leverage the power of the .NET ecosystem<a data-startref="ix_ch01-asciidoc3" data-type="indexterm" id="idm45599658112832"/>.<a data-startref="ix_ch01-asciidoc0" data-type="indexterm" id="idm45599658112000"/></p>
</div></section>
<section data-pdf-bookmark="Critical Thinking Discussion Questions" data-type="sect1"><div class="sect1" id="idm45599658111168">
<h1>Critical Thinking Discussion Questions</h1>
<ul>
<li>
<p>What are the key differences between using Bash versus PowerShell in the AWS Cloudshell?</p>
</li>
<li>
<p>When would it be advantageous to use PowerShell versus Bash and vice versa?</p>
</li>
<li>
<p>How could mastering the command-line <code>dotnet</code> tools improve productivity?</p>
</li>
<li>
<p>Could the AWS Toolkit for Visual Studio benefit even nondevelopers in your organization, e.g., the operations team?  Why or why not?</p>
</li>
<li>
<p>What are the advantages of prototyping C# web services by deploying right from Visual Studio?</p>
</li>
</ul>
</div></section>
<section data-pdf-bookmark="Challenge Exercises" data-type="sect1"><div class="sect1" id="idm45599658104592">
<h1>Challenge Exercises</h1>
<ul>
<li>
<p>Build a C# or an F# Console App and deploy to AWS CloudShell.  Consider how the unique properties of a cloud-based development environment could help you automate workflows on the AWS Cloud, considering they don’t require API keys and are available without needing to deploy to AWS compute services to run.</p>
</li>
<li>
<p>Refer to the <a href="https://oreil.ly/EKZqZ">AWS CDK</a><sup><a data-type="noteref" href="ch01.xhtml#idm45599658100944" id="idm45599658100944-marker">14</a></sup> in C# documentation and create an S3 bucket via CDK.</p>
</li>
<li>
<p>Build and deploy an Elastic Beanstalk application using Visual Studio and the <a href="https://oreil.ly/yWme7">AWS Toolkit for Visual Studio Code</a>.</p>
</li>
<li>
<p>Install one of the 600+ packages available for <a href="https://oreil.ly/82yRo">AWS with NuGet inside of Visual Studio</a>.</p>
</li>
<li>
<p>Create a hello world AWS Lambda function using the AWS Console in any supported language, then invoke it via VS Code and the AWS Toolkit for Visual Studio Code.</p>
</li>
</ul>
</div></section>
<div data-type="footnotes"><p data-type="footnote" id="idm45599667298000"><sup><a href="ch01.xhtml#idm45599667298000-marker">1</a></sup> You can read more about EFS and spot instances in Chapter 6 in <a class="orm:hideurl" href="https://learning.oreilly.com/library/view/python-for-devops/9781492057680/ch06.xhtml"><em>Python for DevOps</em></a> (O’Reilly).</p><p data-type="footnote" id="idm45599668321152"><sup><a href="ch01.xhtml#idm45599668321152-marker">2</a></sup> The <a href="https://oreil.ly/Y2dEQ">AWS whitepaper “Developing and Deploying .NET Applications on AWS”</a> explains AWS Lambda’s mechanisms.</p><p data-type="footnote" id="idm45599666833136"><sup><a href="ch01.xhtml#idm45599666833136-marker">3</a></sup> You can read more detail about how AWS sees cloud computing in their <a href="https://oreil.ly/aPuLH">“Overview of Amazon Web Services” whitepaper</a>.</p><p data-type="footnote" id="idm45599666815792"><sup><a href="ch01.xhtml#idm45599666815792-marker">4</a></sup> The AWS Identity and Access Management guide has a detailed list of <a href="https://oreil.ly/x90WL"><em class="hyperlink">https://oreil.ly/x90WL</em></a></p><p data-type="footnote" id="idm45599666813856"><sup><a href="ch01.xhtml#idm45599666813856-marker">5</a></sup> To create an admin IAM user, follow the <a href="https://oreil.ly/ogmRn">official AWS guide</a>.</p><p data-type="footnote" id="idm45599666810048"><sup><a href="ch01.xhtml#idm45599666810048-marker">6</a></sup> See the <a href="https://oreil.ly/6a24r">AWS multifactor authentication guide</a>.</p><p data-type="footnote" id="idm45599666801440"><sup><a href="ch01.xhtml#idm45599666801440-marker">7</a></sup> You can read more about the AWS Management Console in the <a href="https://oreil.ly/UT4d1">in the official documentation</a>.</p><p data-type="footnote" id="idm45599668457424"><sup><a href="ch01.xhtml#idm45599668457424-marker">8</a></sup> Additionally, there are links to famous .NET developers like <a href="https://oreil.ly/P9DOO">Norm Johanson</a>, <a href="https://oreil.ly/AcSmE">François Bouteruche</a>, and <a href="https://oreil.ly/rV9m7">Steve Roberts</a>.</p><p data-type="footnote" id="idm45599667273312"><sup><a href="ch01.xhtml#idm45599667273312-marker">9</a></sup> There is a detailed <a href="https://oreil.ly/XmZuZ">user guide</a> to interacting with the AWS Command Line Interface.</p><p data-type="footnote" id="idm45599658279568"><sup><a href="ch01.xhtml#idm45599658279568-marker">10</a></sup> There is a <a href="https://oreil.ly/9ikNn">detailed set-up guide</a> available for AWS Toolkit for Visual Studio.</p><p data-type="footnote" id="idm45599658273904"><sup><a href="ch01.xhtml#idm45599658273904-marker">11</a></sup> There is a <a href="https://oreil.ly/4kG24">detailed guide</a> about the concept of principle of least privilege (PLP) in the AWS documentation. The core idea of PLP is only to give out permissions when needed.</p><p data-type="footnote" id="idm45599658141328"><sup><a href="ch01.xhtml#idm45599658141328-marker">12</a></sup> Other services like AWS Lambda also offer a convenient way to <a href="https://oreil.ly/cagaL">create an application from the command line</a>.</p><p data-type="footnote" id="idm45599658130560"><sup><a href="ch01.xhtml#idm45599658130560-marker">13</a></sup> In part, Amazon is the leader in cloud computing due to its culture, which describes itself in its leadership principles.  These principles include frugality, customer obsession, and invent and simplify, among a few.  You can read more about  <a href="https://www.amazon.jobs/en/principles">Amazon’s leadership principles</a>.</p><p data-type="footnote" id="idm45599658100944"><sup><a href="ch01.xhtml#idm45599658100944-marker">14</a></sup> AWS CDK is a library that automates the deployment of resources in AWS.</p></div></div></section></div></body></html>