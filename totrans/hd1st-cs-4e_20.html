<html><head></head><body><section data-pdf-bookmark="Appendix A. ASP.NET Core Blazor projects: Visual Studio for Mac Learner&#x2019;s Guide" data-type="appendix" epub:type="appendix"><div class="appendix" id="aspdotnet_core_blazor_projects_visual_st">
<h1><span class="label">Appendix A. </span>ASP.NET Core Blazor projects: <em>Visual Studio for Mac Learner’s Guide</em></h1>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg663.png"/>
<h6/>
</div></figure>
<p><a data-primary="Visual Studio" data-secondary="for Mac" data-type="indexterm" id="idm46402337579400"/><strong>Your Mac is a first-class citizen of the C# and .NET world.</strong></p>
<p>We wrote <em>Head First C#</em> with our Mac readers in mind, and that’s why we created this special <strong>learner’s guide</strong> just for you. Most projects in this book are .NET Core console apps, which work on <strong>both Windows and Mac</strong>. Some chapters have a project built with a technology used for desktop Windows apps. This learner’s guide has <strong>replacements</strong> for all of those projects—including a <em>complete replacement for <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a></em>—that use <strong>C# to create Blazor WebAssembly apps</strong> that run in your browser and are equivalent to the Windows apps. You’ll do it all with <strong>Visual Studio for Mac</strong>, a great tool for writing code and a <strong>valuable learning tool</strong> for exploring C#. Let’s dive right in and get coding!</p>
<section data-pdf-bookmark="Why you should learn C#" data-type="sect1"><div class="sect1" id="why_you_should_learn_chash-idd0001">
<h1>Why <u>you</u> should learn C#</h1>
<p>C# is a simple, modern language that lets you do incredible things. When you learn C#, you’re learning more than just a language. C# unlocks the whole world of .NET, an incredibly powerful open-source platform for building all sorts of applications.</p>
<section data-pdf-bookmark="Visual Studio is your gateway to C#" data-type="sect2"><div class="sect2" id="visual_studio_is_your_gateway_to-idd0001">
<h2>Visual Studio is your gateway to C#</h2>
<p>If you haven’t installed Visual Studio 2019 yet, this is the time to do it.</p>
<p>Go to <a href="https://visualstudio.microsoft.com">https://visualstudio.microsoft.com</a> and <strong>download Visual Studio for Mac</strong>. (If it’s already installed, run the Visual Studio for Mac Installer to update your installed options.)</p>
</div></section>
<section data-pdf-bookmark="Install .NET Core" data-type="sect2"><div class="sect2" id="install_dotnet_core">
<h2>Install .NET Core</h2>
<p>Once you’ve downloaded the Visual Studio for Mac installer, run it to install Visual Studio. Make sure the <strong>.NET Core</strong> target is checked.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg664.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">Make sure you’re installing Visual Studio for Mac, and <u>not</u> installing Visual Studio Code.</span></p>
</div>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">Visual Studio Code is an amazing open source, crossplatform code editor, but it’s not tailored to .NET development the way Visual Studio is. That’s why we can use Visual Studio throughout this book as a tool for learning and exploration.</span></p>
</div>
</div></section>
<section data-pdf-bookmark="You can also use Visual Studio for Windows to build Blazor web applications" data-type="sect2"><div class="sect2" id="you_can_also_use_visual_studio_for_windo">
<h2>You can also use Visual Studio for Windows to build Blazor web applications</h2>
<p>Most of the projects in <em>Head First C#</em> are .NET Core console apps, which you can create using either macOS or Windows. Some of the chapters also include a Windows desktop app project that’s built using Windows Presentation Foundation (WPF). Since WPF is a technology that only works with Windows, we wrote this <em>Visual Studio for Mac Learner’s Guide</em> so you can create <u>equivalent</u> projects on your Mac using web technologies—specifically, ASP.NET Core Blazor WebAssembly projects.</p>
<p>What if you’re a Windows reader and want to learn to build rich web applications using Blazor? Then you’re in luck! <strong><em>You can build the projects in this guide using Visual Studio for Windows</em></strong>. Go to the Visual Studio installer and make sure that <strong>“ASP.NET and web development” option is checked</strong>. Your IDE screenshots won’t exactly match the ones in this guide, but all of the code will be the same.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="youapostrophell_be_using_html_and_css_in">
<h5><span class="inlineimage"><img alt="Images" src="assets/relax.png"/></span> <strong>You’ll be using HTML and CSS in the web application projects throughout this guide, but you don’t need to know HTML or CSS.</strong></h5>
<p>This book is about learning C#. In the projects in this guide, you’ll be creating Blazor web applications that include pages designed using HTML and CSS. Don’t worry if you haven’t used HTML or CSS before—you don’t need any prior web design knowledge to use this book. We’ll give you everything you need to create all of the pages for the web application projects. However, be warned: you might pick up a little HTML knowledge along the way.</p>
</div></aside>
</div></section>
</div></section>
<section data-pdf-bookmark="Visual Studio is a tool for writing code and exploring C#" data-type="sect1"><div class="sect1" id="visual_studio_is_a_tool_for_writ-idd0001">
<h1>Visual Studio is a tool for writing code <u>and</u> exploring C#</h1>
<p>You could use TextEdit or another text editor to write your C# code, but there’s a better way. An <strong>IDE</strong>—that’s short for <strong><em><u>i</u>ntegrated <u>d</u>evelopment <u>e</u>nvironment</em></strong>—is a text editor, visual designer, file manager, debugger...it’s like a multitool for everything you need to write code.</p>
<p>These are just a few of the things that Visual Studio helps you do:</p>
<ol>
<li><p><strong>Build an application, FAST.</strong> The C# language is flexible and easy to learn, and the Visual Studio IDE makes it easier by doing a lot of manual work for you automatically. Here are just a few things that Visual Studio does for you:</p>
<ul class="list_style_type_none">
<li><p>Manages all your project files</p></li>
<li><p>Makes it easy to edit your project’s code</p></li>
<li><p>Keeps track of your project’s graphics, audio, icons, and other resources</p></li>
<li><p>Helps you debug your code by stepping through it line by line</p></li>
</ul>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg665.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Write and run your C# code.</strong> The Visual Studio IDE is one of the easiest-to-use tools out there for writing code. The team at Microsoft who develop it have put a huge amount of work into making your job of writing code as easy as possible.</p></li>
<li><p><strong>Build visually stunning web applications.</strong> In this Visual Studio for Mac Learner’s Guide, you’ll be building web applications that run in your browser. You’ll use <strong>Blazor</strong>, a technology that lets you build interactive web apps using C#. When you <strong>combine C# with HTML and CSS</strong>, you’ve got an impressive toolkit for web development.</p></li>
<li><p><strong>Learn and explore C# and .NET.</strong> Visual Studio is a world-class development tool, but lucky for us it’s <u>also</u> a fantastic learning tool. <strong><em>We’re going to use <u>the IDE</u> to explore C#</em></strong>, which gives us a fast track for getting important programming concepts into your brain.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">We’ll often refer to Visual Studio as just “the IDE” throughout this book.</span></p>
</div>
<blockquote>
<p><strong>Visual Studio is an amazing development environment, but we’re also going to use it as a learning tool to explore C#.</strong></p>
</blockquote></li>
</ol>
</div></section>
<section data-pdf-bookmark="Create your first project in Visual Studio for Mac" data-type="sect1"><div class="sect1" id="create_your_first_project_in_vis-idd0001">
<h1>Create your first project in Visual Studio for Mac</h1>
<p>The best way to learn C# is to start writing code, so we’re going to use Visual Studio to <strong>create a new project</strong>... and start writing code immediately!</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong><em>Do this!</em></strong></p>
</div>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>When you see Do this! (or Now do this!, or Debug this!, etc.), go to Visual Studio and follow along. We’ll tell you exactly what to do, and point out what to look for to get the most out of the example we show you.</strong></p>
</div>
<ol>
<li><p><strong>Create a new Console Project.</strong></p>
<p>Start up Visual Studio 2019 for Mac. When it starts, it shows you a window that lets you create a new project or open an existing one. <strong>Click New</strong> to create a new project. Don’t worry if you dismiss the window—you can always get it back by choosing <em>File &gt;&gt; New Solution...</em> (<img alt="Images" src="assets/pg666-3.png"/>) from the menu.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg666-1.png"/>
<h6/>
</div></figure>
<p><strong>Select .NET</strong> from the panel on the left, then choose <strong>Console Project</strong>:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg666-2.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Name your project MyFirstConsoleApp.</strong></p>
<p>Enter <strong>MyFirstConsoleApp</strong> in the Project Name box and click the <strong>Create button</strong> to create the project.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg667-1.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Look at the code for your new app.</strong></p>
<p>When Visual Studio creates a new project, it gives you a starting point that you can build on. As soon as it finishes creating the new files for the app, it opens and displays a file called <em>Program.cs</em> with this code:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg667-2.png"/>
<h6/>
</div></figure>
</li>
</ol>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-idd0015">
<h5><span class="inlineimage"><img alt="Images" src="assets/watchit.png"/></span> Watch it!</h5>
<p><strong>The main class’s name is different in Windows.</strong></p>
<p><em>When you create a console app in Visual Studio for Windows, it generates <u>almost</u> exactly the same code as Visual Studio for Mac. The one difference is that on a Mac the main class is called MainClass, while on Windows the main class is called Program. That won’t make a difference in most of the projects in this book. We’ll make sure to point out any place that it does.</em></p>
</div></aside>
</div></section>
<section data-pdf-bookmark="Use the Visual Studio IDE to explore your app" data-type="sect1"><div class="sect1" id="use_the_visual_studio_ide_to_explore_you">
<h1>Use the Visual Studio IDE to explore your app</h1>
<ol>
<li><p><strong>Explore the Visual Studio IDE—and the files that it created for you.</strong></p>
<p>When you created the new project, Visual Studio created several files for you automatically and bundled them into a <strong>solution</strong>. The Solution window on the left side of the IDE shows you these files, with the solution (MyFirstConsoleApp) at the top. The solution contains a <strong>project</strong> that has the same name as the solution.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg668.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Run your new app.</strong></p>
<p>The app that Visual Studio for Mac created for you is ready to run. At the top of the Visual Studio IDE, find the Run button (with a “play” triangle). <strong>Click that button</strong> to run your app:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg669-1.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Look at your program’s output.</strong></p>
<p>When you run your program, the <strong>Terminal window</strong> will appear at the bottom of the IDE and display the output of the program:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg669-2.png"/>
<h6/>
</div></figure>
<p>The best way to learn a language is to write a lot of code in it, so you’re going to build a lot of programs in this book. Many of them will be Console App projects, so let’s have a closer look at what you just did.</p>
<p>At the top of the Terminal window is the <strong>output of the program:</strong></p>
<pre data-type="programlisting"><strong>Hello World!</strong></pre>
<p>Click anywhere in the code to hide the Terminal window. Then press the <span class="inlineimage"><img alt="Images" src="assets/pg669-3.png"/></span> button at the bottom of the IDE to open it again—you’ll see the same output from your program. The IDE automatically hides the Terminal window after your app exits.</p>
<p>Press the Run button to run your program again. Then choose Start Debugging from the Run menu, or use its shortcut (<img alt="Images" src="assets/pg669-4.png"/>). This is how you’ll run all of the Console App projects throughout the book.</p></li>
</ol>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="ide_tip_open_a_terminal_inside_the_id">
<h5><strong>IDE Tip: Open a terminal inside the ID</strong></h5>
<p>The Terminal window shows the output of your console apps—but it does more than that. Click the <span class="inlineimage"><img alt="Images" src="assets/pg669-5.png"/></span> button at the right of the Terminal window, or choose <em>View &gt;&gt; Terminal</em> from the menu when your app isn’t running. You’ll see a macOS Terminal shell right inside the IDE, which you can use to execute macOS shell commands:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg669-6.png"/>
<h6/>
</div></figure>
<p>Click the <span class="inlineimage"><img alt="Images" src="assets/pg669-7.png"/></span> button a few more times—the IDE will open several Terminals at once. You can switch between them using the <em><strong>View &gt;&gt; Other Windows</strong></em> menu item or the buttons on the bar at the bottom of the IDE:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg669-8.png"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-pdf-bookmark="Let’s build a game!" data-type="sect1"><div class="sect1" id="letapostrophes_build_a_gameexcl-idd0001">
<h1>Let’s build a game!</h1>
<p>You’ve built your first C# app, and that’s great! Now that you’ve done that, let’s build something a little more complex. We’re going to build an <strong>animal matching game</strong>, where a player is shown a grid of 16 animals and needs to click on pairs to make them disappear.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg670.png"/>
<h6/>
</div></figure>
<section data-pdf-bookmark="Your animal matching game is a Blazor WebAssembly app" data-type="sect2"><div class="sect2" id="your_animal_matching_game_is_a_blazor_we">
<h2>Your animal matching game is a Blazor WebAssembly app</h2>
<p>Console apps are great if you just need to input and output text. If you want a visual app that’s displayed on a browser page, you’ll need to use a different technology. That’s why your animal matching game will be a <strong>Blazor WebAssembly app</strong>. Blazor lets you create rich web applications that can run in any modern browser. Most of the chapters in this book will feature a Blazor app. The goal of this project is to introduce you to Blazor and give you tools to build rich web applications as well as console apps.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Building different kinds of projects is an important tool in your C# learning toolbox. We chose Blazor for the Mac projects in this book because it gives you tools to design rich web applications that run on any modern browser.</strong></p>
<p><strong>But C# isn’t just for web development and console apps! Every project in this Mac learner’s guide has an equivalent Windows project.</strong></p>
<p><strong>Are you a Windows user, but still want to learn Blazor and build web applications with C#? Well then, you’re in luck! All of the projects in the Mac Learner’s Guide can also be done with Visual Studio for Windows.</strong></p>
</div>
<blockquote>
<p><strong>By the time you’re done with this project, you’ll be a lot more familiar with the tools that you’ll rely on throughout this book to learn and explore C#.</strong></p>
</blockquote>
</div></section>
</div></section>
<section data-pdf-bookmark="Here’s how you’ll build your game" data-type="sect1"><div class="sect1" id="hereapostrophes_how_youapostrop-idd0001">
<h1>Here’s how you’ll build your game</h1>
<p>The rest of this chapter will walk you through building your animal matching game, and you’ll be doing it in a series of separate parts:</p>
<ol>
<li><p>First you’ll create a new Blazor WebAssembly App project in Visual Studio.</p></li>
<li><p>Then you’ll lay out the page and write C# code to shuffle the animals.</p></li>
<li><p>The game needs to let the user click on pairs of emoji to match them.</p></li>
<li><p>You’ll write more C# code to detect when the player has won the game.</p></li>
<li><p>Finally, you’ll make the game more exciting by adding a timer.</p></li>
</ol>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">This project can take anywhere from 15 minutes to an hour, depending on how quickly you type. We learn better when we don’t feel rushed, so give yourself plenty of time.</span></p>
</div>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg671.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">Keep an eye out for these “Game design... and beyond” elements scattered throughout the book. We’ll use game design principles as a way to learn and explore important programming concepts and ideas that apply to <u>any kind of project</u>, not just video games.</span></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="game_designhellip_and_beyond-idd0001">
<h5><span class="inlineimage"><img alt="Images" src="assets/game.png"/></span> What is a game?</h5>
<p><strong>Game design... and beyond</strong></p>
<p>It may seem obvious what a game is. But think about it for a minute—it’s not as simple as it seems.</p>
<ul>
<li><p>Do all games have a <strong>winner</strong>? Do they always end? Not necessarily. What about a flight simulator? A game where you design an amusement park? What about a game like The Sims?</p></li>
<li><p>Are games always <strong>fun</strong>? Not for everyone. Some players like a “grind” where they do the same thing over and over again; others find that miserable.</p></li>
<li><p>Is there always <strong>decision making, conflict, or problem solving</strong>? Not in all games. Walking simulators are games where the player just explores an environment, and there are often no puzzles or conflict at all.</p></li>
<li><p>It’s actually pretty hard to pin down exactly what a game is. If you read textbooks on game design, you’ll find all sorts of competing definitions. So for our purposes, let’s define the <strong>meaning of “game”</strong> like this:</p></li>
</ul>
<p><strong>A game is a program that lets you play with it in a way that (hopefully) is at least as entertaining to play as it is to build.</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/common-7.png"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-pdf-bookmark="Create a Blazor WebAssembly App in Visual Studio" data-type="sect1"><div class="sect1" id="create_a_blazor_webassembly_app_in_visua">
<h1>Create a Blazor WebAssembly App in Visual Studio</h1>
<p>The first step in building your game is to create a new project in Visual Studio.</p>
<ol>
<li><p>Choose <strong>File &gt;&gt; New Solution... (<img alt="Images" src="assets/pg672-3a.png"/>)</strong> from the menu to bring up the New Project window. It’s the same way you started out your Console App project.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg672-1.png"/>
<h6/>
</div></figure>
<p>Click <strong>App</strong> under “Web and Console” on the left, then choose <strong>Blazor WebAssembly App</strong> and click <strong>Next</strong>.</p></li>
<li><p>The IDE will give you a page with options.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg672-2.png"/>
<h6/>
</div></figure>
<p>Leave all of the options set to their default values and click <strong>Next.</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg672-3.png"/>
<h6/>
</div></figure>
<p><strong>If you run into any trouble with this project, go to our GitHub page and look for a link to a video walkthrough:</strong></p>
<p><a href="https://github.com/head-first-csharp/fourth-edition">https://github.com/head-first-csharp/fourth-edition</a></p></li>
<li><p>Enter <strong>BlazorMatchGame</strong> as the project name, just like you did with your Console App project.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg673-1.png"/>
<h6/>
</div></figure>
<p>Then <strong>click Create</strong> to create the project solution.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg673-2.png"/>
<h6/>
</div></figure>
</li>
<li><p>The IDE will create a new BlazorMatchGame project and show you its contents, just like it did with your first console app. <strong>Expand the Pages folder</strong> in the Solution window to view its contents, then <strong>double-click <em>Index.razor</em></strong> to open it in an editor.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg673-3.png"/>
<h6/>
</div></figure>
</li>
</ol>
</div></section>
<section data-pdf-bookmark="Run your Blazor web app in a browser" data-type="sect1"><div class="sect1" id="run_your_blazor_web_app_in_a_browser">
<h1>Run your Blazor web app in a browser</h1>
<p>When you run a Blazor web app, there are two parts: a <strong>server</strong> and a <strong>web application</strong>. Visual Studio launches them both with one button.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong><em>Do this!</em></strong></p>
</div>
<ol>
<li><p><strong>Choose the browser to run your web application.</strong></p>
<p>Find the triangle-shaped Run button at the top of the Visual Studio IDE:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg674-1.png"/>
<h6/>
</div></figure>
<p>Your default browser should be listed next to <code>Debug &gt;</code>. Click the browser name to see a dropdown of installed browsers and <strong>choose either Microsoft Edge or Google Chrome</strong>.</p></li>
<li><p><strong>Run your web application.</strong></p>
<p>Click the <strong>Run button</strong> to start your application. You can also choose Start Debugging <span class="inlineimage"><img alt="Images" src="assets/pg674-2.png"/></span> from the Run menu. The IDE will first open a Build Output window (at the bottom, just like it opened the Terminal window), and then an Application Output window. After that, it will pop up a browser running your app.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg674-3.png"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-idd0016">
<h5><span class="inlineimage"><img alt="Images" src="assets/watchit.png"/></span> Watch it!</h5>
<p><strong>Run your web apps in Microsoft Edge or Google Chrome.</strong></p>
<p><em>Safari will run your web apps just fine, but you won’t be able to use it to debug them­. Web app debugging is only supported in Microsoft Edge or Google Chrome. Go to <a href="https://microsoft.com/edge">https://microsoft.com/edge</a> to download Edge, or <a href="https://google.com/chrome/">https://google.com/chrome</a> to download Chrome—they’re both free.</em></p>
</div></aside></li>
<li><p><strong>Compare the code in <em>Index.razor</em> with what you see in your browser.</strong></p>
<p>The web app in your browser has two parts: a <strong>navigation menu</strong> on the left side with links to different pages (Home, Counter, and Fetch data), and a page displayed on the right side. Compare the HTML markup in the <em>Index.razor</em> file with the app displayed in the browser.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg675-1.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Change “Hello, world!” to something else.</strong></p>
<p>Change the third line of the <em>Index.razor</em> file so it says something else:</p>
<pre data-type="programlisting">&lt;h1&gt;Elementary, my dear Watson.&lt;/h1&gt;</pre>
<p>Now go back to your browser and reload the page. Wait a minute, nothing changed—it still says “Hello, world!” That’s because you changed your code, <strong><em>but you never updated the server.</em></strong></p>
<p><strong>Click the Stop button</strong> <span class="inlineimage"><img alt="Images" src="assets/pg675-2.png"/></span> or choose Stop <span class="inlineimage"><img alt="Images" src="assets/pg675-3.png"/></span> from the Run menu. Now go back and reload your browser—since you stopped your app, it displays its “Site can’t be reached” page.</p>
<p><strong>Start your app again</strong>, then reload your page in the browser. Now you’ll see the updated text.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg675-4.png"/>
<h6/>
</div></figure>
<p><strong>Do you have extra instances of your browser open? Visual Studio opens a new browser each time you run your Blazor web app. Get in the habit of closing the browser (<img alt="Images" src="assets/pg675-5.png"/>) before you stop your app (<img alt="Images" src="assets/pg675-6.png"/>).</strong></p></li>
</ol>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg676-1.png"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="Now you’re ready to start writing code for your game" data-type="sect1"><div class="sect1" id="now_youapostrophere_ready_to-idd0001">
<h1>Now you’re ready to start writing code for your game</h1>
<p>You’ve created a new app, and Visual Studio generated a bunch of files for you. Now it’s time to add C# code to start making your game work (as well as HTML markup to make it look right).</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg676-2.png"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-idd0017">
<h5><span class="inlineimage"><img alt="Images" src="assets/watchit.png"/></span> Watch it!</h5>
<p><strong>When you enter C# code, it has to be <u>exactly</u> right.</strong></p>
<p><em>Some people say that you truly become a developer after the first time you’ve spent hours tracking down a misplaced period. Case matters: <code><u>S</u>etUpGame</code> is different from <code><u>s</u>etUpGame</code>. Extra commas, semicolons, parentheses, etc. can break your code—or, worse, change your code so that it <u>still builds</u> but does something different than what you want it to do. The IDE’s <strong>AI-assisted IntelliSense</strong> can help you avoid those problems...but it can’t do everything for you.</em></p>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg677-1.png"/>
<h6/>
</div></figure>
<section data-pdf-bookmark="How the page layout in your animal matching game will work" data-type="sect2"><div class="sect2" id="how_the_page_layout_in_your_animal_match">
<h2>How the page layout in your animal matching game will work</h2>
<p>Your animal matching game is laid out in a grid—or, at least, that’s how it looks. It’s actually made up of 16 square buttons. If you make your browser very narrow, it will rearrange them so they’re in one long column.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg677-2.png"/>
<h6/>
</div></figure>
<p>You’ll lay out the page by creating a container that’s 400 pixels wide (a CSS “pixel” is 1/96 inch when the browser is at default scale) that contains 100-pixel-wide buttons. We’ll give you all of the C# and HTML code to enter into the IDE. <strong>Keep an eye out for this code</strong> that you’ll add to your project <strong><em>soon</em></strong>—it’s where the “magic” happens, by mixing C# code with HTML:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg677-3.png"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-pdf-bookmark="Visual Studio helps you write C# code" data-type="sect1"><div class="sect1" id="visual_studio_helps_you_write_chash_code">
<h1>Visual Studio helps you write C# code</h1>
<p><a data-primary="emoji" data-type="indexterm" id="idm46402337350488"/>Blazor lets you create rich, interactive apps that combine HTML markup and C# code. Luckily, the Visual Studio IDE has useful features to help you write that C# code.</p>
<ol>
<li><p><strong>Add C# code to your Index.razor file.</strong></p>
<p>Start by <strong>adding a @code block</strong> to the end of your <em>Index.razor</em> file. (Keep the existing contents of the file there for now—you’ll delete them later.) Go to the last line of the file and type <code>@code {</code>. The IDE will fill in the closing curly bracket <code>}</code> for you. Press Enter to add a line between the two brackets:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg678-1.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Use the IDE’s IntelliSense window to help you write C#.</strong></p>
<p>Position your cursor on the line between the <code>{</code> brackets <code>}</code> and type the letter <code><strong>L</strong></code>. The IDE will pop up an <strong>IntelliSense window</strong> with autocomplete suggestions. Choose <code>List&lt;&gt;</code> from the pop-up:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg678-2.png"/>
<h6/>
</div></figure>
<p>The IDE will fill in <code>List</code>. Add an <strong>opening angle bracket</strong> (greater-than sign) <code>&lt;</code>—the IDE will automatically fill in the closing bracket <code>&gt;</code> and leave your cursor positioned between them.</p></li>
<li><p><strong>Start creating a List to store your animal emoji.</strong></p>
<p><strong>Type s</strong> to bring up another IntelliSense window:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg678-3.png"/>
<h6/>
</div></figure>
<p>Choose <code>string</code>—the IDE will add it between the brackets. Press the <strong>right arrow and then the space bar</strong>, then <strong>type</strong> <code>animalEmoji = new</code>. Press the space bar again to pop up another IntelliSense window. <strong>Press Enter</strong> to choose the default value, <code>List&lt;string&gt;</code>, from the options.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg678-4.png"/>
<h6/>
</div></figure>
<p>Your code should now look like this: <code>List&lt;string&gt; animalEmoji = new List&lt;string&gt;</code></p></li>
<li><p><strong>Finish creating the List of animal emoji.</strong></p>
<p>Start by <strong>adding a <code>@code</code> block</strong> to the <u>end</u> of your <em>Index.razor</em> file. Go to the last line and <strong>type <code>@code {.</code></strong> The IDE will fill in the closing curly bracket <code>}</code> for you. Press Enter to add a line between the brackets, then:</p>
<ul class="list_style_type_none">
<li><p>Type an <strong>opening parenthesis <strong>(</strong>—the IDE will fill in the closing one.</strong></p></li>
<li><p><strong>Press the right arrow</strong> to move past the parentheses.</p></li>
<li><p>Type an <strong>opening curly bracket</strong> <code>{</code>—again, the IDE will fill in the closing one.</p></li>
<li><p>Press Enter to add a line between the brackets, then <strong>add a semicolon ;</strong> after the closing bracket.</p></li>
</ul>
<p>The last six lines at the very bottom of your <em>Index.razor</em> file should now look like this:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg679-1.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Use the Character Viewer to enter emoji.</strong></p>
<p>Next, <strong>choose Edit &gt;&gt; Emoji &amp; Symbols</strong> (<span class="inlineimage"><img alt="Images" src="assets/pg679-2a.png"/></span>Space) from the menu to bring up the macOS Character Viewer. Position your cursor between the quotes, then go to the Character Viewer and <strong>search for “dog”:</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg679-2.png"/>
<h6/>
</div></figure>
<p>The last six lines at the bottom of your <em>Index.razor</em> file should now look like this:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg679-3.png"/>
<h6/>
</div></figure>
</li>
</ol>
</div></section>
<section data-pdf-bookmark="Finish creating your emoji list and display it in the app" data-type="sect1"><div class="sect1" id="finish_creating_your_emoji_list_and_disp">
<h1>Finish creating your emoji list and display it in the app</h1>
<p>You just added a dog emoji to your <code>animalEmoji</code> list. Now add a <strong>second dog emoji</strong> by adding a comma after the second quote, then a space, another quote, another dog emoji, another quote, and a comma:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg680-1.png"/>
<h6/>
</div></figure>
<p>Now <strong>add a second line right after it</strong> that’s exactly the same, except with a pair of wolf emoji instead of dogs. Then add six more lines with pairs of cows, foxes, cats, lions, tigers, and hamsters. You should now have eight pairs of emoji in your <code>animalEmoji</code> list:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg680-2.png"/>
<h6/>
</div></figure>
<section data-pdf-bookmark="Replace the contents of the page" data-type="sect2"><div class="sect2" id="replace_the_contents_of_the_page">
<h2>Replace the contents of the page</h2>
<p><strong>Delete these lines</strong> from the top of the page:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg680-3.png"/>
<h6/>
</div></figure>
<p>Then put your cursor on the third line of the page and <strong>type</strong> <code>&lt;st</code>—the IDE will pop up an IntelliSense window:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg680-4.png"/>
<h6/>
</div></figure>
<p>Choose <strong><code>style</code></strong> from the list, then <strong>type &gt;</strong>. The IDE will add a closing <em>HTML tag</em>: <strong><code>&lt;style&gt;&lt;/style&gt;</code></strong></p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="ide_tip_indent_lines">
<h5>IDE Tip: Indent lines</h5>
<p>The IDE automatically indents your C# code for you as you enter it. But when you’re entering the emoji or HTML tags, you might find that it doesn’t quite indent them the way you want. You can easily fix that by selecting the text you want to indent and pressing <span class="inlineimage"><img alt="Images" src="assets/pg680-5.png"/></span> (Tab) to indent, or <span class="inlineimage"><img alt="Images" src="assets/pg680-6.png"/></span> (Shift+Tab) to unindent.</p>
</div></aside>
<p>Put your cursor between <code>&lt;style&gt;</code> and <code>&lt;/style&gt;</code> and press Enter, then <strong>carefully enter all of the following code</strong>. Make sure the code in your app matches it exactly.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg681-1.png"/>
<h6/>
</div></figure>
<p>Go to the <u>next</u> line and use the IntelliSense to <strong>enter an opening and closing &lt;div&gt; tag</strong>, just like you did with <code>&lt;style&gt;</code> earlier. Then <strong>carefully enter the code below</strong>, making sure it matches exactly:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg681-2.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Make sure your app looks like this screenshot when you run it. Once it does, you’ll know you entered all of the code without any typos.</strong></p>
</div>
</div></section>
</div></section>
<section data-pdf-bookmark="Shuffle the animals so they’re in a random order" data-type="sect1"><div class="sect1" id="shuffle_the_animals_so_theyapostrophere">
<h1>Shuffle the animals so they’re in a random order</h1>
<p>Our match game would be too easy if the pairs of animals were all next to each other. Let’s add C# code to shuffle the animals so they appear in a different order each time the player reloads the page.</p>
<ol>
<li><p>Place your cursor just after the semicolon <code>;</code> just above the closing bracket <code>}</code> near the bottom of <em>Index.razor</em> and <strong>press Enter twice</strong>. Then use the IntelliSense pop-ups just like you did earlier to enter the following line of code:</p>
<pre data-type="programlisting">    List&lt;string&gt; shuffledAnimals = new List&lt;string&gt;();</pre></li>
<li><p>Next <strong>type <code>protected override</code></strong> (the IntelliSense can autocomplete those keywords). As soon as you enter that and type a space, you’ll get an IntelliSense pop-up—<strong>select OnInitialized()</strong> from the list:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg682-1.png"/>
<h6/>
</div></figure>
<p>The IDE will fill in code for a <strong>method</strong> called OnInitialized (we’ll talk more about methods in <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a>):</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg682-2a.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Replace <code>base.OnInitialized() with SetUpGame()</code></strong> so your method looks like this:</p>
<pre data-type="programlisting">    protected override void OnInitialized()
    {
        SetUpGame();
    }</pre>
<p>Then <strong>add this SetUpGame method</strong> just below your OnInitialized method—again, the IntelliSense window will help you get it right:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg682-2.png"/>
<h6/>
</div></figure>
<p>As you type in the SetUpGame method, you’ll notice that the IDE pops up many IntelliSense windows to help you enter your code more quickly. The more you use Visual Studio to write C# code, the more helpful these windows will become—you’ll eventually find that they significantly speed things up. For now, use them to keep from entering typos—your code needs to <strong><em>match our code <u>exactly</u></em></strong> or your app won’t run.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="youapostrophell_learn_a_lot_more_about_c">
<h5><span class="inlineimage"><img alt="Images" src="assets/relax.png"/></span> <strong>You’ll learn a lot more about C# methods soon.</strong></h5>
<p>You just added methods to your app, but it’s OK if you’re still not 100% clear on what a method is. You’ll learn much more about methods and how C# code is structured in the next chapter.</p>
</div></aside></li>
<li><p>Scroll back up to the HTML and find this code: <code>@foreach (var animal in animalEmoji)</code></p>
<p><strong>Double-click <code>animalEmoji</code></strong> to select it, then <strong>type s</strong>. The IDE will pop up an IntelliSense window. Choose <code>shuffledAnimals</code> from the list:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg683-1.png"/>
<h6/>
</div></figure>
<p>Now <strong>run your app again</strong>. Your animals should be shuffled so they’re in a random order. <strong>Reload the page</strong> in the browser—they’ll be shuffled in a different order. Each time you reload, it reshuffles the animals.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg683-2.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Again, make sure your app looks like this screenshot when you run it. Once it does, you’ll know you entered all of the code without any typos. Don’t move on until your game is reshuffling the animals every time you reload the browser page.</strong></p>
</div></li>
</ol>
</div></section>
<section data-pdf-bookmark="You’re running your game in the debugger" data-type="sect1"><div class="sect1" id="youapostrophere_running_your_game_in_the">
<h1>You’re running your game in the <u>debugger</u></h1>
<p>When you click the Run button <span class="inlineimage"><img alt="Images" src="assets/pg684-1.png"/></span> or choose Start Debugging <span class="inlineimage"><img alt="Images" src="assets/pg684-2.png"/></span> from the Run menu to start your program running, you’re putting Visual Studio into <strong>debugging mode</strong>.</p>
<p>You can tell that you’re debugging an app when you see the <strong>debug controls</strong> appear in the toolbar. The Start button has been replaced with the square Stop button <img alt="Images" src="assets/pg684-3.png"/>, the dropdown to choose which browser to launch is grayed out, and an extra set of controls has appeared.</p>
<p>Hover your mouse cursor over the Pause Execution button to see its tooltip:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg684-4.png"/>
<h6/>
</div></figure>
<p>You can stop your app clicking the Stop button or choosing Stop <span class="inlineimage"><img alt="Images" src="assets/pg684-5.png"/></span> from the Run menu.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg684-6.png"/>
<h6/>
</div></figure>
<p><strong>You’ve set the stage for the next part that you’ll add.</strong></p>
<p>When you build a new game, you’re not just writing code. You’re also running a project. A really effective way to run a project is to build it in small increments, taking stock along the way to make sure things are going in a good direction. That way you have plenty of opportunities to change course.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">Here’s a pencil-and-paper exercise. It’s absolutely worth your time to do all of them because they’ll help get important C# concepts into your brain faster.</span></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="who_does_whatquestion_mark">
<h5><strong>WHO DOES WHAT?</strong></h5>
<p><strong>Congratulations—you’ve created a working app!</strong> Obviously, programming is more than just copying code out of a book. But even if you’ve never written code before, you may surprise yourself with just how much of it you already understand. Draw a line connecting each of the C# statements on the left to the description of what the statement does on the right. We’ll start you out with the first one.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg685.png"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="who_does_whatquestion_mark_solution">
<h5><strong>WHO DOES WHAT? solution</strong></h5>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg686.png"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="mini_sharpen_your_pencil-idd0001">
<h5><span class="inlineimage"><img alt="Images" src="assets/Common.png"/></span> Mini Sharpen your pencil</h5>
<p>Here’s a pencil-and-paper exercise that will help you really understand your C# code.</p>
<ol>
<li><p>Take a piece of paper and turn it on its side so it’s in landscape orientation, and draw a vertical line down the middle.</p></li>
<li><p>Write out all of the C# code by hand on the left side of the paper, leaving space between each statement. (You don’t need to be accurate with the emoji.)</p></li>
<li><p>On the right side of the paper, write each of the “what it does” answers above next to the statement that it’s connected to. Read down both sides—it should all start to make sense.</p></li>
</ol>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg687.png"/>
<h6/>
</div></figure>
<p><strong>Working on your code comprehension skills will make you a better developer.</strong></p>
<p>The pencil-and-paper exercises are <strong>not optional</strong>. They give your brain a different way to absorb the information. But they do something even more important: they give you opportunities to <strong><em>make mistakes</em></strong>. Making mistakes is a part of learning, and we’ve all made plenty of mistkaes (you may even find one or two typos in this book!). Nobody writes perfect code the first time—really good programmers always assume that the code that they write today will probably need to change tomorrow. In fact, later in the book you’ll learn about <em>refactoring</em>, or programming techniques that are all about improving your code after you’ve written it.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">We’ll add bullet points like this to give a quick summary of many of the ideas and tools that you’ve seen so far.</span></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-idd0029">
<h5>Bullet Points</h5>
<ul>
<li><p>Visual Studio is <strong>Microsoft’s IDE</strong>—or <strong>integrated development environment</strong>—that simplifies and assists in editing and managing your C# code files.</p></li>
<li><p><strong>.NET Core console apps</strong> are cross-platform apps that use text for input and output.</p></li>
<li><p><strong>Blazor WebAssembly apps</strong> let you build rich interactive web applications using C# code and HTML markup.</p></li>
<li><p>The IDE’s <strong>AI-assisted IntelliSense</strong> helps you enter code more quickly and accurately.</p></li>
<li><p>Visual Studio can <strong>run your Blazor app</strong> in debugging mode, opening a browser to display your app.</p></li>
<li><p>User interfaces for Blazor apps are designed in <strong>HTML,</strong> the markup language used to design web pages.</p></li>
<li><p><strong>Razor</strong> lets you add C# code directly into your HTML markup. Razor page files end with the. <em>razor</em> extension.</p></li>
<li><p>Use an <strong>@</strong> to embed your C# code in a Razor page.</p></li>
<li><p>A <code><strong>foreach</strong></code> <strong>loop</strong> in a Razor page lets you repeat a block of HTML code for each element in a list.</p></li>
</ul>
</div></aside>
</div></section>
<section data-pdf-bookmark="Add your new project to source control" data-type="sect1"><div class="sect1" id="add_your_new_project_to_source-idd0001">
<h1>Add your new project to source control</h1>
<p><a data-primary="GitHub" data-type="indexterm" id="idm46402337187704"/><a data-primary="publishing to GitHub" data-type="indexterm" id="idm46402337186968"/><a data-primary="source control" data-type="indexterm" id="idm46402337186232"/>You’re going to be building a lot of different projects in this book. Wouldn’t it be great if there was an easy way to back them up and access them from anywhere? What if you make a mistake—wouldn’t it be super convenient if you could roll back to a previous version of your code? Well, you’re in luck! That’s exactly what <strong>source control</strong> does: it gives you an easy way to back up all of your code, and keeps track of every change that you make. Visual Studio makes it easy for you to add your projects to source control.</p>
<p><strong>Git</strong> is a popular version control system, and Visual Studio will publish your source to any Git <strong>repository</strong> (or <strong>repo</strong>). We think <strong>GitHub</strong> is one of the easiest Git providers to use. You’ll need a GitHub account to push code to it, so if you don’t already have one, go to <a href="https://github.com">https://github.com</a> and create it now.</p>
<p>Once you have your GitHub account set up, you can use the built-in version control features of the IDE. <strong>Choose <em>Version Control &gt;&gt; Publish in Version Control...</em> from the menu</strong> to bring up the Clone Repository window:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg688.png"/>
<h6/>
</div></figure>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="adding_your_project_to_source-idd0001">
<h5><span class="inlineimage"><img alt="Images" src="assets/relax.png"/></span> <strong>Adding your project to source control is optional.</strong></h5>
<p>Maybe you’re working on a computer  on an office network that doesn’t allow access to GitHub, the Git provider we’re recommending. Maybe you just don’t feel like doing it. Whatever the reason, you can skip this step—or, alternatively, you can publish it to a private repository if you want to keep a backup but don’t want other people to find it.</p>
</div></aside>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>The Visual Studio for Mac documentation has a complete guide to creating projects on GitHub and publishing them from Visual Studio. It includes step-by-step instructions for creating a remote repo on GitHub and publishing your projects to Git directly from Visual Studio. We think it’s a great idea to publish all of your <em>Head First C#</em> projects to GitHub—that way you can easily go back to them later. <a href="https://docs.microsoft.com/en-us/visualstudio/mac/set-up-git-repository">https://docs.microsoft.com/en-us/visualstudio/mac/set-up-git-repository</a>.</strong></p>
</div>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg689-1.png"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="Add C# code to handle mouse clicks" data-type="sect1"><div class="sect1" id="add_chash_code_to_handle_mouse_clicks">
<h1>Add C# code to handle mouse clicks</h1>
<p>You’ve got buttons with random animal emoji. Now you need them to do something when the player clicks them. Here’s how it will work:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg689-2.png"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="Add click event handlers to your buttons" data-type="sect1"><div class="sect1" id="add_click_event_handlers_to_your_buttons">
<h1>Add click event handlers to your buttons</h1>
<p>When you click a button, it needs to do something. In web pages, a click is an <strong>event</strong>. Web pages have other events, too, like when a page finishes loading, or when an input changes. An <strong>event handler</strong> is C# code that gets executed any time a specific event happens. We’ll add an event handler that implements the button functionality.</p>
<section data-pdf-bookmark="Here’s the code for the event handler" data-type="sect2"><div class="sect2" id="hereapostrophes_the_code_for_the_event_h">
<h2>Here’s the code for the event handler</h2>
<p>Add this code to the bottom of your Razor page, just above the closing <code><strong>}</strong></code> at the bottom:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg690-1.png"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="Hook up your event handler to the buttons" data-type="sect2"><div class="sect2" id="hook_up_your_event_handler_to_the_button">
<h2>Hook up your event handler to the buttons</h2>
<p>Now you just need to modify your buttons to call the ButtonClick method when clicked:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg690-2.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>When we ask you to update one thing in a block of code, we might make the rest of the code a <span style="color:#9D9EA0;">lighter shade</span> and make the part of the code you change boldface</strong>.</p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="your_event_handler_up_close">
<h5><span class="inlineimage"><img alt="Images" src="assets/Common-4.png"/></span> <strong>Your Event Handler Up Close</strong></h5>
<p>Let’s take a closer look at how that event handler works. We’ve matched up the code from the event handler against our earlier explanation of how the game detects mouse clicks. Look at the code below and compare it with the code that you just typed into the IDE. See if you can follow along—it’s OK if you don’t get 100% of it, just try to follow the general idea of how the code that you just added fits together. This is a useful exercise for ramping up your C# comprehension skills.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg691.png"/>
<h6/>
</div></figure>
</div></aside>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Uh-oh—there’s a <span style="color:#9D9EA0;">bug</span> in this code! Can you spot it? We’ll track it down and fix it in the next section.</strong></p>
</div>
</div></section>
</div></section>
<section data-pdf-bookmark="Test your event handler" data-type="sect1"><div class="sect1" id="test_your_event_handler">
<h1>Test your event handler</h1>
<p>Run your app again. When it comes up, test your event handler by clicking on a button, then clicking on the button with the matching emoji. They should both disappear.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg692-1.png"/>
<h6/>
</div></figure>
<p>Click on another, then another, then another. You should be able to keep clicking on pairs until all of the buttons are blank. Congratulations, you found all the pairs!</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg692-2.png"/>
<h6/>
</div></figure>
<section data-pdf-bookmark="But what happens if you click on the same button twice?" data-type="sect2"><div class="sect2" id="but_what_happens_if_you_click_on_the_sam">
<h2>But what happens if you click on the same button twice?</h2>
<p>Reload the page in your browser to reset the game. But this time instead of finding a pair, <strong>click twice on the same button</strong>. Hold on—<strong><em>there’s a bug in the game!</em></strong> It should have ignored the click, but instead, it acted like you got a match.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg692-3.png"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-pdf-bookmark="Use the debugger to troubleshoot the problem" data-type="sect1"><div class="sect1" id="use_the_debugger_to_troubleshoot_the_pro">
<h1>Use the debugger to troubleshoot the problem</h1>
<p>You might have heard the word “bug” before. You might have even said something like this to your friends at some point in the past: “That game is really buggy, it has so many glitches.” Every bug has an explanation—everything in your program happens for a reason—but not every bug is easy to track down.</p>
<p><strong><em>Understanding a bug is the first step in fixing it.</em></strong> Luckily, the Visual Studio debugger is a great tool for that. (That’s why it’s called a debugger: it’s a tool that helps you get rid of bugs!)</p>
<ol>
<li><p><strong>Think about what’s going wrong.</strong></p>
<p>The first thing to notice is that your bug is <strong>reproducible</strong>: any time you click on the same button twice, it always acts like you clicked a matching pair.</p>
<p>The second thing to notice is that you have a <strong>pretty good idea</strong> where the bug is. The problem only happened <em>after</em> you added the code to handle the Click event, so that’s a great place to start.</p></li>
<li><p><strong>Add a breakpoint to the Click event handler code that you just wrote.</strong></p>
<p>Click on the first line of the ButtonClick method and <strong>choose Run &gt;&gt; Toggle Breakpoint</strong> (<span class="inlineimage"><img alt="Images" src="assets/box1.png"/></span>) from the menu. The line will change color and you’ll see a dot in the left margin:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg693-1.png"/>
<h6/>
</div></figure></li>
</ol>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="anatomy_of_the_debugger-idd0001">
<h5><span class="inlineimage"><img alt="Images" src="assets/common-13.png"/></span> <strong>Anatomy of the Debugger</strong></h5>
<p><strong>When your app is paused in the debugger—that’s called “breaking” the app—the Debug controls show up in the toolbar. You’ll get plenty of practice using them throughout the book, so you don’t need to memorize what they do. For now, just read the descriptions we’ve written, hover your mouse over them to see the tooltips, and check the Run menu to see their corresponding shortcut keys (like <span class="inlineimage"><img alt="Images" src="assets/pg693-2.png"/></span>  for Step Over).</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg693-3.png"/>
<h6/>
</div></figure>
</div></aside>
</div></section>
<section data-pdf-bookmark="Keep debugging your event handler" data-type="sect1"><div class="sect1" id="keep_debugging_your_event_handler">
<h1>Keep debugging your event handler</h1>
<p>Now that your breakpoint is set, use it to get a handle on what’s going on with your code.</p>
<ol start="3">
<li><p><strong>Click on an animal to trigger the breakpoint.</strong></p>
<p>If your app is already running, stop it and close all browser windows. Then <strong>run your app</strong> again and <strong>click any animal button</strong>. Visual Studio should pop into the foreground. The line where you toggled the breakpoint should now be highlighted in a different color:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg694-1.png"/>
<h6/>
</div></figure>
<p>Move your mouse to the first line of the method, which starts <code>private void</code>, and <strong>hover your cursor over animal</strong>. A small window will pop up that shows you the animal that you clicked on:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg694-2.png"/>
<h6/>
</div></figure>
<p>Press the <strong>Step Over</strong> button or choose Run &gt;&gt; Step Over (<img alt="Images" src="assets/pg693-2.png"/>) from the menu. The highlight will move down to the <code><strong>{</strong></code> line. Step over again to move the highlight to the next statement:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg694-3.png"/>
<h6/>
</div></figure>
<p>Step over one more time to execute that statement, then hover over <code>lastAnimalFound</code>:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg694-4.png"/>
<h6/>
</div></figure>
<p>The statement that you stepped over set the value of <code>lastAnimalFound</code> so it matches <code>animal</code>.</p>
<p><strong><em>That’s how the code keeps track of the first animal that the player clicked.</em></strong></p></li>
<li><p><strong>Continue execution.</strong></p>
<p>Press the <strong>Continue Execution</strong> button or choose Run &gt;&gt; Continue Debugging (<img alt="Images" src="assets/pg694-5.png"/>) from the menu. Switch back to the browser—your game will keep going until it hits the breakpoint again.</p></li>
<li><p><a data-primary="null" data-type="indexterm" id="idm46402337091480"/><strong>Click the matching animal in the pair.</strong></p>
<p>Find the button with the matching emoji and <strong>click it</strong>. The IDE will trigger the breakpoint and pause the app again. Press <strong>Step Over</strong>—it will skip the first block and jump to the second:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg695-1.png"/>
<h6/>
</div></figure>
<p><strong>Hover over <code>lastAnimalFound</code> and <code>animal</code></strong>—they should both have the same emoji. That’s how the event handler knows that you found a match. <strong>Step over three more times</strong>:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg695-2.png"/>
<h6/>
</div></figure>
<p>Now <strong>hover over <code>shuffledAnimals</code>. You’ll see several items in the window that pops up. Click the triangle next to <code>shuffledAnimals</code> to expand it, then <strong>expand</strong> <code>_items</code> to see all the animals:</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg695-3.png"/>
<h6/>
</div></figure>
<p>Press <strong>Step Over</strong> one more time to execute the statement that removes the matches from the list. Then <strong>hover over</strong> <code><strong>shuffledAnimals</strong></code> <strong>again</strong> and look at its items. There are now two (<em>null</em>) values where the matched emoji used to be:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg695-4.png"/>
<h6/>
</div></figure>
<p><strong>We’ve sifted through a lot of evidence and gathered some important clues. What do you think is causing the problem?</strong></p></li>
</ol>
</div></section>
<section data-pdf-bookmark="Track down the bug that’s causing the problem..." data-type="sect1"><div class="sect1" id="track_down_the_bug_thatapostrophes_causi">
<h1>Track down the bug that’s causing the problem...</h1>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sleuth_it_out-idd0006">
<h5><span class="inlineimage"><img alt="Images" src="assets/cap.png"/></span> Sleuth it out</h5>
<p>It’s time to put on our Sherlock Holmes caps and sleuth out the problem. We’ve gathered a lot of evidence. Here’s what we know so far:</p>
<ol>
<li><p>Every time you click the button, the click event handler runs.</p></li>
<li><p>The event handler uses <strong><code>animal</code></strong> to figure out which animal you clicked first.</p></li>
<li><p>The event handler uses <strong><code>lastAnimalFound</code></strong> to figure out which animal you clicked second.</p></li>
<li><p>If <strong><code>animal</code></strong> equals <strong><code>lastAnimalFound</code></strong>, it decides it has a match and removes the matching animals from the list.</p></li>
</ol>
</div></aside>
<p>So what happens if you click the same animal button twice? Let’s find out! <strong>Repeat the same steps you just did</strong>, except this time <strong>click the same animal twice</strong>. Watch what happens when you get to step <img alt="Images" src="assets/pg696a.png"/>.</p>
<p>Hover over <code>animal</code> and <code>lastAnimalFound</code>, just like you did before. They’re the same! That’s because the event handler <strong><em>doesn’t have a way to distinguish between different buttons with the same animal</em></strong>.</p>
<section data-pdf-bookmark="...and fix the bug!" data-type="sect2"><div class="sect2" id="hellipand_fix_the_bugexclamation_mark">
<h2>...and fix the bug!</h2>
<p>Now that we know what’s causing the bug, we know how to fix it: give the event handler a way to distinguish between the two buttons with the same emoji.</p>
<p>First, <strong>make these changes</strong> to the ButtonCick event handler (make sure you don’t miss any changes):</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg696-1.png"/>
<h6/>
</div></figure>
<p>Then <strong>replace the <code>foreach loop</code></strong> with a different kind of loop, a <code>for</code> loop—this for loop counts the animals:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg696-2.png"/>
<h6/>
</div></figure>
<p>Now debug through the app again, just like you did before. This time when you click the same animal twice it will skip down to the end of the event handler. <strong><em>The bug is fixed!</em></strong></p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_qustions-idd0002">
<h5>there are no Dumb Questions</h5>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><a data-primary="binary (executable)" data-type="indexterm" id="idm46402337045688"/><span style="color:#9D9EA0;">Keep an eye out for these Q&amp;A sections. They often answer your most pressing questions, and point out questions other readers are thinking of. In fact, a lot of them are real questions from readers of previous editions of this book!</span></p>
</div>
<p><strong>Q: You mentioned that I’m running a server and a web application. What did you mean by that?</strong></p>
<p><strong>A:</strong> When you run your app, the IDE starts up the browser that you selected. The address bar in the browser has a URL like https://localhost:5001/—if you <strong>copy that URL</strong> and paste it into the URL bar of <strong>another browser</strong>, that browser will run your game, too. That’s because the browser is running a <strong>web application</strong>, or a web page that runs entirely inside your browser. Like any web page, it needs to be hosted on a web server.</p>
<p><strong>Q: What web server is my browser connecting to?</strong></p>
<p><strong>A:</strong> Your browser is connecting to a server that’s running <em>inside Visual Studio</em>. Click the Application Output button at the bottom of the IDE to open a window that shows you the output of whatever application is running—in this case, it’s an application that includes the server that’s hosting your web application. Scroll or search through that window to find the line that shows it listening for incoming browser connections:</p>
<pre data-type="programlisting">Now listening on: https://localhost:5001</pre>
<p><strong>Q: When I press <span class="inlineimage"><img alt="Images" src="assets/tab1.png"/></span> (Command-Tab) to switch between macOS apps, there are a bunch of instances of Edge or Chrome still open. What’s happening?</strong></p>
<p><strong>A:</strong> Every time you stop and restart your app in Visual Studio, it launches a new instance of the browser because it needs to establish a separate connection for debugging. You can connect other instances of a browser, but you can only debug with the browser that the IDE launched. You can test this yourself: start, stop, and restart your app in the IDE, then set a breakpoint. Only one of the browsers will actually pause when the breakpoint is hit.</p>
<p><strong>Q: Blazor web apps seem a lot more complicated than console apps. Do they really work the same way?</strong></p>
<p><strong>A:</strong> Yes. When you get down to it, all C# code works the same way: one statement executes, then the next one, and then the next one. One reason web apps seem more complex is because some methods are only called when certain things happen, like when the page is loaded or the user clicks on a button. Once a method gets called, it works exactly like in a console app—and you can prove that to yourself by setting a breakpoint inside of it.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="ide_tip_the_errors_windo">
<h5><strong>IDE Tip: The Errors Windo</strong></h5>
<p>Unless you have a superhuman ability to enter code perfectly without a single typo, you’ve seen the Errors window at the bottom of the IDE. It pops up when you try to run your project but it has errors. Here’s what it looked like when we tried to fix the bug, but accidentally included this typo: <code>string l<u>sa</u>tDescription = string.Empty;</code></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg697-1.png"/>
<h6/>
</div></figure>
<p>You can always check for errors by <strong>building</strong> your code, either by running it or choosing Build All <span class="inlineimage"><img alt="Images" src="assets/pg697-2.png"/></span> from the Build menu. If the Errors window doesn’t pop up, that means your code <strong>builds</strong>, which is what the IDE does to turn your code into a <strong>binary</strong>, or an executable file that macOS can run.</p>
<p>Let’s add an error to your code. Go to the first line in your SetUpGame method, then add this on its own line: <code>Xyz</code></p>
<p>Build your code. The IDE will open the Errors window with <span class="inlineimage"><img alt="Images" src="assets/pg697-3.png"/></span>  at the top and one error. If you click elsewhere, the Errors window will disappear—but don’t worry, you can always reopen it by clicking <span class="inlineimage"><img alt="Images" src="assets/pg697-4.png"/></span>  at the bottom of the IDE.</p>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg698-1.png"/>
<h6/>
</div></figure>
</div></section>
</div></section>
<section data-pdf-bookmark="Add code to reset the game when the player wins" data-type="sect1"><div class="sect1" id="add_code_to_reset_the_game_when_the_play">
<h1>Add code to reset the game when the player wins</h1>
<p>The game is coming along—your player starts out with a grid full of animals to match, and they can click on pairs of animals that disappear when they’re matched. But what happens when all of the matches are found? We need a way to reset the game so the player gets another chance.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg698-2.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">When you see a Brain Power element, take a minute and really think about the question that it’s asking.</span></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-idd0031">
<h5><span class="inlineimage"><img alt="Images" src="assets/Common-8.png"/></span>  <strong>BRAIN POWER</strong></h5>
<p>Take a minute and look through the C# code and HTML markup. What parts of it do you think you’ll need to change to make it reset the game once the player has clicked all of the matched pairs?</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0035">
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span>  <strong>Exercise</strong></h5>
<p>Here are four blocks of code to add to your app. Once each block is in the right place, the game will reset as soon as the player gets all of the matches.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg699-1.png"/>
<h6/>
</div></figure>
<p><strong>Your job is to figure out where each of the four blocks goes.</strong> We’ve copied parts of the code for your game below and added four boxes, one for each block of code above. Can you figure out which block of code goes in each box?</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg699.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>When you’re doing a code exercise, it’s <span style="color:#9D9EA0;"><u>not cheating</u></span> to peek at the solution! We don’t learn effectively if we’re frustrated—it’s easy to get stuck on one little thing, and the solution can help you get past it.</strong></p>
</div>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0026">
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span>  <strong>Exercise Solution</strong></h5>
<p>Here’s what the code looks like with each block of code in the correct place. If you haven’t already, <strong>add all four blocks of code to your game</strong> to make it reset when the player finds all the matches.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg700.png"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-idd0031-z">
<h5><span class="inlineimage"><img alt="Images" src="assets/brainpower.png"/></span> Brain Power</h5>
<p><strong>You’ve reached another checkpoint in your project!</strong> Your game might not be finished yet, but it works and it’s playable, so this is a great time to step back and think about how you could make it better. What could you change to make it more interesting?</p>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg701-1.png"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="Finish the game by adding a timer" data-type="sect1"><div class="sect1" id="finish_the_game_by_adding_a_time-idd0001">
<h1>Finish the game by adding a timer</h1>
<p>Your animal matching game will be more exciting if players can try to beat their best time. We’ll add a <strong>timer</strong> that “ticks” after a fixed interval by repeatedly calling a method.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg701-3.png"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg701-2.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Timers “tick” every time interval by calling methods over and over again. You’ll use a timer that starts when the player starts the game and ends when the last animal is matched.</strong></p>
</div>
</div></section>
<section data-pdf-bookmark="Add a timer to your game’s code" data-type="sect1"><div class="sect1" id="add_a_timer_to_your_gameapostroph-id0001">
<h1>Add a timer to your game’s code</h1>
<p><strong><em>Add this!</em></strong></p>
<ol>
<li><p>Start by finding this line at the very top of the <em>Index.razor</em> file: <code>@page "/"</code></p>
<p><strong>Add this line just below it</strong>—you need it in order to use a Timer in your C# code:</p>
<pre data-type="programlisting">@using System.Timers</pre></li>
<li><p><strong>You’ll need to update the HTML markup to display the time. Add this just below the first block that you added in the exercise:</strong></p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">   &lt;/div&gt;</span>
<span style="color:#9D9EA0;">    &lt;div class="row"&gt;</span>
<span style="color:#9D9EA0;">        &lt;h2&gt;Matches found: @matchesFound&lt;/h2&gt;</span>
<span style="color:#9D9EA0;">    &lt;/div&gt;</span>
    <strong>&lt;div class="row"&gt;</strong>
        <strong>&lt;h2&gt;Time: @timeDisplay&lt;/h2&gt;</strong>
    <strong>&lt;/div&gt;</strong>
<span style="color:#9D9EA0;">&lt;/div&gt;</span></pre></li>
<li><p>Your page will need a timer. It will also need to keep track of the elapsed time:</p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">List&lt;string&gt; shuffledAnimals = new List&lt;string&gt;();</span>
<span style="color:#9D9EA0;">int matchesFound = 0;</span>
<strong>Timer timer;</strong>
<strong>int tenthsOfSecondsElapsed = 0;</strong>
<strong>string timeDisplay;</strong></pre></li>
<li><p>You need to tell the timer how frequently to “tick” and what method to call. You’ll do this in the OnInitialized method, which is called once after the page is loaded:</p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">protected override void OnInitialized()</span>
<span style="color:#9D9EA0;">{</span>
    <strong>timer = new Timer(100);</strong>
    <strong>timer.Elapsed += Timer_Tick;</strong>

<span style="color:#9D9EA0;">    SetUpGame();</span>
<span style="color:#9D9EA0;">}</span></pre>
</li>
<li><p>Reset the timer when you set up the game:</p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">private void SetUpGame()</span>
<span style="color:#9D9EA0;">{</span>
<span style="color:#9D9EA0;">    Random random = new Random();</span>
<span style="color:#9D9EA0;">    shuffledAnimals = animalEmoji</span>
<span style="color:#9D9EA0;">        .OrderBy(item =&gt; random.Next())</span>
<span style="color:#9D9EA0;">        .ToList();</span>
<span style="color:#9D9EA0;">    matchesFound = 0;</span>
    <strong>tenthsOfSecondsElapsed = 0;</strong>
<span style="color:#9D9EA0;">}</span></pre>
</li>

<li><p>You need to stop and start your timer. Add this line of code near the top of the ButtonClick method to start the timer when the player clicks the first button:</p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">if (lastAnimalFound == string.Empty)</span>
<span style="color:#9D9EA0;">{</span>
<span style="color:#9D9EA0;">    // First selection of the pair. Remember it.</span>
<span style="color:#9D9EA0;">    lastAnimalFound = animal;</span>
<span style="color:#9D9EA0;">    lastDescription = animalDescription;</span>

    <strong>timer.Start();</strong>
<span style="color:#9D9EA0;">}</span></pre>
<p>And finally, add these two lines further down in the ButtonClick method to stop the timer and display a “Play Again?” message after the player finds the last match:</p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">matchesFound++;</span>
<span style="color:#9D9EA0;">if (matchesFound == 8)</span>
<span style="color:#9D9EA0;">{</span>
    <strong>timer.Stop();</strong>
    <strong>timeDisplay += " - Play Again?";</strong>

<span style="color:#9D9EA0;">    SetUpGame();</span>
<span style="color:#9D9EA0;">}</span></pre></li>
<li><p>Finally, your timer needs to know what to do each time it ticks. Just like buttons have Click event handlers, timers have Tick event handlers: methods that get executed every time the timer ticks.</p>
<p><strong>Add this code at the very bottom of the page</strong>, just above the closing bracket <code>}</code>:</p>
<pre data-type="programlisting"><strong>private void Timer_Tick(Object source, ElapsedEventArgs e)</strong>
<strong>{</strong>
    <strong>InvokeAsync(() =&gt;</strong>
    <strong>{</strong>
        <strong>tenthsOfSecondsElapsed++;</strong>
        <strong>timeDisplay = (tenthsOfSecondsElapsed / 10F)</strong>
            <strong>.ToString("0.0s");</strong>
        <strong>StateHasChanged();</strong>
    <strong>});</strong>
<strong>}</strong></pre></li>
</ol>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>The timer starts when the player clicks the first animal and stops when the last match is found. This doesn’t fundamentally change the way the game works, but makes it more exciting.</strong></p>
</div>
</div></section>
<section data-pdf-bookmark="Clean up the navigation menu" data-type="sect1"><div class="sect1" id="clean_up_the_navigation_menu">
<h1>Clean up the navigation menu</h1>
<p>Your game is working! But did you notice that there are other pages in your app? Try clicking on “Counter” or “Fetch data” in the navigation menu on the left side. When you created the Blazor WebAssembly App project, Visual Studio added these additional sample pages. You can safely remove them.</p>
<p>Start by expanding the <strong>wwwroot</strong> <strong>folder</strong> and editing <em>index.html</em>. Find the line that starts <code>&lt;title&gt;</code> and <strong>modify it</strong> so it looks like this: <code><span style="color:#9D9EA0;">&lt;title&gt;</span> Animal Matching Game <span style="color:#9D9EA0;">&lt;/title&gt;</span></code></p>
<p>Next, expand the <strong>Shared folder</strong> in the solution and <strong>double-click <em>NavMenu.razor</em></strong>. Find this line:</p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">   &lt;a class="navbar-brand" href=""&gt;BlazorMatchGame&lt;/a&gt;
</span></pre>
<p>and <strong>replace it with this:</strong></p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">   &lt;a class="navbar-brand" href=""&gt;</span>Animal Matching Game<span style="color:#9D9EA0;">&lt;/a&gt;</span></pre>
<p>Then <strong>delete these lines:</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg704-1.png"/>
<h6/>
</div></figure>
<p>Finally, hold down <span class="inlineimage"><img alt="Images" src="assets/pg704-2.png"/></span> (Command) and <strong>click to multiselect these files</strong> in the Solution window: <strong><em>Counter.razor</em></strong> and <strong><em>FetchData.razor</em></strong> in the Pages folder, <strong><em>SurveyPrompt.razor</em></strong> in the Shared folder, and the <strong>entire sample-data</strong> folder inside the wwwroot folder. Once they’re all selected, right-click on one of them and <strong>choose Delete</strong> (<img alt="Images" src="assets/pg704-3.png"/>) from the menu to delete them.</p>
<p><strong><em>And now your game is done!</em></strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg704.png"/>
<h6/>
</div></figure>
<p><strong>Whenever you have a large project, it’s always a good idea to break it into smaller pieces.</strong></p>
<p>One of the most useful programming skills that you can develop is the ability to look at a large and difficult problem and break it down into smaller, easier problems.</p>
<p>It’s really easy to be overwhelmed at the beginning of a big project and think, “Wow, that’s just so...big!” But if you can find a small piece that you can work on, then you can get started. Once you finish that piece, you can move on to another small piece, and then another, and then another. As you build each piece, you learn more and more about your big project along the way.</p>
</div></section>
<section data-pdf-bookmark="Even better ifs..." data-type="sect1"><div class="sect1" id="even_better_ifshellip-idd0001">
<h1>Even better ifs...</h1>
<p>Your game is pretty good! But every game—in fact, pretty much every program—can be improved. Here are a few things that we thought of that could make the game better:</p>
<ul>
<li><p>Add different kinds of animals so the same ones don’t show up each time.</p></li>
<li><p>Keep track of the player’s best time so they can try to beat it.</p></li>
<li><p>Make the timer count down instead of counting up so the player has a limited amount of time.</p></li>
</ul>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="mini_sharpen_your_pencil-idd0002">
<h5><span class="inlineimage"><img alt="Images" src="assets/Common.png"/></span>  <strong>MiNi Sharpen your pencil</strong></h5>
<p>Can you think of your own “even better if” improvements for the game? This is a great exercise—take a few minutes and write down at least three improvements to the animal matching game.</p>
</div></aside>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">We’re serious—take a few minutes and do this. Stepping back and thinking about the project you just finished is a great way to seal the lessons you learned into your brain.</span></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-idd0030">
<h5><strong>BULLET POINTS</strong></h5>
<ul>
<li><p>An <strong>event handler</strong> is a method that your application calls when a specific event like a mouse click, page reload, or timer tick happens.</p></li>
<li><p>The IDE’s <strong>Errors window</strong> shows any errors that prevent your code from building.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">Just a quick reminder: we’ll refer to Visual Studio as “<u>the IDE</u>– a lot in this book.</span></p>
</div>
</li>
<li><p><strong>Timers</strong> execute Tick event handler methods over and over again on a specified interval.</p></li>
<li><p><code><strong>foreach</strong></code> is a kind of loop that iterates through a collection of items.</p></li>
<li><p><code><strong>for</strong></code> is a kind of loop that can be used for counting.</p></li>
<li><p>When your program has a <strong>bug</strong>, gather evidence and try to figure out what’s causing it.</p></li>
<li><p>Bugs are easier to fix when they’re <strong>reproducible</strong>.</p></li>
<li><p>The IDE’s <strong>debugger</strong> lets you pause your app on a specific statement to help track down problems.</p></li>
<li><p>Setting a <strong>breakpoint</strong> makes the debugger pause on the statement where the breakpoint is set.</p></li>
<li><p>Visual Studio makes it really easy to use <strong>source control</strong> to back up your code and keep track of all changes that youÙve made.</p></li>
<li><p>You can commit your code to a <strong>remote Git repository</strong>. We use GitHub for the repository with the source code for all of the projects in this book.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">This is a great time to push your code to Git! Then you’ll always be able to go back to your project if you want to reuse some of the code in it.</span></p>
</div>
</li>
</ul>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg705.png"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="from #dive_into_chash_statementscomma_classesc dive into C#" data-type="sect1"><div class="sect1" id="from_chapter_2_dive_into_chash">
<h1><em>from <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a></em> dive into C#</h1>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><span style="color:#9D9EA0;">This is the Blazor version of the Windows desktop project in <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a>.</span></p>
</div>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>The last part of <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a> is a Windows project to experiment with different kinds of controls. We’ll use Blazor to build a similar project to experiment with web controls.</strong></p>
</div>
</div></section>
<section data-pdf-bookmark="Controls drive the mechanics of your user interfaces" data-type="sect1"><div class="sect1" id="controls_drive_the_mechanics-idd0001">
<h1>Controls drive the mechanics of your user interfaces</h1>
<p>In the last chapter, you built a game using Button <strong>controls</strong>. But there are a lot of different ways that you can use controls, and the choices you make about what controls to use can really change your app. Does that sound weird? It’s actually really similar to the way we make choices in game design. If you’re designing a tabletop game that needs a random number generator, you can choose to use dice, a spinner, or cards. If you’re designing a platformer, you can choose to have your player jump, double jump, wall jump, or fly (or do different things at different times). The same goes for apps: if you’re designing an app where the user needs to enter a number, you can choose from different control to let them do that—<strong><em>and that choice affects how your user experiences the app.</em></strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg706-1.png"/>
<h6/>
</div></figure>
<ul>
<li><p>A <strong>text box</strong> lets a user enter any text they want. But we need a way to make sure they’re only entering numbers and not just any text.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg706-2.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Sliders</strong> are used exclusively to choose a number. Phone numbers are just numbers, too, so <em>technically</em> you could use a slider to choose a phone number. Do you think that’s a good choice?</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg706-3.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Pickers</strong> are controls that are specially built to pick a specific type of value from a list. For example, <strong>date pickers</strong> let you specify a date by picking its year, month, and day, and <strong>color pickers</strong> let you choose a color using a spectrum slider or by its numeric value.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg706-4.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Radio buttons</strong> let you restrict the user’s choice. They often look like circles with dots in them, but you can style them to look like regular buttons too.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg706-5.png"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg706-6.png"/>
<h6/>
</div></figure>
</li>
</ul>
</div></section>
<section data-pdf-bookmark="Create a new Blazor WebAssembly App project" data-type="sect1"><div class="sect1" id="create_a_new_blazor_webassembly_app_proj">
<h1>Create a new Blazor WebAssembly App project</h1>
<p>Earlier in this <strong><em>Visual Studio for Mac Learner’s Guide</em></strong>, you created a Blazor WebAssembly App project for your animal matching game. You’ll do the same thing for this project, too.</p>
<p><strong><em>Here’s a concise set of steps to follow to create a Blazor WebAssembly App project, change the title text for the main page, and remove the extra files that Visual Studio creates. We won’t repeat this for every additional project in this guide—you should be able to follow these same instructions for all of the future Blazor WebAssembly App projects.</em></strong></p>
<ol>
<li><p><strong>Create a new Blazor WebAssembly App project.</strong></p>
<p>Either start up Visual Studio 2019 for Mac or choose <em>File &gt;&gt; New Solution...</em> (<span class="inlineimage"><img alt="Images" src="assets/pg707-01.png"/></span>) from the menu to <strong>bring up the New Project window. Click New</strong> to create a new project. Name it <strong>ExperimentWithControlsBlazor</strong>.</p></li>
<li><p><strong>Change the title and navigation menu.</strong></p>
<p>At the end of the animal matching game project, you modified the title and navigation bar text. Do the same for this project. Expand the <strong>wwwroot folder</strong> and edit <em>Index.html</em>. Find the line that starts <code>&lt;title&gt;</code> and <strong>modify it</strong> so it looks like this: <code><span style="color:#9D9EA0;">&lt;title&gt;</span> <strong>Experiment with Controls</strong> <span style="color:#9D9EA0;">&lt;/title&gt;</span></code></p>
<p>Expand the <strong>Shared folder</strong> in the solution and <strong>double-click on <em>NavMenu.razor</em>.</strong> Find this line:</p>
<pre data-type="programlisting">   &lt;a class="navbar-brand" href=""&gt;ExperimentWithControlsBlazor&lt;/a&gt;</pre>
<p>and <strong>replace it with this:</strong></p>
<pre data-type="programlisting">   &lt;a class="navbar-brand" href=""&gt;<strong>Experiment With Controls&lt;/a&gt;</strong></pre>
</li>
<li><p><strong>Remove the extra navigation menu options and their corresponding files.</strong></p>
<p>This is just like what you did at the end of the animal matching game project. <strong>Double-click on <em>NavMenu.razor</em> and delete these lines:</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg707.png"/>
<h6/>
</div></figure>
<p>Then hold down <span class="inlineimage"><img alt="Images" src="assets/pg707-1.png"/></span> (Command) and <strong>click to multiselect these files</strong> in the Solution window: <strong><em>Counter.razor</em></strong> and <strong><em>FetchData.razor</em></strong> in the Pages folder, <strong><em>SurveyPrompt.razor</em></strong> in the Shared folder, and the <strong>entire sample-data</strong> folder inside the wwwroot folder. Once they’re all selected, right-click on one of them and <strong>choose Delete</strong> ( <span class="inlineimage"><img alt="Images" src="assets/pg707-2.png"/></span> ) from the menu to delete them.</p></li>
</ol>
</div></section>
<section data-pdf-bookmark="Create a page with a slider control" data-type="sect1"><div class="sect1" id="create_a_page_with_a_slider_control">
<h1>Create a page with a slider control</h1>
<p>Many of your programs will need the user to input numbers, and one of the most basic controls to input a number is a <strong>slider</strong>, also known as a <strong>range input</strong>. Let’s create a new Razor page that uses a slider to update a value.</p>
<ol>
<li><p><strong>Replace the Index.razor page.</strong></p>
<p>Open <em>Index.razor</em> and <strong>replace</strong> all of its contents with <strong>this HTML markup:</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg708-1.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Run your app.</strong></p>
<p>Run your app just like you did with the app in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a>. Compare the HTML markup with the page displayed in the browser—match up the individual <code>&lt;div&gt;</code> blocks with what’s displayed on the page.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg708-2.png"/>
<h6/>
</div></figure></li>
<li><p><strong>Add C# code to your page.</strong></p>
<p>Go back to <em>Index.razor</em> and <strong>add this C# code</strong> to the bottom of the file:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg709-1.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Hook up your range control to the Change event handler you just added.</strong></p>
<p>Add an <code>@onchange</code> attribute to your range control:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg709-2.png"/>
<h6/>
</div></figure>
</li>
</ol>
</div></section>
<section data-pdf-bookmark="Add a text input to your app" data-type="sect1"><div class="sect1" id="add_a_text_input_to_your_app">
<h1>Add a text input to your app</h1>
<p>The goal of this project is to experiment with different kinds of controls, so let’s add a <strong>text input control</strong> so users can type text into the app and have it display at the bottom of the page.</p>
<ol>
<li><p><strong>Add a text input control to your page’s HTML markup.</strong></p>
<p><strong>Add an</strong> <code><strong>&lt;input ... /&gt;</strong></code> <strong>tag</strong> that’s almost identical to the one you added for the slider. The only difference is that you’ll set the <code>type</code> attribute to <code>"text"</code> instead of <code>"range"</code>. Here’s the HTML markup:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg710-1.png"/>
<h6/>
</div></figure>
<p><strong>Run your app again</strong>—now it has a text input control. Any text you enter will show up at the bottom of the page. Try changing the text, then moving the slider, then changing the text again. The value at the bottom will change each time you modify a control.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg710-2.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Add an event handler method that only accepts numeric values.</strong></p>
<p>What if you only want to accept numeric input from your users? <strong>Add this method</strong> to the code between the brackets at the bottom of the Razor page:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg711-1.png"/>
<h6/>
</div></figure>
</li>
<li><p><strong>Change the text input to use the new event handler method.</strong></p>
<p>Modify your text control’s <code>@onchange</code> attribute to call the new event handler:</p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">    &lt;input type="text" placeholder="Enter text"</span>
<span style="color:#9D9EA0;">           @onchange="</span><strong>UpdateNumericValue</strong><span style="color:#9D9EA0;">" /&gt;</span></pre>
<p>Now try entering text into the text input—it won’t update the value at the bottom of the page unless the text that you enter is an integer value.</p></li>
</ol>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0036">
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span>  <strong>Exercise</strong></h5>
<p>You used <strong>Button controls</strong> in your animal matching game in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a>. Here’s some HTML markup to add a strip of buttons to your page—it’s very similar to the code that you used earlier. Your job is to<strong>finish this code</strong> so it adds <u>six</u> buttons, and<strong>add an event handler to the C# code.</strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg711-2.png"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0027">
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span>  <strong>Exercise Solution</strong></h5>
<p>Here’s the line of code that makes the Razor markup add six buttons to the page. It’s a <code>for</code> loop, and it works just like the other <code>for</code> loops you learned about in <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a>:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg712-1.png"/>
<h6/>
</div></figure>
<p>Here’s the event handler method to add to the code at the bottom of the page. It sets DisplayValue to the value passed to it by the button when it’s clicked:</p>
<pre data-type="programlisting">    private void ButtonClick(string displayValue)
    {
        DisplayValue = displayValue;
    }</pre>
</div></aside>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg712.png"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="Add color and date pickers to your app" data-type="sect1"><div class="sect1" id="add_color_and_date_pickers_to_your_app">
<h1>Add color and date pickers to your app</h1>
<p>Pickers are just different types of inputs. A <strong>date picker</strong> has the input type <code>"date"</code> and a <strong>color picker</strong> has the input type <code>"color"</code>—other than that, the HTML markup for those input types is identical.</p>
<p>Modify your app to <strong>add a date picker and a color picker</strong>. Here’s the HTML markup—add it just above the <code>&lt;div&gt;</code> tag that contains the display value:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg713-1.png"/>
<h6/>
</div></figure>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg713-2.png"/>
<h6/>
</div></figure>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>That’s the end of the project—great job! You can pick up <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a> at the very end, where there’s a person in a chair thinking this: THERE ARE SO MANY DIFFERENT WAYS FOR USERS TO CHOOSE NUMBERS!</strong></p>
</div>
</div></section>
<section data-pdf-bookmark="from #objectshellipget_orientedexclamation_mar objects...get oriented!" data-type="sect1"><div class="sect1" id="from_chapter_3_objectshellipget_oriented">
<h1>from <a href="ch03.html#objectshellipget_orientedexclamation_mar">#objectshellipget_orientedexclamation_mar</a> objects...get oriented!</h1>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><a data-primary="CardPicker class" data-type="indexterm" id="idm46402336748312"/><a data-primary="commit, Git" data-type="indexterm" id="idm46402336746952"/><span style="color:#9D9EA0;">This is the Blazor version of the Windows desktop project in <a href="ch03.html#objectshellipget_orientedexclamation_mar">#objectshellipget_orientedexclamation_mar</a>.</span></p>
</div>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>Partway through <a href="ch03.html#objectshellipget_orientedexclamation_mar">#objectshellipget_orientedexclamation_mar</a>, there’s a project where you build a Windows version of the card picker app. We’ll use Blazor to build a web-based version of the same app.</strong></p>
</div>
</div></section>
<section data-pdf-bookmark="Up next: build a Blazor version of your card picking app" data-type="sect1"><div class="sect1" id="up_next_build_a_blazor_version_of_your_c">
<h1>Up next: build a Blazor version of your card picking app</h1>
<p>In the next project, you’ll build a Blazor app called PickACardBlazor. It will use a slider to let you choose the number of random cards to pick and display those cards in a list. Here’s what it will look like:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg714.png"/>
<h6/>
</div></figure>
<section data-pdf-bookmark="Reuse your CardPicker class in a new Blazor app" data-type="sect2"><div class="sect2" id="reuse_your_cardpicker_class_in_a_new_bla">
<h2><u>Reuse</u> your CardPicker class in a new Blazor app</h2>
<p><strong><em>Reuse this!</em></strong></p>
<p>If you’ve written a class for one program, you’ll often want to use the same behavior in another. That’s why one of the big advantages of using classes is that they make it easier to <strong>reuse</strong> your code. Let’s give your card picker app a shiny new user interface, but keep the same behavior by reusing your CardPicker class.</p>
<ol>
<li><p><strong>Create a new Blazor WebAssembly App project called PickACardBlazor.</strong></p>
<p>You’ll follow exactly the same steps you used to create your animal matching game in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a>:</p>
<ul>
<li><p>Open Visual Studio and create a new project.</p></li>
<li><p>Select <strong>Blazor WebAssembly App</strong>, just like you did with your previous Blazor apps.</p></li>
<li><p>Name your new app <strong>PickACardBlazor</strong>. Visual Studio will create the project.</p></li>
</ul></li>
<li><p><strong>Add the CardPicker class that you created for your Console App project.</strong></p>
<p>Right-click on the project name and choose <strong>Add &gt;&gt; Existing Files...</strong> from the menu:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg715-1.png"/>
<h6/>
</div></figure>
<p>Navigate to the folder with your console app and <strong>click on</strong> <strong><em>CardPicker.cs</em></strong> to add it to your project. Visual Studio will ask you if you want to copy, move, or link to the file. Tell Visual Studio to <strong>copy the file</strong>. Your project should now have a copy of the <em>CardPicker.cs</em> file from your console app.</p></li>
<li><p><strong>Change the namespace for the CardPicker class.</strong></p>
<p><strong>Double-click on <em>CardPicker.cs</em></strong> in the Solution window. It still has the namespace from the console app. <strong>Change the namespace</strong> to match your project name:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg715-2.png"/>
<h6/>
</div></figure>
<p><strong><em>Congratulations, you’ve reused your CardPicker class!</em></strong> You should see the class in the Solution window, and you’ll be able to use it in the code for your Blazor app.</p></li>
</ol>
</div></section>
</div></section>
<section data-pdf-bookmark="The page is laid out with rows and columns" data-type="sect1"><div class="sect1" id="the_page_is_laid_out_with_rows_and_colum">
<h1>The page is laid out with rows and columns</h1>
<p>The Blazor apps in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a> and <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a> used HTML markup to create rows and columns, and this new app does the same thing. Here’s a picture that shows you how your app will be laid out:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg716.png"/>
<h6/>
</div></figure>
</div></section>
<section data-pdf-bookmark="The slider uses data binding to update a variable" data-type="sect1"><div class="sect1" id="the_slider_uses_data_binding_to_update_a">
<h1>The slider uses <u>data binding</u> to update a variable</h1>
<p>The code at the bottom of the page will start with a variable called <code>numberOfCards</code>:</p>
<pre data-type="programlisting">@code {
    int numberOfCards = 5;</pre>
<p>You <em>could</em> use an event handler to update <code>numberOfCards</code>, but Blazor has a better way: <strong>data binding</strong>, which lets you set up your input controls to automatically update your C# code, and can automatically insert values from your C# code back into the page.</p>
<p>Here’s the HTML markup for the header, the range input, and the text next to it that shows its value:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg717-1.png"/>
<h6/>
</div></figure>
<p>Take a closer look at the attributes for the <code>input</code> tag. The <code>min</code> and <code>max</code> attributes restrict the input to values from 1 to 15. The <code><strong>@bind</strong></code> attribute sets up the data binding, so any time the slider changes Blazor automatically updates <code>numberOfCards</code>.</p>
<p>The <code>input</code> tag is followed by <code>&lt;div class="col-2"&gt;<strong>@numberOfCards&lt;/div&gt;</strong></code>—that markup adds text (with <code>ml-2</code> adding space to the left margin). This also uses data binding, but to go in the other direction: every time the <code>numberOfCards</code> field is updated, Blazor automatically updates the text inside that <code>div</code> tag.</p>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0037">
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> <strong>Exercise</strong></h5>
<p>We’ve given all you almost all of the parts you need to add the HTML markup and code to your <em>Index.razor</em> file. Can you figure out how to put them together to make your web app work?</p>
<p><strong>Step 1: Finish the HTML markup</strong></p>
<p>The first four lines of <em>Index.razor</em> are identical to the first four lines in the ExperimentWithControlsBlazor app from <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a>. You can find the next two lines of HTML at the top of the screenshot where we explain how the rows and columns work. The only markup we haven’t given you yet is for the button—here it is:</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg717-2.png"/>
<h6/>
</div></figure>
<p><strong>Step 2: Finish the code</strong></p>
<p>We gave you the beginning of the <code>@code</code> section at the bottom of the page, with an int field called <code>numberOfCards</code>.</p>
<ul>
<li><p>Add a string array field called <code>pickedCards</code>: <code>string[] pickedCards = new string[0];</code></p></li>
<li><p>Add the UpdateCards event handler method called by the button. It calls CardPicker.PickSomeCards and assigns the result to the <code>pickedCards</code> field.</p></li>
</ul>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0028">
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span>  <strong>Exercise Solution</strong></h5>
<p>Here’s the entire code for the <em>Index.razor</em> file. You can also follow exactly the same steps from the ExperimentWithControlsBlazor project to remove the extra files and update the navigation menu.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg718.png"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="behind_the_scenes-idd0007">
<h5><span class="inlineimage"><img alt="Images" src="assets/common-9.png"/></span>  <strong>Behind the Scenes</strong></h5>
<p><strong>Your Blazor web apps use Bootstrap for page layout.</strong></p>
<p>Your app looks pretty good! Part of the reason for that is because it uses <strong>Bootstrap</strong>, a free and open source framework for creating web pages that are responsive—they adjust automatically when the screen size changes—and work well on mobile devices.</p>
<p>The row and column layout that drives your app’s layout comes straight out of Bootstrap. Your app uses the <code>class</code> attribute (which has nothing to do with C# classes) to take advantage of Bootstrap’s layout features.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg719.png"/>
<h6/>
</div></figure>
<p>You can experiment with this—try changing <code>col-8</code> and <code>col-4</code> so they’re both <code>col-6</code> to make them equal sizes. What happens when you choose numbers that don’t add up to 12?</p>
<p>Bootstrap also helps style your controls. Try removing the <code>class</code> attribute from the <code>button</code>, <code>input</code>, <code>ul</code>, or <code>li</code> tags and running the app again. It still works the same way, but it looks different—the controls lost some of their styling. Try removing all of the <code>class</code> attributes—the rows and columns disappear, but the app still functions.</p>
<p>You can learn more about Bootstrap at <a href="https://getbootstrap.com/">https://getbootstrap.com</a>.</p>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bulet_points">
<h5><strong>BULET POINTS</strong></h5>
<ul>
<li><p>Classes have methods that contain statements that perform actions. Well-designed classes have sensible method names.</p></li>
<li><p>Some methods have a <strong>return type</strong>. You set a method’s return type in its declaration. A method with a declaration that starts with the <code>int</code> keyword returns an int value. Here’s an example of a statement that returns an int value: <code>return 37;</code></p></li>
<li><p>When a method has a return type, it <strong>must</strong> have a <code>return</code> statement that returns a value that matches a return type. A method declaration with a string return type has a <code>return</code> statement that returns a string.</p></li>
<li><p>As soon as a <code>return</code> statement in a method executes, your program jumps back to the statement that called the method.</p></li>
<li><p>Not all methods have a return type. A method with a declaration that starts <code>public void</code> doesn’t return anything at all. You can still use a <code>return</code> statement to exit a void method: <code>if (finishedEarly) { return; }</code></p></li>
<li><p>Developers often want to <strong>reuse</strong> the same code in multiple programs. Classes can help you make your code more reusable.</p></li>
</ul>
</div></aside>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>That’s the end of the project—nice work! You can go back to <a href="ch03.html#objectshellipget_orientedexclamation_mar">#objectshellipget_orientedexclamation_mar</a> and resume at the section with this heading: <em>Ana’s prototypes look great...</em></strong></p>
</div>
</div></section>
<section data-pdf-bookmark="from #types_and_references_getting_the_referen types and references" data-type="sect1"><div class="sect1" id="from_chapter_4_types_and_references">
<h1>from <a href="ch04.html#types_and_references_getting_the_referen">#types_and_references_getting_the_referen</a> types and references</h1>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><a data-primary="Sloppy Joe’s Random Menu Item project" data-type="indexterm" id="idm46402336648168"/><span style="color:#9D9EA0;">This is the Blazor version of the Windows desktop project in <a href="ch04.html#types_and_references_getting_the_referen">#types_and_references_getting_the_referen</a>.</span></p>
</div>
<p><strong>At the end of <a href="ch04.html#types_and_references_getting_the_referen">#types_and_references_getting_the_referen</a> there’s a Windows project. We’ll build a Blazor version of it.</strong></p>
<section data-pdf-bookmark="Welcome to Sloppy Joe’s Budget House o’ Discount Sandwiches!" data-type="sect2"><div class="sect2" id="welcome_to_sloppy_joeapostrophes-id0001">
<h2>Welcome to Sloppy Joe’s Budget House o’ Discount Sandwiches!</h2>
<p>Sloppy Joe has a pile of meat, a whole lotta bread, and more condiments than you can shake a stick at. What he doesn’t have is a menu! Can you build a program that makes a new <em>random</em> menu for him every day? You definitely can... with a <strong>new Blazor WebAssembly App project</strong>, some arrays, and a couple of useful new techniques.</p>
<p><strong><em>Do this!</em></strong></p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg720.png"/>
<h6/>
</div></figure>
<ol>
<li><p><strong>Add a new MenuItem class to your project and add its fields.</strong></p>
<p>Have a look at the class diagram. It has six fields: an instance of Random, three arrays to hold the various sandwich parts, and string fields to hold the description and price. The array fields use <strong>collection initializers</strong>, which let you define the items in an array by putting them inside curly braces.</p>
<pre data-type="programlisting">class MenuItem
{
    public Random Randomizer = new Random();
    public string[] Proteins = { "Roast beef", "Salami", "Turkey",
            "Ham", "Pastrami", "Tofu" };
    public string[] Condiments = { "yellow mustard", "brown mustard",
           "honey mustard", "mayo", "relish", "french dressing" };
    public string[] Breads = { "rye", "white", "wheat", "pumpernickel", "a roll" };

    public string Description = "";
    public string Price;
}</pre></li>
<li><p><strong>Add the Generate method to the MenuItem class.</strong></p>
<p>This method uses the same Random.Next method you’ve seen many times to pick random items from the arrays in the Proteins, Condiments, and Breads fields and concatenate them together into a string.</p>
<pre data-type="programlisting">    public void Generate()
    {
        string randomProtein = Proteins[Randomizer.Next(Proteins.Length)];
        string randomCondiment = Condiments[Randomizer.Next(Condiments.Length)];
        string randomBread = Breads[Randomizer.Next(Breads.Length)];
        Description = randomProtein + " with " + randomCondiment + " on " + randomBread;

        decimal bucks = Randomizer.Next(2, 5);
        decimal cents = Randomizer.Next(1, 98); 
        decimal price = bucks + (cents * .01M);
        Price = price.ToString("c");
    }</pre>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>The Generate method makes a random price between 2.01 and 5.97 by converting two random ints to decimals. Have a close look at the last line—it returns <code>price.ToString("c")</code>. The parameter to the ToString method is a <span style="color:#9D9EA0;">format</span>. In this case, the <code>"c"</code> format tells ToString to format the value with the local currency: if you’re in the United States you’ll see a $; in the UK you’ll get a £, in the EU you’ll see €, etc.</strong></p>
</div></li>
<li><p><strong>Add the page layout to your Index.razor file.</strong></p>
<p>The menu page is made up of a series of Bootstrap rows, one for each menu item. Each row has two columns, a <code>col-9</code> with the menu item description and a <code>col-3</code> with the price. There’s one last row on the bottom with a centered <code>col-6</code> for the guacamole.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg721.png"/>
<h6/>
</div></figure></li>
</ol>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0038">
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span>  <strong>Exercise</strong></h5>
<p>Add the <code>@code</code> section to the bottom of your <em>Index.razor</em> file. It adds five MenuItem objects to the <code>menuItems</code> field and sets the <code>guacamolePrice</code> field.</p>
<p><strong>Step 1: Add an OnInitialized method</strong></p>
<p>You used an OnInitialized method to shuffle the animals in your animal matching game. Add this line of code:</p>
<pre data-type="programlisting">protected override void OnInitialized()</pre>
<p><strong>Step 2: Replace the OnInitialized body with code to create the MenuItem objects</strong></p>
<p>The IDE will automatically fill in the body (<code>base.OnInitialized();</code>) like it did when you created your animal matching game. Delete that statement. Replace it with code that sets the <code>menuItems</code> and <code>guacamolePrice</code> fields.</p>
<ul>
<li><p>Add a <code>for</code> loop that adds five MenuItem objects to the <code>menuItems</code> array field and calls their Generate methods.</p></li>
<li><p>The last two items on the menu should be bagel sandwiches, so set their Breads field to a new string array:</p>
<pre data-type="programlisting">new string[] { "plain bagel", "onion bagel",
               "pumpernickel bagel", "everything bagel" }</pre></li>
<li><p>Create a new MenuItem instance, call its Generate method, and use its Price field to set <code>guacamolePrice</code>.</p></li>
</ul>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0029">
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> <strong>Exercise Solution</strong></h5>
<p>Here’s the entire code for the <em>Index.razor</em> file. Everything up to <code>string guacamolePrice;</code> matches the code that we gave you—your job was to fill in the rest of the <code>@code</code> block.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg722.png"/>
<h6/>
</div></figure>
</div></aside>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="how_it_workshellip">
<h5><span class="inlineimage"><img alt="Images" src="assets/zoom.png"/></span>  <strong>How it works...</strong></h5>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg723-1.png"/>
<h6/>
</div></figure>
<ol start="4">
<li><p><strong>Run your program and behold the new randomly generated menu.</strong></p>
<p>Uh...something’s wrong. The prices on the menu are all the same, and the menu items are weird—the first three are the same, so are the next two, and they all seem to have the same protein. What’s going on?</p>
<p>It turns out that the .NET Random class is actually a <strong>pseudo-random number</strong> generator, which means that it uses a mathematical formula to generate a sequence of numbers that can pass certain statistical tests for randomness. That makes them good enough to use in any app we’ll build (but don’t use it as part of a security system that depends on truly random numbers!). That’s why the method is called Next—you’re getting the next number in the sequence. The formula starts with a “seed value”—it uses that value to find the next one in the sequence. When you create a new instance of Random, it uses the system clock to “seed” the formula, but you can provide your own seed. Try calling <strong>new Random(12345).Next();</strong> a bunch of times. You’re telling it to create a new instance of Random with the same seed value (12345), so the Next method will give you the same “random” number each time.</p>
<p>When you see a bunch of different instances of Random give you the same value, it’s because they were all seeded close enough that the system clock didn’t change time, which means they all have the same seed value. So how do we fix this? Use a single instance of Random by making the Randomizer field static so all MenuItems share a single Random instance:</p>
<pre data-type="programlisting"><span style="color:#9D9EA0;">public <strong>static <span style="color:#9D9EA0;">Random Randomizer = new Random();</span></strong></span></pre></li></ol>
<p>Run your program again—now the menu will be randomized.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg723-2.png"/>
<h6/>
</div></figure>
</div></aside>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>That’s the end of the project! Resume at the Bullet Points at the very end of <a href="ch04.html#types_and_references_getting_the_referen">#types_and_references_getting_the_referen</a>.</strong></p>
</div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="go_to_our_github_page_for_chapters_5_and">
<h5><span class="inlineimage"><img alt="Images" src="assets/com25.png"/></span> <strong>Go to our GitHub page for Chapters 5 and 6</strong></h5>
<p><a data-primary="Beehive Management System project" data-secondary="Visual Studio for Mac project" data-type="indexterm" id="idm46402336584456"/>You’ve probably noticed that the projects in <a href="ch05.html#encapsulation_keep_your_privateshellippr">#encapsulation_keep_your_privateshellippr</a> and <a href="ch06.html#inheritance_your_objectapostrophes_famil">#inheritance_your_objectapostrophes_famil</a> are longer and more involved than the ones in the previous chapters. We want to give you the best learning experience possible—but doing that takes more pages than we can fit in this appendix! That’s why we’ve made <a href="ch05.html#encapsulation_keep_your_privateshellippr">#encapsulation_keep_your_privateshellippr</a> and <a href="ch06.html#inheritance_your_objectapostrophes_famil">#inheritance_your_objectapostrophes_famil</a> of the Visual Studio for Mac Learner’s Guide available as a <strong>PDF download from our GitHub page</strong>: <a href="https://github.com/head-first-csharp/fourth-edition">https://github.com/head-first-csharp/fourth-edition</a>.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg724-1.png"/>
<h6/>
</div></figure>
<p><strong>Yes! We can build a Blazor app that uses the same class.</strong></p>
<p>In <a href="ch05.html#encapsulation_keep_your_privateshellippr">#encapsulation_keep_your_privateshellippr</a>, you created a console app for Owen to help him calculate damage for his role-playing game. Now you’ll reuse the class from that project in a Blazor web app.</p>
<figure class="informal"><div class="figure">
<img alt="Images" src="assets/pg724-2.png"/>
<h6/>
</div></figure>
<p><strong>Build a Beehive Management System</strong></p>
<p>The project for <a href="ch06.html#inheritance_your_objectapostrophes_famil">#inheritance_your_objectapostrophes_famil</a> is a serious business application. <strong><em>The queen bee needs your help!</em></strong> Her hive is out of control, and she needs a program to help manage her honey production business. She’s got a beehive full of workers, and a whole bunch of jobs that need to be done around the hive, but somehow she’s lost control of which bee is doing what and whether or not she’s got the beepower to do the jobs that need to be done. It’s up to you to build a <strong>Beehive Management System</strong> to help her keep track of her workers.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p><strong>The rest of the Windows desktop <span style="color:#9D9EA0;"><u>and</u></span> Blazor projects after <a href="ch06.html#inheritance_your_objectapostrophes_famil">#inheritance_your_objectapostrophes_famil</a> are all PDF downloads. Look for them on our GitHub page!</strong></p>
</div>
</div></aside>
</div></section>
</div></section>
</div></section></body></html>