<html><head></head><body><section data-pdf-bookmark="Chapter 8. Enums and Collections: Organizing your Data" data-type="chapter" epub:type="chapter"><div class="chapter" id="enums_and_collections_organizing_your_da">&#13;
<h1><span class="label">Chapter 8. </span>Enums and Collections: <em>Organizing your Data</em></h1>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/405fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Data isn’t always as neat and tidy as you’d like it to be.</strong></p>&#13;
<p>In the real world, you don’t receive your data in tidy little bits and pieces. No, your data’s going to come at you in <strong>loads, piles, and bunches</strong>. You’ll need some pretty powerful tools to organize all of it, and that’s where <strong>enums</strong> and <strong>collections</strong> come in. Enums are types that let you define valid values to categorize your data. Collections are special objects that store many values, letting you <strong>store, sort, and manage</strong> all the data that your programs need to pore through. That way, you can spend your time thinking about writing programs to work with your data, and let the collections worry about keeping track of it for you.</p>&#13;
<section data-pdf-bookmark="Strings don’t always work for storing categories of data" data-type="sect1"><div class="sect1" id="strings_donapostrophet_always_work_for_s">&#13;
<h1>Strings don’t always work for storing categories of data</h1>&#13;
<p><a data-primary="enumeration" data-type="indexterm" id="idm46402342105128"/>We’re going to be working with playing cards over the next few chapters, so let’s build a Card class that we’ll use. First, create a new Card class that has a constructor that lets you pass it a suit and value, which it stores as strings:</p>&#13;
<pre data-type="programlisting">class Card&#13;
{&#13;
    public string Value { get; set; }&#13;
    public string Suit { get; set; }&#13;
    public string Name { get { return $"{Value} of {Suit}"; } }&#13;
&#13;
    public Card(string value, string suit)&#13;
    {&#13;
        Value = value;&#13;
        Suit = suit;&#13;
    }&#13;
}</pre>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/406fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>That looks pretty good. We can create a Card object and use it like this:</p>&#13;
<pre data-type="programlisting">Card aceOfSpades = new Card("Ace", "Spades");&#13;
Console.WriteLine(aceOfSpades); <span style="color:#9D9EA0;"> // prints Ace of Spades</span></pre>&#13;
<p>But there’s a problem. Using strings to hold suits and values can have some unexpected results:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/406fig01a.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>We <strong><em>could</em></strong> add code to the constructor to check each string and make sure it’s a valid suit or value, and handle bad input by throwing an exception. That’s a valid approach—assuming you deal with the exceptions correctly, of course.</p>&#13;
<p>But <strong><em>wouldn’t it be great</em></strong> if the C# compiler could automatically detect those invalid values for us? What if the compiler could ensure that all of the cards are valid <u>before you even run the code</u>? Well, guess what: it <strong><em>will</em></strong> do that! All you need to do is <strong>enumerate</strong> the values that are OK to use.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="e_nu_me_ratecomma_verbdot">&#13;
<h5>e-nu-me-rate, verb.</h5>&#13;
<p>to specify one after another.</p>&#13;
<p><em>Ralph kept losing track of his pigeons, so he decided to <strong><em>enumerate</em></strong> them by writing each of their names on a piece of paper.</em></p>&#13;
</div></aside>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/406fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Enums let you work with a set of valid values" data-type="sect1"><div class="sect1" id="enums_let_you_work_with_a_set_of_valid_v">&#13;
<h1>Enums let you work with a set of <u>valid</u> values</h1>&#13;
<p><a data-primary="{ } (curly brackets)" data-type="indexterm" id="idm46402342084056"/><a data-primary="enums" data-secondary="about" data-type="indexterm" id="idm46402342082936"/>An <strong>enum</strong> or <strong>enumeration type</strong> is a data type that only allows certain values for that piece of data. So we could define an enum called <code>Suits</code>, and define the allowed suits:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/407fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<section data-pdf-bookmark="An enum defines a new type" data-type="sect2"><div class="sect2" id="an_enum_defines_a_new_type">&#13;
<h2>An enum defines a new type</h2>&#13;
<p>When you use the <code>enum</code> keyword you’re <strong>defining a new type</strong>. Here are a few useful things to know about enums:</p>&#13;
<blockquote>&#13;
<p><strong>An enum lets you define a new type that only allows a specific set of values. Any value that’s not part of the enum will break the code, which can prevent bugs later.</strong></p>&#13;
</blockquote>&#13;
<p><span class="inlineimage"><img alt="Images" src="assets/btick.png"/></span>  <strong>You can use an enum as the type in a variable definition, just like you’d use string, int, or any other type:</strong></p>&#13;
<pre data-type="programlisting">Suits mySuit = Suits.Diamonds;</pre>&#13;
<p><span class="inlineimage"><img alt="Images" src="assets/btick.png"/></span>  <strong>Since an enum is a type, you can use it to create an array:</strong></p>&#13;
<pre data-type="programlisting">Suits[] myVals= new Suits[3] { Suits.Spades, Suits.Clubs, mySuit };</pre>&#13;
<p><span class="inlineimage"><img alt="Images" src="assets/btick.png"/></span>  <strong>Use == to compare enum values. Here’s a method that takes a Suit enum as a parameter, and uses == to check if it’s equal to Suits.Hearts:</strong></p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/407fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><span class="inlineimage"><img alt="Images" src="assets/btick.png"/></span>  <strong>But you can’t just make up a new value for the enum. If you do, the program won’t compile—which means you can avoid some annoying bugs:</strong></p>&#13;
<pre data-type="programlisting">IsItAHeart(Suits.Oxen);</pre>&#13;
<p>The compiler gives you an error if you use a value that’s not part of the enum:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/407fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Enums let you represent numbers with names" data-type="sect1"><div class="sect1" id="enums_let_you_represent_numbers_with_nam">&#13;
<h1>Enums let you represent numbers with names</h1>&#13;
<p><a data-primary="enums" data-secondary="big numbers" data-type="indexterm" id="idm46402342058376"/><a data-primary="enums" data-secondary="representing numbers with names" data-type="indexterm" id="idm46402342056712"/><a data-primary="numbers, representing with names using enums" data-type="indexterm" id="idm46402342055736"/>Sometimes it’s easier to work with numbers if you have names for them. You can assign numbers to the values in an enum and use the names to refer to them. That way, you don’t have a bunch of unexplained numbers floating around in your code. Here’s an enum to keep track of the scores for tricks at a dog competition:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/408fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>You can <u>cast an int to an enum</u>, and you can cast an (intbased) enum back to an int.</p>&#13;
<p>Some enums use a different type, like byte or long (like the one below). You can cast those to their type instead of int.</p>&#13;
</div>&#13;
<p>Here’s an excerpt from a method that uses the <code>TrickScore</code> enum by casting it to and from an int value:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/408fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>You can cast the enum as a number and do calculations with it. You can even convert it to a string—an enum’s ToString method returns a string with the member name:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/408fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>If you don’t assign any number to a name, the items in the list will be given values by default. The first item will be assigned a 0 value, the second a 1, etc. But what happens if you want to use really big numbers for one of the enumerators? The default type for the numbers in an enum is int, so you’ll need to specify the type you need using the colon (:) operator, like this:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/408fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/408fig05.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0026">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> Exercise</h5>&#13;
<p><a data-primary="enums" data-secondary="building class that holds playing card" data-type="indexterm" id="idm46402342036936"/><a data-primary="enums" data-secondary="exercises on" data-type="indexterm" id="idm46402342035960"/><a data-primary="exercises" data-secondary="enums" data-type="indexterm" id="idm46402342034808"/><a data-primary="Random class" data-type="indexterm" id="idm46402342033656"/><a data-primary="Visual Studio" data-secondary="for Mac" data-type="indexterm" id="idm46402342032824"/>Use what you’ve learned about enums to build a class that holds a playing card. Start by creating a <code><strong>new .NET Core Console App project</strong></code> and adding a class called Card.</p>&#13;
<p>Add two public properties to Card: Suit (which will be Spades, Clubs, Diamonds, or Hearts) and Value (Ace, Two, Three... Ten, Jack, Queen, King). You’ll also need one more property: a public read-only property called Name that returns a string like “Ace of Spades” or “Five of Diamonds”.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/409fig01a.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Add two enums to define the suits and values in their own *.cs files</strong></p>&#13;
<p>Add each enum. In Windows, use the familiar <em>Add &gt;&gt;Class</em> feature, then <strong>replace class with enum</strong> in each file. In macOS, use <em>Add&gt;&gt;New File...</em> and choose Empty Enumeration. <strong>Use the Suits enum that we just showed you</strong>, then create an enum for values. Make the values equal to their face values: (int)Values.Ace should equal 1, Two should be 2, Three should be 3, etc. Jack should equal 11, Queen should be 12, and King should be 13.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">To add an enum in Visual Studio for Mac, add a file and choose “Empty Enumeration” aas the file type.</span></p>&#13;
</div>&#13;
<p><strong>Add a constructor and Name property that returns a string with the name of the card</strong></p>&#13;
<p>Add a constructor that takes two parameters, a Suit and a Value:</p>&#13;
<pre data-type="programlisting">Card myCard = new Card(Values.Ace, Suits.Spades);</pre>&#13;
<p>Name should be a read-only property. The get accessor should return a string that describes the card. So this code:</p>&#13;
<pre data-type="programlisting">Console.WriteLine(myCard.Name);</pre>&#13;
<p>should print the following:</p>&#13;
<pre data-type="programlisting">Ace of Spades</pre>&#13;
<p><strong>Make the Main method print the name of a random card</strong></p>&#13;
<p>You can get your program to create a card with a random suit and value by casting a random number between 0 and 3 as a Suits enum and another random number between 1 and 13 as a Values enum. To do this, you can take advantage of a feature of the built-in Random class that gives it three different ways to call its Next method:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/409fig01b.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-idd0024">&#13;
<h5>there are no Dumb Questions</h5>&#13;
<p><strong>Q: I remember calling Random.Next with two arguments earlier in the book. I noticed when I called the method,  an IntelliSense window popped up that said “3 of 3” in the corner. Does that have to do with overloading?</strong></p>&#13;
<p><strong>A:</strong> Yes! When a class has an <strong>overloaded</strong> method—or a method that you can call more than one way—the IDE lets you know all of the options that you have. In this case, the Random class has three possible Next methods. As soon as you type <code>random.Next(</code> into the code window, the IDE pops up its IntelliSense box that shows the parameters for the different overloaded methods. The up and down arrows next to the “3 of 3” let you scroll between them. That’s really useful when you’re dealing with a method that has dozens of overloaded definitions. So when you’re calling Random.Next, make sure you choose the right overloaded method. But don’t worry too much now—we’ll talk a lot about overloading later on in the chapter.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/409fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0017">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/Common-1.png"/></span> Exercise Solution</h5>&#13;
<p><a data-primary="enums" data-secondary="building class that holds playing card" data-type="indexterm" id="idm46402342006936"/>A deck of cards is a great example of a program where limiting values is important. Nobody wants to turn over their cards and be faced with a 28 of Hearts or Ace of Hammers. Here’s our Card class—you’ll reuse it a few times over the next few chapters.</p>&#13;
<p>The <code>Suits</code> enum is in a file called <em>Suits.cs</em>. You already have the code for it—it’s identical to the <code>Suits</code> enum that we showed you earlier in the chapter. The <code>Values</code> enum is in a file called <em>Values.cs</em>. Here’s its code:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/409fig10.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>We chose the names Suits and Values for the enums, while the properties in the Card class that use those enums for types are called Suit and Value. What do you think about these names? Look at the names of other enums that you’ll see throughout the book. Would Suit and Value make better names for these enums?</strong></p>&#13;
<p><strong>There’s no right or wrong answer—in fact, Microsoft’s C# language reference page for enums has both singular (e.g., Season) and plural (e.g., Days) names: <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum">https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum</a>.</strong></p>&#13;
</div>&#13;
<p>The Card class has a constructor that sets its Suit and Value properties, and a Name property that generates a string description of the card:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/409fig10b.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>The Program class uses a static Random reference to cast <code><strong>Suits</strong></code> and <code><strong>Values</strong></code> to instantiate a random Card:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/409fig10c.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="We could use an array to create a deck of cards..." data-type="sect1"><div class="sect1" id="we_could_use_an_array_to_create_a_deck_o">&#13;
<h1>We <u>could</u> use an array to create a deck of cards...</h1>&#13;
<p><a data-primary="arrays" data-secondary="using to create deck of cards" data-type="indexterm" id="idm46402341989688"/>What if you wanted to create a class to represent a deck of cards? It would need a way to keep track of every card in the deck, and it’d need to know what order they were in. A <code>Cards</code> array would do the trick—the top card in the deck would be at value 0, the next card at value 1, etc. Here’s a starting point—a Deck that starts out with a full deck of 52 cards:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/409fig10d.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<section data-pdf-bookmark="...but what if you wanted to do more?" data-type="sect2"><div class="sect2" id="hellipbut_what_if_you_wanted_to_do_moreq">&#13;
<h2>...but what if you wanted to do more?</h2>&#13;
<p>Think of everything you might need to do with a deck of cards, though. If you’re playing a card game, you routinely need to change the order of the cards, and add and remove cards from the deck. You just can’t do that with an array very easily. For example, take another look at the AddWorker method from the Beehive Management System exercise in <a href="ch06.html#inheritance_your_objectapostrophes_famil">#inheritance_your_objectapostrophes_famil</a>:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/409fig10e.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>You had to use Array.Resize to make the array longer, then add the worker to the end. That’s a lot of work.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-idd0022">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/brainpower.png"/></span> Brain Power</h5>&#13;
<p>How would you add a Shuffle method to the Deck class that rearranges the cards in random order? What about a method to deal the first card off the top of the deck that returns it and then removes it from the deck? How would you add a card to the deck?</p>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Arrays can be annoying to work with" data-type="sect1"><div class="sect1" id="arrays_can_be_annoying_to_work_with">&#13;
<h1>Arrays can be annoying to work with</h1>&#13;
<p><a data-primary="arrays" data-secondary="difficulty in working with" data-type="indexterm" id="idm46402341975192"/><a data-primary="collections" data-secondary="about" data-type="indexterm" id="idm46402341973992"/><a data-primary="null" data-type="indexterm" id="idm46402341972872"/><a data-primary="null reference" data-type="indexterm" id="idm46402341971768"/>An array is fine for storing a fixed list of values or references. Once you need to move array elements around, or add more elements than the array can hold, things start to get a little sticky. Here are a few ways that working with arrays can be troublesome.</p>&#13;
<p>Every array has a length. That length doesn’t change unless you resize the array, so  you need to know the length to work with it. Let’s say you want to use an array to store Card references. If the number of references you want to store is less than the length of the array, you could use null references to keep some array elements empty.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/412fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>You’d need to keep track of how many cards are being held in the array. You could add an int field—maybe you’d call it cardCount—that would hold the index of the last card in the array. So your three-card array would have a Length of 7, but you’d set cardCount equal to 3.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/412fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Now things get complicated. It’s easy enough to add a Peek method that just returns a reference to the top card, so you can peek at the top of the deck. What if you want to add a card? If cardCount is less than the array’s Length, you can just put your card in the array at that index and add 1 to cardCount. But if the array is full, you’ll need to <u>create a new, bigger array</u> and copy the existing cards to it. Removing a card is easy enough—but after you subtract 1 from cardCount, you’ll need to make sure to set the removed card’s array index back to <code>null</code>. What if you need to remove a card <strong>from the middle of the list</strong>? If you remove card 4, you’ll need to move card 5 back to replace it, and then move 6 back, then 7...wow, what a mess!</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>The AddWorker method from <a href="ch06.html#inheritance_your_objectapostrophes_famil">#inheritance_your_objectapostrophes_famil</a> used the Array. Resize method to do this.</p>&#13;
</div>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Lists make it easy to store collections of...anything" data-type="sect1"><div class="sect1" id="lists_make_it_easy_to_store_collections">&#13;
<h1><u>Lists</u> make it easy to store collections of...anything</h1>&#13;
<p><a data-primary="angle brackets" data-type="indexterm" id="idm46402341960824"/><a data-primary="classes" data-secondary="collection" data-type="indexterm" id="idm46402341957768"/><a data-primary="collections" data-secondary="lists" data-type="indexterm" id="idm46402341956728"/><a data-primary="List class" data-type="indexterm" id="idm46402341955576"/>C# and .NET have <strong>collection</strong> classes that handle all of those nasty issues that come up when you add and remove array elements. The most common sort of collection is a List&lt;T&gt;. Once you create a List&lt;T&gt; object, it’s easy to add an item, remove an item from any location in the list, peek at an item, and even move an item from one place in the list to another. Here’s how a list works.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">We’ll sometimes leave the &lt;T&gt; off when referring to List in the book. When you see List, think List&lt;T&gt;.</span></p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="relax-idd0002">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/common-12.png"/></span> Relax</h5>&#13;
<p><strong>The &lt;T&gt; at the end of List&lt;T&gt; means it’s <em>generic.</em></strong></p>&#13;
<p>The T gets replaced with a type—so List&lt;int&gt; just means a List of ints.You’ll get plenty of practice with generics over the next few pages.</p>&#13;
</div></aside>&#13;
<ol>&#13;
<li><p><strong>First you create a new instance of List&lt;T&gt;.</strong> Recall that every array has a type—you don’t just have an array, you have an int array, a Card array, etc. Lists are the same. You need to specify the type of object or value that the list will hold by putting it in angle brackets (&lt;&gt;) when you use the <code>new</code> keyword to create it:</p>&#13;
<pre data-type="programlisting">List&lt;Card&gt; cards = new List&lt;Card&gt;();</pre>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/413fig01.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><strong>Now you can add to your List&lt;T&gt;.</strong> Once you’ve got a <code>List&lt;T&gt;</code> object, you can add as many items to it as you want as long as they’re <strong><em>polymorphic</em></strong> with whatever type you specified when you created your new List&lt;T&gt;—which means they’re assignable to the type (and that includes interfaces, abstract classes, and base classes).</p>&#13;
<pre data-type="programlisting">cards.Add(new Card(Values.King, Suits.Diamonds));&#13;
cards.Add(new Card(Values.Three, Suits.Clubs));&#13;
cards.Add(new Card(Values.Ace, Suits.Hearts));</pre>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/413fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</li>&#13;
</ol>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Lists are more flexible than arrays" data-type="sect1"><div class="sect1" id="lists_are_more_flexible_than_arrays">&#13;
<h1>Lists are more flexible than arrays</h1>&#13;
<p><a data-primary="arrays" data-secondary="versus lists" data-type="indexterm" id="idm46402341937080"/><a data-primary="garbage collection" data-type="indexterm" id="idm46402341935624"/><a data-primary="lists" data-secondary="flexibility of" data-type="indexterm" id="idm46402341934744"/>The List class is built into the .NET Framework, and it lets you do a lot of things with objects that you can’t do with a plain old array. Check out some of the things you can do with a List&lt;T&gt;.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/414fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0032">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil</h5>&#13;
<p><a data-primary="exercises" data-secondary="Sharpen your pencil" data-tertiary="lists" data-type="indexterm" id="idm46402341928472"/><a data-primary="lists" data-secondary="exercises on" data-type="indexterm" id="idm46402341927000"/><a data-primary="Sharpen Your Pencil exercises" data-secondary="lists" data-type="indexterm" id="idm46402341925848"/>Fill in the rest of the table below by looking at the List code on the left and entering what you think the code might be if it were using a regular array instead. We don’t expect you to get all of them exactly right, so just make your best guess.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/415fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-idd016">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/Common.png"/></span> Sharpen your pencil Solution</h5>&#13;
<p><a data-primary="index" data-type="indexterm" id="idm46402341920712"/>Your job was to fill in the rest of the table by looking at the List code on the left and entering what you think the code might be if it were using a regular array instead.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/416fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Let’s build an app to store shoes" data-type="sect1"><div class="sect1" id="letapostrophes_build_an_app_to_store_sho">&#13;
<h1>Let’s build an app to store shoes</h1>&#13;
<p><a data-primary="Shoe Storage app" data-type="indexterm" id="idm46402341915080"/>It’s time to see a List in action. Let’s build a .NET Core console app that prompts the user to add or remove shoes. Here’s an example of what it looks like to run the app, adding two shoes and then removing them:</p>&#13;
<p>We’ll start with a Shoe class that stores the style and color for a shoe. Then we’ll create a class called ShoeCloset that stores the shoes in a List&lt;Shoe&gt;, with AddShoe and RemoveShoe methods that prompt the user to add or remove shoes.</p>&#13;
<p><strong><em>Do this!</em></strong></p>&#13;
<ol>&#13;
<li><p><strong>Add an enum for shoe style.</strong> Some shoes are sneakers, others are sandals, so an enum makes sense:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/p417fig001.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><strong>Add the Shoe class.</strong> It uses the <code>Style</code> enum for the shoe style and a string for shoe color, and works just like the Card class we created earlier in the chapter:</p>&#13;
<pre data-type="programlisting">class Shoe&#13;
{&#13;
    public Style Style { &#13;
       get; private set; &#13;
    }&#13;
    public string Color { &#13;
       get; private set;&#13;
    }&#13;
    public Shoe(Style style, string color)&#13;
    {&#13;
        Style = style;&#13;
        Color = color;&#13;
    }&#13;
    public string Description&#13;
    {&#13;
        get { return $"A {Color} {Style}"; }&#13;
    }&#13;
}</pre>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/417fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<pre data-type="programlisting">The shoe closet is empty.</pre>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/417fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<pre data-type="programlisting">Press ’a’ to add or ’r’ to remove a shoe: <strong>a</strong>&#13;
Add a shoe&#13;
Press 0 to add a Sneaker&#13;
Press 1 to add a Loafer&#13;
Press 2 to add a Sandal&#13;
Press 3 to add a Flipflop&#13;
Press 4 to add a Wingtip&#13;
Press 5 to add a Clog&#13;
Enter a style: <strong>1</strong>&#13;
Enter the color: <strong>black</strong>&#13;
&#13;
The shoe closet contains:&#13;
Shoe #1: A black Loafer</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Press ‘a’ to add a shoe, then choose the type of shoe and type in the color.</span></p>&#13;
</div>&#13;
<pre data-type="programlisting">Press ’a’ to add or ’r’ to remove a shoe: <strong>a</strong>&#13;
Add a shoe&#13;
Press 0 to add a Sneaker&#13;
Press 1 to add a Loafer&#13;
Press 2 to add a Sandal&#13;
Press 3 to add a Flipflop&#13;
Press 4 to add a Wingtip&#13;
Press 5 to add a Clog&#13;
Enter a style: <strong>0</strong>&#13;
Enter the color: <strong>blue and white</strong>&#13;
&#13;
The shoe closet contains:&#13;
Shoe #1: A black Loafer&#13;
Shoe #2: A blue and white Sneaker</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Press ‘r’ to remove a shoe, then enter the number of the shoe to remove.</span></p>&#13;
</div>&#13;
<pre data-type="programlisting">Press ’a’ to add or ’r’ to remove a shoe: <strong>r</strong>&#13;
Enter the number of the shoe to remove: <strong>2</strong>&#13;
Removing A blue and white Sneaker&#13;
&#13;
The shoe closet contains:&#13;
Shoe #1: A black Loafer&#13;
&#13;
Press ’a’ to add or ’r’ to remove a shoe: <strong>r</strong>&#13;
Enter the number of the shoe to remove: <strong>1</strong>&#13;
Removing A black Loafer&#13;
&#13;
The shoe closet is empty.&#13;
&#13;
Press ’a’ to add or ’r’ to remove a shoe:</pre>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/417fig03.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><strong>The ShoeCloset class uses a List&lt;Shoe&gt; to manage its shoes.</strong> The ShoeCloset class has three methods—the PrintShoes method prints a list of shoes to the console, the AddShoe method prompts the user to add a shoe to the closet, and the RemoveShoe method prompts the user to remove a shoe:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/418fig01.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><a data-primary="switch statement" data-type="indexterm" id="idm46402341886136"/><strong>Add the Program class with the entry point.</strong> Notice how it doesn’t do very much? That’s because all of the interesting behavior is encapsulated in the ShoeCloset class:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/419fig01.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><strong>Run your app and reproduce the sample output.</strong> Try debugging the app, and start to get familiar with how you work with lists. No need to memorize anything right now—you’ll get plenty of practice with them!</p></li>&#13;
</ol>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="list_class_members_up_close">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/zoom.png"/></span> List Class Members Up Close</h5>&#13;
<p>The List collection class has an Add method that adds an item to the end of the list. The AddShoe method creates a Shoe instance, then calls the shoes. Add method with the reference to that instance:</p>&#13;
<pre data-type="programlisting"><strong>shoes.Add(shoe);</strong></pre>&#13;
<p>The List class also has a RemoveAt method that removes an item from a specific index in the list. Lists, like arrays, are <strong>zero-indexed</strong>, which means the first item has index 0, the second item has index 1, etc.:</p>&#13;
<pre data-type="programlisting"><strong>shoes.RemoveAt(shoeNumber - 1);</strong></pre>&#13;
<p>And finally, the PrintShoes method uses the List.Count property to check if the list is empty:</p>&#13;
<pre data-type="programlisting"><strong>if (shoes.Count == 0)</strong></pre>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Generic collections can store any type" data-type="sect1"><div class="sect1" id="generic_collections_can_store_any_type">&#13;
<h1>Generic collections can store <u>any</u> type</h1>&#13;
<p><a data-primary="angle brackets" data-type="indexterm" id="idm46402341871496"/><a data-primary="generic collections" data-type="indexterm" id="idm46402341870760"/><a data-primary="generic lists" data-type="indexterm" id="idm46402341870024"/><a data-primary="lists" data-secondary="generic" data-type="indexterm" id="idm46402341869288"/>You’ve already seen that a list can store strings or Shoes. You could also make lists of integers or any other object you can create. That makes a list a <strong>generic collection</strong>. When you create a new list object, you tie it to a specific type: you can have a list of ints, or strings, or Shoe objects. That makes working with lists easy—once you’ve created your list, you always know the type of data that’s inside it.</p>&#13;
<p>But what does “generic” really mean? Let’s use Visual Studio to explore generic collections. Open <em>ShoeCloset.cs</em> and hover your mouse cursor over <code>List</code>:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/pg420-01a.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<blockquote>&#13;
<p><strong>A generic collection can hold any type of object, and gives you a consistent set of methods to work with the objects in the collection no matter what type of object it’s holding.</strong></p>&#13;
</blockquote>&#13;
<p>There are a few things to notice:</p>&#13;
<ul>&#13;
<li><p>The List class is in the namespace System.Collections.Generic—this namespace has several classes for generic collections (which is why you needed the <code>using</code> line).</p></li>&#13;
<li><p>The description says that List provides “methods to search, sort, and manipulate lists.” You used some of these methods in your ShoeCloset class.</p></li>&#13;
<li><p>The top line says <code>List&lt;T&gt;</code> and the bottom says <code>T is Shoe</code>. This is how generics are defined—it’s saying that List can handle any type, but for this specific list that type is the Shoe class.</p></li>&#13;
</ul>&#13;
<section data-pdf-bookmark="Generic lists are declared using &lt;angle brackets&gt;" data-type="sect2"><div class="sect2" id="generic_lists_are_declared_using_less_th">&#13;
<h2>Generic lists are declared using &lt;angle brackets&gt;</h2>&#13;
<p>When you declare a list—no matter what type it holds—you always declare it the same way, using &lt;angle brackets&gt; to specify the type of object being stored in the list.</p>&#13;
<p>You’ll often see generic classes (not just List) written like this: List&lt;T&gt;. That’s how you know the class can take any type.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/pg420-01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="ge_ne_riccomma_adjectivedot">&#13;
<h5>e-ne-ric, adjective.</h5>&#13;
<p>characteristic of or relating to a class or group of things; not specific. <em>‘Developer’ is a <strong>generic</strong> term for anyone who writes code, no matter what kind of code they write.</em></p>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="ide_tip_go_to_definition_left_parenthesi">&#13;
<h5>IDE Tip: Go To Definition (Windows) / Go to Declaration (macOS)</h5>&#13;
<p><a data-primary="Go to Declaration" data-type="indexterm" id="idm46402341849224"/><a data-primary="Go to Definition" data-type="indexterm" id="idm46402341847896"/>The List class is part of .NET Core, which has a whole bunch of really useful classes, interfaces, types, and more. Visual Studio has a really powerful tool that you can use to explore these classes, and any other code you’ve written. Open <em>Program.cs</em> and find this line: <code>static ShoeCloset shoeCloset = new ShoeCloset();</code></p>&#13;
<p>Right-click on ShoeCloset and choose <strong>Go To Definition</strong> on Windows, or <strong>Go to Declaration</strong> on macOS.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/421fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>The IDE will jump straight to the definition of the ShoeCloset class. Now go back to <em>Program.cs</em> and go to the definition of PrintShoes in this line: <code>shoeCloset.PrintShoes();</code>. The IDE will jump straight to that method definition in the ShoeCloset class. You can use Go To Definition/Declaration to quickly jump around your code.</p>&#13;
<p><strong>Use Go To Definition/Declaration to explore generic collections</strong></p>&#13;
<p>Now comes the really interesting part. Open up <em>ShoeCloset.cs</em> and go to the definition of <strong>List</strong>. The IDE will open a separate tab with the definition of the List class. Don’t worry if this new tab has a lot of complex stuff on it! You don’t need to understand it all—just find this line of code, which shows you how List&lt;T&gt; implements a <em>bunch</em> of interfaces:</p>&#13;
<pre data-type="programlisting">public class List&lt;[NullableAttribute(2)] T&gt; : ICollection&lt;T&gt;, IEnumerable&lt;T&gt;, IEnumerable,&#13;
        IList&lt;T&gt;, IReadOnlyCollection&lt;T&gt;, IReadOnlyList&lt;T&gt;, ICollection, IList</pre>&#13;
<p>Notice how the first interface is ICollection&lt;T&gt;? That’s the interface used by every generic collection. You probably guessed what you’ll do next—go to the definition/declaration for ICollection&lt;T&gt;. Here’s what you’ll see in Visual Studio for Windows (the XML comments are collapsed and replaced with <span class="inlineimage"><img alt="Images" src="assets/but.png"/></span> buttons; they may be expanded on Mac:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/421fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>In the last chapter we talked about how interfaces are all about making classes do jobs. A generic collection is a specific job. Any class can do it, as long as it implements the ICollection&lt;T&gt; interface. The List&lt;T&gt; class does, and you’ll see a few more collection classes later in the chapter that do. They all work a little differently, but because they all do the job of being a generic collection, you can depend on them all doing the basic job of storing values or references.</p>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-idd0016">&#13;
<h5>Bullet Points</h5>&#13;
<ul>&#13;
<li><p><a data-primary="angle brackets" data-type="indexterm" id="idm46402341833048"/><a data-primary="foreach loops" data-secondary="lists" data-type="indexterm" id="idm46402341831672"/><a data-primary="type argument" data-type="indexterm" id="idm46402341828664"/><strong>List</strong> is a .NET class that lets you store, manage, and easily work with a set of values or object references. The values or references stored in a list are often referred to as its <strong>elements.</strong></p></li>&#13;
<li><p>A List <strong>resizes dynamically</strong> to whatever size is needed. As you add data to the List, it grows to accommodate it.</p></li>&#13;
<li><p>To put something into a List, use <strong>Add.</strong> To remove something from a List, use <strong>Remove.</strong></p></li>&#13;
<li><p>You can remove objects from a List using their index number with <strong>RemoveAt.</strong></p></li>&#13;
<li><p>You declare the type of the List using a <strong>type argument</strong>, which is a type name in angle brackets. For example: List&lt;Frog&gt; means the List will be able to hold only objects of type Frog.</p></li>&#13;
<li><p>You can use the <strong>Contains method</strong> to find out if a particular object is in a List. The <strong>IndexOf</strong> method returns the index of a specific element in the List.</p></li>&#13;
<li><p>The <strong>Count</strong> property returns the number of elements in the list.</p></li>&#13;
<li><p>Use an <strong>indexer</strong> (like <code>guys[3]</code>) to access the item in a collection at a specific index.</p></li>&#13;
<li><p>You can use <strong>foreach loops</strong> to iterate through lists, just like you do with arrays.</p></li>&#13;
<li><p>A List is a <strong>generic collection</strong>, which means it can store any type.</p></li>&#13;
<li><p>All generic collections implement the generic <strong>ICollection&lt;T&gt; interface</strong>.</p></li>&#13;
<li><p>The &lt;T&gt; in a generic class or interface definition is <strong>replaced with a type</strong> when you instantiate it.</p></li>&#13;
<li><p>Use the <strong>Go To Definition</strong> (Windows) or <strong>Go to Declaration</strong> (macOS) feature in Visual Studio to explore your code and other classes that you use.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-idd0009">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/watchit.png"/></span> Watch it!</h5>&#13;
<p><strong>Don’t modify a collection while you’re using foreach to iterate through it!</strong></p>&#13;
<p><em>If you do, it will throw an InvalidOperationException. You can see this for yourself. Create a new .NET Core console app, then add code to create a new List&lt;string&gt;, add a value to it, use foreach to iterate through it, and add another value to the collection <strong><em>inside</em></strong> the foreach loop. When you run your code, your foreach loop will throw an exception. And remember, you always specify a type when using generic classes—so List&lt;string&gt; refers to a list of strings.</em></p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/422fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="code_magnets">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/code.png"/></span> Code Magnets</h5>&#13;
<p>Can you rearrange the code snippets to make a working console app that will write the specified output to the console?</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/423fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="code_magnets_solution">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/code.png"/></span> Code Magnets Solution</h5>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Remember how we talked about using intuitive names back in <a href="ch03.html#objectshellipget_orientedexclamation_mar">#objectshellipget_orientedexclamation_mar</a>? Well, that may make for good code, but it makes these puzzles a bit too easy. Just don’t use cryptic names like PppPppL in real life!</strong></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">If you want to run this code, make sure you have a “using System.Collections.Generic” line at the top.</span></p>&#13;
</div>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/424fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-idd0025">&#13;
<h5>there are no Dumb Questions</h5>&#13;
<p><a data-primary="collections" data-secondary="compared with enums" data-type="indexterm" id="idm46402341790632"/><a data-primary="collections" data-secondary="generic" data-type="indexterm" id="idm46402341789208"/><a data-primary="enums" data-secondary="compared with collections" data-type="indexterm" id="idm46402341788056"/><a data-primary="generic collections" data-type="indexterm" id="idm46402341786904"/><a data-primary="generic data types" data-type="indexterm" id="idm46402341786056"/><a data-primary="types" data-secondary="generic" data-type="indexterm" id="idm46402341785256"/><strong>Q: So why would I ever use an enum instead of a collection? Don’t they kind of solve somewhat similar problems?</strong></p>&#13;
<p><strong>A:</strong> Enums do very different things from collections. First and foremost, enums are <strong>types</strong>, while collections are <strong>objects</strong>.</p>&#13;
<p>You can think of enums as a handy way to store <strong><em>lists of constants</em></strong> so you can refer to them by name. They’re great for keeping your code readable and making sure that you are always using the right variable names to access values that you use really frequently.</p>&#13;
<p>A collection can store just about anything because it stores <strong><em>object references</em></strong>, which can access the objects’ members as usual. Enums, on the other hand, have to be assigned one of the <strong>value types</strong> in C# (like the ones introduced in <a href="ch04.html#types_and_references_getting_the_referen">#types_and_references_getting_the_referen</a>). You can cast them to values, but not references.</p>&#13;
<p>Enums can’t dynamically change their size either. They can’t implement interfaces or have methods, and you’ll have to cast them to another type to store a value from an enum in another variable. Add all of that up and you’ve got some pretty big differences between the two ways of storing data. Both are really useful in their own right.</p>&#13;
<p><strong>Q: It sounds like the List class is pretty powerful. So why would I ever want to use an array?</strong></p>&#13;
<p><strong>A:</strong> If you need to store a collection of objects, you’ll generally use a list and not an array. One place where you’ll use arrays (which you’ll see later in the book) is where you’re reading sequences of bytes—for example, from a file. In that case, you’ll often call a method on a .NET class that returns a byte[]. Luckily, it’s easy to convert a list to an array (by calling its ToArray method), or an array to a List (using an overloaded list constructor).</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Arrays actually take up less memory and CPU time for your programs, but that only accounts for a tiny performance boost. If you have to do the same thing, say, millions of times a second, you might want to use an array and not a list. But if your program is running slowly, it’s pretty unlikely that switching from lists to arrays will fix the problem.</span></p>&#13;
</div>&#13;
<p><strong>Q: I don’t get the name “generic.” Why is it called a generic collection?</strong></p>&#13;
<p><strong>A:</strong> A generic collection is a collection object (or a built-in object that lets you store and manage a bunch of other objects) that’s been set up to store only one type (or more than one type, as you’ll see in a minute).</p>&#13;
<p><strong>Q: OK, that explains the “collection” part. But what makes it “generic”?</strong></p>&#13;
<p><strong>A:</strong> Supermarkets used to carry generic items that were packaged in white wrappers with black type that just said the name of what was inside (“Potato Chips,” “Cola,” “Soap,” etc.). The generic brand was all about what was inside the bag, and not about how it was displayed.</p>&#13;
<p>The same thing happens with generic data types. Your List&lt;T&gt; will work exactly the same with whatever happens to be inside it. A list of Shoe objects, Card objects, ints, longs, or even other lists will still act at the container level. So you can always add, remove, insert, etc., no matter what’s inside the list itself.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">The term “generic” refers to the fact that even though a specific instance of List can only store one specific type, the List class in general works with any type. That’s what the &lt;T&gt; is for—it says that the list contains a bunch of references of type T.</span></p>&#13;
</div>&#13;
<p><strong>Q: Can I have a list that doesn’t have a type?</strong></p>&#13;
<p><strong>A:</strong> No. Every list—in fact, every generic collection (and you’ll learn about the other generic collections in just a minute)—must have a type connected to it. C# does have nongeneric lists called ArrayLists that can store any kind of object. If you want to use an ArrayList, you need to include a <code>using System.Collections;</code> line in your code. You should rarely need to do this, because a List&lt;<em>Object</em>&gt; will usually work just fine in a scenario where you might want to use an untyped ArrayList.</p>&#13;
<blockquote>&#13;
<p><strong>When you create a new List object, you always supply a type—that tells C# what type of data it’ll store. A List can store a value type (like int, bool, or decimal) or a class.</strong></p>&#13;
</blockquote>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Collection initializers are similar to object initializers" data-type="sect1"><div class="sect1" id="collection_initializers_are_similar_to_o">&#13;
<h1>Collection initializers are similar to object initializers</h1>&#13;
<p><a data-primary="collection initializers" data-type="indexterm" id="idm46402341763624"/>C# gives you a nice bit of shorthand to cut down on typing when you need to create a list and immediately add a bunch of items to it. When you create a new List object, you can use a <strong>collection initializer</strong> to give it a starting list of items. It’ll add them as soon as the list is created.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/426fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<blockquote>&#13;
<p><strong>A collection initializer makes your code more compact by letting you combine creating a list with adding an initial set of items.</strong></p>&#13;
</blockquote>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Let’s create a List of Ducks" data-type="sect1"><div class="sect1" id="letapostrophes_create_a_list_of_ducks">&#13;
<h1>Let’s create a List of Ducks</h1>&#13;
<p><strong><em>Do this!</em></strong></p>&#13;
<p>Here’s a Duck class that keeps track of your many neighborhood ducks. (You <em>do</em> collect ducks, don’t you?) <strong>Create a new Console App project</strong> and add a new Duck class and KindOfDuck enum.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/427fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/427fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<section data-pdf-bookmark="Here’s the initializer for your List of Ducks" data-type="sect2"><div class="sect2" id="hereapostrophes_the_initializer_for_your">&#13;
<h2>Here’s the initializer for your List of Ducks</h2>&#13;
<p>You’ve got six ducks, so you’ll create a List&lt;Duck&gt; that has a collection initializer with six statements. Each statement in the initializer creates a new Duck, using an object initializer to set each Duck object’s Size and Kind fields. Make sure this <code><strong>using directive</strong></code> is at the top of <em>Program.cs</em>:</p>&#13;
<pre data-type="programlisting">using System.Collections.Generic;</pre>&#13;
<p>Then <strong>add this PrintDucks method</strong> to your Program class:</p>&#13;
<pre data-type="programlisting">public static void PrintDucks(List&lt;Duck&gt; ducks)&#13;
{&#13;
    foreach (Duck duck in ducks) {&#13;
        Console.WriteLine($"{duck.Size} inch {duck.Kind}");&#13;
    }&#13;
}</pre>&#13;
<p>Finally, <strong>add this code</strong> to your Main method in <em>Program.cs</em> to create a List of Ducks and then print them:</p>&#13;
<pre data-type="programlisting">List&lt;Duck&gt; ducks = new List&lt;Duck&gt;() {&#13;
    new Duck() { Kind = KindOfDuck.Mallard, Size = 17 },&#13;
    new Duck() { Kind = KindOfDuck.Muscovy, Size = 18 },&#13;
    new Duck() { Kind = KindOfDuck.Loon, Size = 14 },&#13;
    new Duck() { Kind = KindOfDuck.Muscovy, Size = 11 },&#13;
    new Duck() { Kind = KindOfDuck.Mallard, Size = 14 },&#13;
    new Duck() { Kind = KindOfDuck.Loon, Size = 13 },&#13;
};&#13;
&#13;
PrintDucks(ducks);</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Run your code—it will print a bunch of Ducks to the console.</strong></p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Lists are easy, but SORTING can be tricky" data-type="sect1"><div class="sect1" id="lists_are_easycomma_but_sorting_can_be_t">&#13;
<h1>Lists are easy, but <u>SORTING</u> can be tricky</h1>&#13;
<p><a data-primary="List class" data-secondary="Sort() method" data-type="indexterm" id="idm46402341738776"/><a data-primary="lists" data-secondary="sorting" data-type="indexterm" id="idm46402341737528"/>It’s not hard to think about ways to sort numbers or letters. But how do you sort two individual objects, especially if they have multiple fields? In some cases you might want to order objects by the value in the Name field, while in other cases it might make sense to order objects based on height or date of birth. There are lots of ways you can order things, and lists support all of them.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/428fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<section data-pdf-bookmark="Lists know how to sort themselves" data-type="sect2"><div class="sect2" id="lists_know_how_to_sort_themselves">&#13;
<h2>Lists know how to sort themselves</h2>&#13;
<p>Every List comes with a <strong>Sort method</strong> that rearranges all of the items in the list to put them in order. Lists already know how to sort most built-in types and classes, and it’s easy to teach them how to sort your own classes.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Technically, it’s not the List&lt;T&gt; that knows how to sort itself. This is the job of an IComparer&lt;T&gt; object, which you’ll learn about in a minute.</span></p>&#13;
</div>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/428fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="IComparable&lt;Duck&gt; helps your List sort its Ducks" data-type="sect1"><div class="sect1" id="icomparableless_thanduckgreater_than_hel">&#13;
<h1>IComparable&lt;Duck&gt; helps your List sort its Ducks</h1>&#13;
<p><a data-primary="CompareTo() method" data-seealso="IComparable interface" data-type="indexterm" id="idm46402341726536"/><a data-primary="IComparable interface" data-type="indexterm" id="idm46402341725000"/>If you have a List of numbers and call its Sort method, it will sort the list with the smallest numbers first and largest last. How does the List know which way to sort the Duck objects? We tell List.Sort that the Duck class can be sorted—and we do that the way we typically indicate that a class can do a certain job, <em>with an interface</em>.</p>&#13;
<blockquote>&#13;
<p><strong>You can make any class work with List’s built-in Sort method by having it implement IComparable&lt;T&gt; and adding a CompareTo method.</strong></p>&#13;
</blockquote>&#13;
<p>The List.Sort method knows how to sort any type or class that <strong>implements the IComparable&lt;T&gt; interface</strong>. That interface has just one member—a method called CompareTo. Sort uses an object’s CompareTo method to compare it with other objects, and uses its return value (an int) to determine which comes first.</p>&#13;
<section data-pdf-bookmark="An object’s CompareTo method compares it to another object" data-type="sect2"><div class="sect2" id="an_objectapostrophes_compareto_method_co">&#13;
<h2>An object’s CompareTo method compares it to another object</h2>&#13;
<p>One way to give our List object the ability to sort ducks is to <strong>modify the Duck class to implement IComparable&lt;Duck&gt;</strong> and add its only member, a CompareTo method that takes a Duck reference as a parameter.</p>&#13;
<p>Update your project’s Duck class by implementing IComparable&lt;Duck&gt; so that it sorts itself based on duck size:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/429fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Add this line of code</strong> to the end of your Main method <u>just before</u> the call to PrintDucks. This tells your list of ducks to sort itself. Now it sorts the ducks by size before printing them to the console:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/429fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Use IComparer to tell your List how to sort" data-type="sect1"><div class="sect1" id="use_icomparer_to_tell_your_list_how_to_s">&#13;
<h1>Use IComparer to tell your List how to sort</h1>&#13;
<p><a data-primary="IComparer interface" data-secondary="sorting lists using" data-type="indexterm" id="idm46402341711224"/>Your Duck class implements IComparable, so List.Sort knows how to sort a List of Duck objects. But what if you want to sort them in a different way than usual? Or what if you want to sort a type of object that doesn’t implement IComparable? Then you can pass a <strong>comparer object</strong> as an argument to List.Sort, to give it a different way to sort its objects. Notice how List.Sort is overloaded:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/430fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>There’s an overloaded version of List.Sort that <strong>takes an IComparer&lt;T&gt; reference</strong>, where T will be replaced by the generic type for your list (so for a List&lt;Duck&gt; it takes an IComparer&lt;Duck&gt; argument, for a List&lt;string&gt; it’s an IComparer&lt;string&gt;, etc.). You’ll pass it a reference to an object that implements an interface, and we know what that means: that it <em>does a specific job</em>. In this case, that job is comparing pairs of items in the list to tell List.Sort what order to sort them in.</p>&#13;
<p>The IComparer&lt;T&gt; interface has one member, a <strong>method called Compare</strong>. It’s just like the CompareTo method in IComparable&lt;T&gt;: it takes two object parameters, <code>x</code> and <code>y</code>, and returns an a positive value if <code>x</code> comes before <code>y</code>, a negative value if <code>x</code> comes after <code>y</code>, or zero if they’re the same.</p>&#13;
<section data-pdf-bookmark="Add an IComparer to your project" data-type="sect2"><div class="sect2" id="add_an_icomparer_to_your_project">&#13;
<h2>Add an IComparer to your project</h2>&#13;
<p><strong>Add the DuckComparerBySize class to your project</strong>. It’s a comparer object that you can pass as a parameter to List.Sort to make it sort your ducks by size.</p>&#13;
<p>The IComparer interface is in the System.Collections.Generic namespace, so if you’re adding this class to a new file make sure it has the right <code>using</code> directive:</p>&#13;
<pre data-type="programlisting">using System.Collections.Generic;</pre>&#13;
<p>Here’s the code for the comparer class:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/430fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Can you figure out how to modify DuckComparerBySize so it sorts the ducks largest to smallest instead?</strong></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>A comparer object is an instance of a class that implements IComparer&lt;T&gt; that you can pass as a reference to List.Sort. Its Compare method works just like the ComapreTo method in the IComparable&lt;T&gt; interface. When List.Sort compares its elements to sort them, it passes pairs of objects to the Compare method in your comparer object, so your List will sort differently depending on how you implement the comparer.</strong></p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Create an instance of your comparer object" data-type="sect1"><div class="sect1" id="create_an_instance_of_your_comparer_obje">&#13;
<h1>Create an instance of your comparer object</h1>&#13;
<p><a data-primary="IComparer interface" data-secondary="creating instance" data-type="indexterm" id="idm46402341690712"/><a data-primary="IComparer interface" data-secondary="multiple classes" data-type="indexterm" id="idm46402341689224"/>When you want to sort using IComparer&lt;T&gt;, you need to create a new instance of the class that implements it—in this case, Duck. That’s the comparer object that will help List.Sort figure out how to sort its elements. Like any other (nonstatic) class, you need to instantiate it before you use it:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/431fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<section data-pdf-bookmark="Multiple IComparer implementations, multiple ways to sort your objects" data-type="sect2"><div class="sect2" id="multiple_icomparer_implementationscomma">&#13;
<h2>Multiple IComparer implementations, multiple ways to sort your objects</h2>&#13;
<p>You can create multiple IComparer&lt;Duck&gt; classes with different sorting logic to sort the ducks in different ways. Then you can use the comparer you want when you need to sort in that particular way. Here’s another duck comparer implementation to add to your project:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/431fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Go back and modify your program to use this new comparer. Now it sorts the ducks by kind before it prints them.</p>&#13;
<pre data-type="programlisting"><strong>IComparer&lt;Duck&gt; kindComparer = new DuckComparerByKind();</strong>&#13;
<strong>ducks.Sort(kindComparer);</strong>&#13;
<span style="color:#9D9EA0;">PrintDucks(ducks);</span></pre>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Comparers can do complex comparisons" data-type="sect1"><div class="sect1" id="comparers_can_do_complex_comparisons">&#13;
<h1>Comparers can do complex comparisons</h1>&#13;
<p><a data-primary="IComparer interface" data-secondary="complex comparisons" data-type="indexterm" id="idm46402341676904"/><a data-primary="IComparer interface" data-secondary="SortBy field" data-type="indexterm" id="idm46402341675656"/>One advantage to creating a separate class for sorting your ducks is that you can build more complex logic into that class—and you can add members that help determine how the list gets sorted.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/432fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0027">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> Exercise</h5>&#13;
<p><a data-primary="exercises" data-secondary="comparing" data-type="indexterm" id="idm46402341669240"/>Build a console app that creates a list of cards in random order, prints them to the console, uses a comparer object to sort the cards, and then prints the sorted list.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/433fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<ol>&#13;
<li><p><strong>Write a method to make a jumbled set of cards.</strong></p>&#13;
<p>Create a new console app. Add the <code>Suits</code> enum, <code>Values</code> enum, and Card class from earlier in the chapter. Then add two static methods to <em>Program.c</em>s: a RandomCard method that returns a reference to a card with a random suit and value, and a PrintCards method that prints a List&lt;Card&gt;.</p></li>&#13;
<li><p><strong>Create a class that implements IComparer&lt;Card&gt; to sort the cards.</strong></p>&#13;
<p>Here’s a good opportunity to use the IDE’s <strong>Quick Actions menu</strong> to implement an interface. Add a class called CardComparerByValue, then make it implement the IComparer&lt;Card&gt; interface:</p>&#13;
<pre data-type="programlisting">   class CardComparerByValue : IComparer&lt;Card&gt;</pre>&#13;
<p>Click on <code>IComparer&lt;Card&gt;</code> and hover over the <code>I</code>. You’ll see a light bulb icon (<span class="inlineimage"><img alt="Images" src="assets/433fig02.png"/></span> or <span class="inlineimage"><img alt="Images" src="assets/433fig03.png"/></span>) appear. When you click on the icon, the IDE pops up its Quick Actions menu:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/433fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Choose “Implement interface”</strong> —that tells the IDE to automatically fill in all of the methods and properties in the interface that you need to implement. In this case, it creates an empty Compare method to compare two cards, <code>x</code> and <code>y</code>. Make it return 1 if <code>x</code> is bigger than <code>y</code>, –1 if it’s smaller, and 0 if they’re the same. First, order by suit: Diamonds come first, then Clubs, then Hearts, then Spades. Make sure that any King comes after any Jack, which comes after any 4, which comes after any Ace. You can compare enum values without casting: <code>if (x.Suit &lt; y.Suit)</code></p></li>&#13;
<li><p><strong>Make sure the output looks right.</strong></p>&#13;
<p>Write the Main method so the output looks like this.</p>&#13;
<ul>&#13;
<li><p>It prompts for a number of cards.</p></li>&#13;
<li><p>If the user enters a valid number and presses Enter, it generates a list of random cards and then prints them.</p></li>&#13;
<li><p>It sorts the list of cards using the comparer.</p></li>&#13;
<li><p>It prints the sorted list of cards.</p></li>&#13;
</ul>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/433fig05.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</li>&#13;
</ol>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0018">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/Common-1.png"/></span> Exercise Solution</h5>&#13;
<p>Build a console app that creates a list of cards in random order, prints them to the console, uses a comparer object to sort the cards, and then prints the sorted list. Don’t forget to add using <code>System.Collections.Generic</code>; to the top of the file with your entry point.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/434fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Overriding a ToString method lets an object describe itself" data-type="sect1"><div class="sect1" id="overriding_a_tostring_method_lets_an_obj">&#13;
<h1>Overriding a ToString method lets an object describe itself</h1>&#13;
<p><a data-primary="{ } (curly brackets)" data-type="indexterm" id="idm46402341637864"/><a data-primary="ToString( ) method" data-type="indexterm" id="idm46402341636584"/>Every object has a <strong>method called ToString that converts it to a string</strong>. You’ve already used it—any time you use <code>{curly braces}</code> in string interpolation that calls the ToString method of whatever’s inside them—and the IDE also takes advantage of it. When you create a class, it inherits the ToString method from Object, the top-level base class that all other classes extend.</p>&#13;
<p>The Object.ToString method prints the <strong>fully qualified class name</strong>, or the namespace followed by a period followed by the class name. Since we used the namespace DucksProject when we were writing this chapter, the fully qualified class name for our Duck class is DucksProject.Duck:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/435fig001.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>The IDE also calls the ToString method—for example, when you watch or inspect a variable:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/435fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Hmm, that’s not as useful as we’d hoped. You can see that there are six Duck objects in the list. If you expand a Duck, you can see its Kind and Size values. Wouldn’t it be easier if you could see all of them at once?</p>&#13;
<section data-pdf-bookmark="Override the ToString method to see your Ducks in the IDE" data-type="sect2"><div class="sect2" id="override_the_tostring_method_to_see_your">&#13;
<h2>Override the ToString method to see your Ducks in the IDE</h2>&#13;
<p>Luckily, ToString is a virtual method of Object, the base class of every object. So all you need to do is <strong>override the ToString</strong> <strong>method</strong>—and when you do, you’ll see the results immediately in the IDE’s Watch window! Open up your Duck class and start adding a new method by typing <code><strong>override</strong></code>. As soon as you add a space, the IDE will show you the methods you can override:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/435fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Click on ToString()</strong> to tell the IDE to add a new ToString method. Replace the contents so it looks like this:</p>&#13;
<pre data-type="programlisting">public override string ToString()&#13;
{&#13;
    return $"A {Size} inch {Kind}";&#13;
}</pre>&#13;
<p>Run your program and look at the list again. Now the IDE shows you the contents of your Duck objects.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/435fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Update your foreach loops to let your Ducks and Cards write themselves to the console" data-type="sect1"><div class="sect1" id="update_your_foreach_loops_to_let_your_du">&#13;
<h1>Update your foreach loops to let your Ducks and Cards write themselves to the console</h1>&#13;
<p><a data-primary="foreach loops" data-secondary="updating" data-type="indexterm" id="idm46402341617288"/><a data-primary="ToString( ) method" data-type="indexterm" id="idm46402341615720"/>You’ve seen two different examples of programs looping through a list of objects and calling Console.WriteLine to print a line to the console for each object—like this foreach loop that prints every Card in a List&lt;Card&gt;:</p>&#13;
<pre data-type="programlisting">    foreach (Card card in cards)&#13;
    {&#13;
        Console.WriteLine(card.Name);&#13;
    }</pre>&#13;
<p>The PrintDucks method did something similar for Duck objects in a List:</p>&#13;
<pre data-type="programlisting">    foreach (Duck duck in ducks) {&#13;
        Console.WriteLine($"{duck.Size} inch {duck.Kind}");&#13;
    }</pre>&#13;
<p>This is a pretty common thing to do with objects. Now that your Duck has a ToString method, your PrintDucks method should take advantage of it. Use the IDE’s IntelliSense to look through the overloads for the Console.WriteLine method—specifically this one:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/436fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>You can pass any object to Console.WriteLine, and it will call its ToString method. So you can replace the PrintDucks method with one that calls this overload:</p>&#13;
<pre data-type="programlisting"> <span style="color:#9D9EA0;">    public static void PrintDucks(List&lt;Duck&gt; ducks) {</span>&#13;
 <span style="color:#9D9EA0;">        foreach (Duck duck in ducks) {</span>&#13;
             <strong>Console.WriteLine(duck);</strong>&#13;
 <span style="color:#9D9EA0;">        }</span>&#13;
 <span style="color:#9D9EA0;">    }</span></pre>&#13;
<p><strong>Replace the PrintDucks method</strong> with this one and run your code again. It prints the same output. If you want to add, say, a Color or Weight property to your Duck object, you just have to update the ToString method, and everything that uses it (including the PrintDucks method) will reflect that change.</p>&#13;
<section data-pdf-bookmark="Add a ToString method to your Card object, too" data-type="sect2"><div class="sect2" id="add_a_tostring_method_to_your_card_objec">&#13;
<h2>Add a ToString method to your Card object, too</h2>&#13;
<p>Your Card object already has a Name property that returns the name of the card:</p>&#13;
<pre data-type="programlisting">    public string Name { get { return $"{Value} of {Suit}"; } }</pre>&#13;
<p>That’s exactly what its ToString method should do. So, add a ToString method to the Card class:</p>&#13;
<pre data-type="programlisting">    public override string ToString() &#13;
    {&#13;
        return Name;&#13;
    }</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>We decided to make the ToString method call the Name property. Do you think we made the right choice? Would it have been better to delete the Name property and move its code to the ToString method? When you’re going back to modify your code, you have to make choices like this—and it’s not always obvious which choice is best.</strong></p>&#13;
</div>&#13;
<p>Now your programs that use Card objects will be easier to debug.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-idd0033">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pencil.png"/></span> Sharpen your pencil</h5>&#13;
<p><a data-primary="enums" data-secondary="exercises on" data-type="indexterm" id="idm46402341596408"/><a data-primary="exercises" data-secondary="Sharpen your pencil" data-tertiary="enums" data-type="indexterm" id="idm46402341595112"/><a data-primary="Sharpen Your Pencil exercises" data-secondary="enums" data-type="indexterm" id="idm46402341593688"/>Read through this code and write the output below the code.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/437fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-idd017">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/Common.png"/></span> Sharpen your pencil Solution</h5>&#13;
<p><a data-primary="angle brackets" data-type="indexterm" id="idm46402341586408"/>Here’s the output of the app. Did you get it right? It’s OK if you didn’t! Go back and take another look at the enum.</p>&#13;
<ul>&#13;
<li><p>Did you notice that the enumerators had different values?</p></li>&#13;
<li><p>The Name property is a string, and strings also implement IComparable, so we can just call their CompareTo method to compare them.</p></li>&#13;
<li><p>Also, take a closer look at the CompareTo method—did you notice that it returned –1 if the other breed was greater and 1 if the other breed was less, or the minus sign before -Name.CompareTo(other.Name)? So first it’s sorting by Breed and then by Name, but it’s sorting both Breed and Name in reverse order.</p></li>&#13;
</ul>&#13;
<p>Here’s the output:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/438fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-idd0017">&#13;
<h5>Bullet Points</h5>&#13;
<ul>&#13;
<li><p><strong>Collection initializers</strong> let you specify the contents of a List&lt;T&gt; or other collection when you create it, using angle brackets with a comma-separated list of objects.</p></li>&#13;
<li><p>A collection initializer makes your code more <strong>compact</strong> by letting you combine list creation with adding an initial set of items (but your code won’t run more quickly).</p></li>&#13;
<li><p>The <strong>List.Sort method</strong> sorts the contents of the collection, changing the order of the items it contains.</p></li>&#13;
<li><p>The <strong>IComparable&lt;T&gt; interface</strong> contains a single method, CompareTo, which List.Sort uses to determine the order of objects to sort.</p></li>&#13;
<li><p>An <strong>overloaded method</strong> is a method that you can call in more than one way, with different arrangements of parameters. The IDE’s IntelliSense pop-up lets you scroll through the different overloads for a method.</p></li>&#13;
<li><p>The Sort method has an overload that takes an <strong>IComparer&lt;T&gt; object</strong>, which it will then use for sorting.</p></li>&#13;
<li><p>IComparable.CompareTo and IComparer.Compare both <strong>compare pairs of objects</strong>, returning –1 if the first object is less than the second, 1 if the first is greater than the second, or 0 if they’re equal.</p></li>&#13;
<li><p>The <strong>String class implements IComparable</strong>. An IComparer or IComparable for a class that includes a string member can call its Compare or CompareTo method to help determine the sort order.</p></li>&#13;
<li><p>Every object has a <strong>ToString method</strong> that converts it to a string. The ToString method is called any time you use string interpolation or concatenation.</p></li>&#13;
<li><p>The default ToString method is inherited from Object. It returns <strong>the fully qualified class name</strong>, or the namespace followed by a period followed by the class name.</p></li>&#13;
<li><p><strong>Override the ToString</strong> method to get interpolation, concatenation, and many other operations to use a custom string.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="foreach_loops_up_close">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/zoom.png"/></span> Foreach Loops Up Close</h5>&#13;
<p><a data-primary="foreach loops" data-secondary="using IEnumerable&lt;T&gt;" data-type="indexterm" id="idm46402341563000"/><a data-primary="IEnumerable interface" data-secondary="foreach loops using" data-type="indexterm" id="idm46402341561816"/> <strong>Let’s take a closer look at foreach loops.</strong> Go to the IDE, find a List&lt;Duck&gt; variable, and use IntelliSense to take a look at its GetEnumerator method. Start typing “.GetEnumerator” and see what comes up:</p>&#13;
<pre data-type="programlisting">ducks.GetEnumerator();</pre>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/439fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Create an Array[Duck] and do the same thing—the array also has a GetEnumerator method. That’s because lists, arrays, and other collections implement an interface called <strong>IEnumerable&lt;T&gt;</strong>.</p>&#13;
<blockquote>&#13;
<p><strong>When a collection implements IEnumerable&lt;T&gt;, it’s giving you a way to write a loop that goes through its contents in order.</strong></p>&#13;
</blockquote>&#13;
<p>You already know that interfaces are all about making different objects do the same job. When an object implements the IEnumerable&lt;T&gt; interface, the specific job it does is that <strong><em>it supports iteration over a nongeneric collection</em></strong>—or in other words, it lets you write code that loops through it. Specifically, that means you can use it with a foreach loop.</p>&#13;
<p>So what does that look like under the hood? Use Go To Definition/Declaration on <code>List&lt;Duck&gt;</code> to see the interfaces that it implements, just like you did earlier. Then do it again to see the members of IEnumerable&lt;T&gt;. What do you see?</p>&#13;
<p>The IEnumerable&lt;T&gt; interface contains a single member: a method called GetEnumerator, which returns an <strong>Enumerator object</strong>. The Enumerator object provides the machinery that lets you loop through a list in order. So when you write this foreach loop:</p>&#13;
<pre data-type="programlisting">    foreach (Duck duck in ducks) {&#13;
        <strong>Console.WriteLine(duck);</strong>&#13;
    }</pre>&#13;
<p>Here’s what that loop is actually doing behind the scenes:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/439fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Both loops write the same Ducks to the console. See this for yourself by running both of them—they’ll both have the same output. (And don’t worry about the last line for now; you’ll learn about IDisposable in <a href="ch10.html#reading_and_writing_files_save_the_last">#reading_and_writing_files_save_the_last</a>.)</p>&#13;
<p>When you’re looping through a list or array (or any other collection), the MoveNext method returns true if there’s another element in the collection, or false if the enumerator has reached the end. The Current property always returns a reference to the current element. Add it all together, and you get a foreach loop.</p>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="You can upcast an entire list using IEnumerable&lt;T&gt;" data-type="sect1"><div class="sect1" id="you_can_upcast_an_entire_list_using_ienu">&#13;
<h1>You can upcast an entire list using IEnumerable&lt;T&gt;</h1>&#13;
<p><a data-primary="IEnumerable interface" data-secondary="upcasting entire list with" data-type="indexterm" id="idm46402341542552"/><a data-primary="upcasting" data-secondary="entire list using IEnumerable&lt;T&gt;" data-type="indexterm" id="idm46402341548248"/>Remember how you can upcast any object to its superclass? Well, when you’ve got a List of objects, you can upcast the entire list at once. It’s called <strong>covariance</strong>, and all you need for it is an IEnumerable&lt;T&gt; interface reference.</p>&#13;
<p>Let’s see how this works. We’ll start with the Duck class that you’ve been working with throughout the chapter. Then we’ll add a Bird class that it will extend. The Bird class will include a static method that iterates over a collection of Bird objects. Can we get it to work with a List of Ducks?</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/440fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<blockquote>&#13;
<p><strong>Since all Ducks are Birds, covariance lets us convert a collection of Ducks to a collection of Birds. That can be really useful if you have to pass a List&lt;Duck&gt; to a method that only accepts a List&lt;Bird&gt;.</strong></p>&#13;
</blockquote>&#13;
<p><strong><em>Do this!</em></strong></p>&#13;
<ol>&#13;
<li><p><strong>Create a new Console App project.</strong> Add a base class, Bird (for Duck to extend), and a Penguin class. We’ll use the ToString method to make it easy to see which class is which.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/440fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</li>&#13;
<li><p><strong>Add your Duck class to the application.</strong> Modify its declaration to <strong>make it extend Bird</strong>. You’ll also need to <strong>add the KindOfDuck enum</strong> from earlier in the chapter:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/441fig001.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
<li><p><strong>Create the List&lt;Duck&gt; collection.</strong> Go ahead and <strong>add this code to your Main method</strong>—it’s the code from earlier in the chapter, plus one line to upcast it to a List&lt;Bird&gt;:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/441fig002.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Uh-oh—that code won’t compile. The error message is telling you that you can’t convert your Duck collection to a Bird collection. Let’s try assigning <code>ducks</code> to a List&lt;Bird&gt;:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/441fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Well, that didn’t work. We got a different error, but it still says we can’t convert the type:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/441fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Which makes sense—it’s exactly like safely upcasting versus downcasting, which you learned about in <a href="ch06.html#inheritance_your_objectapostrophes_famil">#inheritance_your_objectapostrophes_famil</a>: we can use assignment to downcast, but we need to use the <code>is</code> keyword to safely upcast. So how do we safely upcast our List&lt;Duck&gt; to a List&lt;Bird&gt;?</p>&#13;
</li>&#13;
<li><p><strong>Use covariance to make your ducks fly away.</strong> That’s where <strong>covariance</strong> comes in: you can <strong><em>use assignment to upcast your List&lt;Duck&gt; to an IEnumerable&lt;Bird&gt;</em></strong>. Once you’ve got your IEnumerable&lt;Bird&gt;, you can call its ToList method to convert it to a List&lt;Bird&gt;. You’ll need to add using using <code>System.Collections.Generic</code>; and using <code>System.Linq</code>; to the top of the file:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/441fig003.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
</ol>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Use a Dictionary to store keys and values" data-type="sect1"><div class="sect1" id="use_a_dictionary_to_store_keys_and_value">&#13;
<h1>Use a Dictionary to store keys and values</h1>&#13;
<p><a data-primary="collections" data-secondary="dictionaries" data-type="indexterm" id="idm46402341512376"/><a data-primary="dictionaries" data-secondary="about" data-type="indexterm" id="idm46402341510872"/><a data-primary="dictionaries" data-secondary="keys" data-type="indexterm" id="idm46402341509784"/>A list is like a big long page full of names. What if you also want, for each name, an address? Or for every car in the <code>garage</code> list, you want details about that car? You need another kind of .NET collection: a <strong>dictionary</strong>. A dictionary lets you take a special value—the <strong>key</strong>—and associate that key with a bunch of data—the <strong>value</strong>. One more thing: a specific key can <strong>only appear once</strong> in any dictionary.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/442fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Here’s how you declare a .NET Dictionary in C#:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/442fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Let’s see a dictionary in action. Here’s a small console app that uses a Dictionary&lt;string, string&gt; to keep track of the favorite foods of a few friends:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/442fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="The Dictionary functionality rundown" data-type="sect1"><div class="sect1" id="the_dictionary_functionality_rundown">&#13;
<h1>The Dictionary functionality rundown</h1>&#13;
<p><a data-primary="dictionaries" data-secondary="functionality of" data-type="indexterm" id="idm46402341498264"/>Dictionaries are a lot like lists. Both types are flexible in letting you work with lots of data types, and also come with lots of built-in functionality. Here are the basic things you can do with a dictionary.</p>&#13;
<ul>&#13;
<li><p><strong>Add an item.</strong></p>&#13;
<p>You can add an item to a dictionary using its <strong>indexer</strong> with square brackets:</p>&#13;
<pre data-type="programlisting">Dictionary&lt;string, string&gt; myDictionary = new Dictionary&lt;string, string&gt;();&#13;
myDictionary["some key"] = "some value";</pre>&#13;
<p>You can also add an item to a dictionary using its <strong>Add method:</strong></p>&#13;
<pre data-type="programlisting">Dictionary&lt;string, string&gt; myDictionary = new Dictionary&lt;string, string&gt;();&#13;
myDictionary.Add("some key", "some value");</pre></li>&#13;
<li><p><strong>Look up a value using its key.</strong></p>&#13;
<p>The most important thing you’ll do with a dictionary is <strong>look up values with the indexer</strong>—which makes sense, because you stored those values in a dictionary so you could look them up using their unique keys. This example shows a Dictionary&lt;string, string&gt;, so we’ll look up values using a string key, and the dictionary returns a string value:</p>&#13;
<pre data-type="programlisting">string lookupValue = myDictionary["some key"];</pre></li>&#13;
<li><p><strong>Remove an item.</strong></p>&#13;
<p>Just like with a list, you can remove an item from a dictionary using the <strong>Remove method</strong>. All you need to pass to the Remove method is the key value to have both the key and the value removed:</p>&#13;
<pre data-type="programlisting">myDictionary.Remove("some key");</pre></li>&#13;
<li><p><strong>Get a list of keys.</strong></p>&#13;
<p>You can get a list of all of the keys in a dictionary using its <strong>Keys property</strong> and loop through it using a <code>foreach</code> loop. Here’s what that would look like:</p>&#13;
<pre data-type="programlisting">foreach (string key in myDictionary.Keys) { ... };</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Keys is a property of your Dictionary object. This particular dictionary has string keys, so Keys is a collection of strings.</p>&#13;
</div>&#13;
</li>&#13;
<li><p><strong>Count the pairs in the dictionary.</strong></p>&#13;
<p>The <strong>Count property</strong> returns the number of key/value pairs that are in the dictionary:</p>&#13;
<pre data-type="programlisting">int howMany = myDictionary.Count;</pre>&#13;
</li>&#13;
</ul>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>Keys are unique in a dictionary; any key appears exactly once. Values can appear any number of times—two keys can have the same value. That way, when you look up or remove a key, the dictionary knows what to remove.</p>&#13;
</div>&#13;
<section data-pdf-bookmark="Your key and value can be different types" data-type="sect2"><div class="sect2" id="your_key_and_value_can_be_different_type">&#13;
<h2>Your key and value can be different types</h2>&#13;
<p>Dictionaries are versatile! They can hold just about anything, not just value types but <strong><em>any kind of object</em></strong>. Here’s an example of a dictionary that’s storing an integer as a key and a Duck object reference as a value:</p>&#13;
<pre data-type="programlisting">Dictionary&lt;int, Duck&gt; duckIds = new Dictionary&lt;int, Duck&gt;();&#13;
duckIds.Add(376, new Duck() { Kind = KindOfDuck.Mallard, Size = 15 });</pre>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>It’s common to see a dictionary that maps integers to objects when you’re assigning unique ID numbers to objects.</p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Build a program that uses a dictionary" data-type="sect1"><div class="sect1" id="build_a_program_that_uses_a_dictionary">&#13;
<h1>Build a program that uses a dictionary</h1>&#13;
<p>Here’s a quick app that New York Yankees baseball fans will like. When an important player retires, the team retires the player’s jersey number. <strong>Create a new console app</strong> that looks up some Yankees who wore famous numbers and when those numbers were retired. Here’s a class to keep track of a retired baseball player:</p>&#13;
<p><a data-primary="dictionaries" data-secondary="building programs that use" data-type="indexterm" id="idm46402341468536"/><strong><em>Do this!</em></strong></p>&#13;
<pre data-type="programlisting">class RetiredPlayer&#13;
{&#13;
    public string Name { get; private set; }&#13;
    public int YearRetired { get; private set; }&#13;
&#13;
    public RetiredPlayer(string player, int yearRetired)&#13;
    {&#13;
        Name = player;&#13;
        YearRetired = yearRetired;&#13;
    }&#13;
}</pre>&#13;
<p>And here’s the Program class with a Main method that adds retired players to a dictionary. We can use the jersey number as the dictionary key because it’s <strong>unique</strong>—once a jersey number is retired, the team <strong><em>never uses it again</em></strong>. That’s an important thing to consider when designing an app that uses a dictionary: you never want to discover your key is not as unique as you thought!</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Yogi Berra was #8 for the New York Yankees, while Cal Ripken Jr. was #8 for the Baltimore Orioles.But in a Dictionary, you can have duplicate values, but <span style="color:#9D9EA0;"><u>every key must be unique</u></span>. Can you think of a way to store retired numbers for multiple teams?</strong></p>&#13;
</div>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/444fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="And yet MORE collection types..." data-type="sect1"><div class="sect1" id="and_yet_more_collection_typeshellip">&#13;
<h1>And yet <u>MORE</u> collection types...</h1>&#13;
<p><a data-primary="generic collections" data-type="indexterm" id="idm46402341459896"/><a data-primary="queues" data-secondary="about" data-type="indexterm" id="idm46402341458968"/><a data-primary="stacks" data-secondary="about" data-type="indexterm" id="idm46402341457816"/>List and Dictionary are two of the most frequently used collection types that are part of the .NET. Lists and dictionaries are very flexible—you can access any of the data in them in any order. But sometimes you’re using a collection to represent a bunch of things in the real world that need to be accessed in a specific order. You can restrict how your code accesses the data in a collection by using <strong>a Queue or a Stack</strong>. Those are generic collections like List&lt;T&gt;, but they’re especially good at making sure that your data is processed in a certain order.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">There are other types of collections, too—but these are the ones that you’re most likely to come in contact with.</span></p>&#13;
</div>&#13;
<p><strong>Use a <span style="color:#9D9EA0;">Queue</span> when the first object you store will be the first one you’ll use, like with:</strong></p>&#13;
<ul>&#13;
<li><p>Cars moving down a one-way street</p></li>&#13;
<li><p>People standing in line</p></li>&#13;
<li><p>Customers on hold for a customer service support line</p></li>&#13;
<li><p>Anything else that’s handled on a first-come, first-served basis</p></li>&#13;
</ul>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">A queue is first in, first out, which means that the first object that you put into the queue is the first one you pull out of it to use.</span></p>&#13;
</div>&#13;
<p><strong>Use a <span style="color:#9D9EA0;">Stack</span> when you always want to use the object you stored most recently, like with:</strong></p>&#13;
<ul>&#13;
<li><p>Furniture loaded into the back of a moving truck</p></li>&#13;
<li><p>A stack of books where you want to read the most recently added one first</p></li>&#13;
<li><p>People boarding or leaving a plane</p></li>&#13;
<li><p>A pyramid of cheerleaders, where the ones on top have to dismount first...imagine the mess if the one on the bottom walked away first!</p></li>&#13;
</ul>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">A stack is last in, first out: the first object that goes into the stack is the last one that comes out of it.</span></p>&#13;
</div>&#13;
<section data-pdf-bookmark="Generic .NET collections implement IEnumerable" data-type="sect2"><div class="sect2" id="generic_dotnet_collections_implement_ien">&#13;
<h2>Generic .NET collections implement IEnumerable</h2>&#13;
<p>Almost every large project that you’ll work on will include some sort of generic collection, because your programs need to store data. When you’re dealing with groups of similar things in the real world, they almost always naturally fall into a category that corresponds pretty well to one of these kinds of collections. No matter which of these collection types you use—List, Dictionary, Stack, or Queue—you’ll always be able to use a foreach loop with them because all of them implement IEnumerable&lt;T&gt;.</p>&#13;
<blockquote>&#13;
<p><strong>A <span style="color:#9D9EA0;">queue</span> is like a list that lets you add objects to the end and use the ones at the beginning. A <span style="color:#9D9EA0;">stack</span> only lets you access the last object you put into it.</strong></p>&#13;
</blockquote>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">You can, however, use foreach to enumerate through a stack or queue, because they implement <strong>IEnumerable!</strong></span></p>&#13;
</div>&#13;
</div></section>&#13;
</div></section>&#13;
<section data-pdf-bookmark="A queue is FIFO—first in, first out" data-type="sect1"><div class="sect1" id="a_queue_is_fifoem_dashfirst_incomma_firs">&#13;
<h1>A queue is <u>FIFO</u>—first in, first out</h1>&#13;
<p><a data-primary="FIFO (First In, First Out), queues" data-type="indexterm" id="idm46402341433384"/><a data-primary="queues" data-secondary="enqueuing and dequeuing" data-type="indexterm" id="idm46402341432584"/><a data-primary="queues" data-secondary="FIFO (First In, First Out)" data-type="indexterm" id="idm46402341431432"/>A <strong>queue</strong> is a lot like a list, except that you can’t just add or remove items at any index. To add an object to a queue, you <strong>enqueue</strong> it. That adds the object to the end of the queue. You can <strong>dequeue</strong> the first object from the front of the queue. When you do that, the object is removed from the queue, and the rest of the objects in the queue move up a position.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/446fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/446fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="A stack is LIFO—last in, first out" data-type="sect1"><div class="sect1" id="a_stack_is_lifoem_dashlast_incomma_first">&#13;
<h1>A stack is <u>LIFO</u>—last in, first out</h1>&#13;
<p><a data-primary="LIFO (Last In, First Out), stacks" data-type="indexterm" id="idm46402341422184"/><a data-primary="stacks" data-secondary="LIFO (Last In, First Out)" data-type="indexterm" id="idm46402341420936"/><a data-primary="stacks" data-secondary="popping items off" data-type="indexterm" id="idm46402341419928"/>A <strong>stack</strong> is really similar to a queue—with one big difference. You <strong>push</strong> each item onto a stack, and when you want to take an item from the stack, you <strong>pop</strong> one off of it. When you pop an item off of a stack, you end up with the most recent item that you pushed onto it. It’s just like a stack of plates, magazines, or anything else—you can drop something onto the top of the stack, but you need to take it off before you can get to whatever’s underneath it.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/447fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/447fig02z.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/447fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/448fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><a data-primary="foreach loops" data-secondary="accessing all members in stack of queue" data-type="indexterm" id="idm46402341409288"/><a data-primary="queues" data-secondary="converting to lists" data-type="indexterm" id="idm46402341407880"/><a data-primary="queues" data-secondary="foreach loop" data-type="indexterm" id="idm46402341406760"/><a data-primary="stacks" data-secondary="converting to lists" data-type="indexterm" id="idm46402341405608"/><a data-primary="stacks" data-secondary="foreach loop" data-type="indexterm" id="idm46402341404488"/><strong>You don’t give up anything when you use a queue or a stack.</strong></p>&#13;
<p>It’s really easy to copy a Queue object to a List object. It’s just as easy to copy a List to a Queue, a Queue to a Stack...in fact, you can create a List, Queue, or Stack from any other object that implements the IEnumerable&lt;T&gt; interface. All you have to do is use the overloaded constructor that lets you pass the collection you want to copy from as a parameter. That means you have the flexibility and convenience of representing your data with the collection that best matches the way you need it to be used. (But remember, you’re making a copy, which means you’re creating a whole new object and adding it to the heap.)</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/448fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0028">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> Exercise</h5>&#13;
<p><a data-primary="exercises" data-secondary="queues and stacks" data-type="indexterm" id="idm46402341397496"/><a data-primary="queues" data-secondary="exercises on" data-type="indexterm" id="idm46402341396168"/><a data-primary="stacks" data-secondary="exercises on" data-type="indexterm" id="idm46402341395128"/>Write a program to help a cafeteria full of lumberjacks eat some flapjacks. You’ll use a Queue of Lumberjack objects, and each Lumberjack has a Stack of Flapjack enums. We’ve given you some details as a starting point. Can you create a console app that matches the output?</p>&#13;
<p><strong>Start with a Lumberjack class and a Flapjack enum</strong></p>&#13;
<p>The Lumberjack class has a public Name property that’s set with a constructor, and a private Stack&lt;Flapjack&gt; field called flapjackStack that’s initialized with an empty stack.</p>&#13;
<p>The TakeFlapjack method takes a single argument, a Flapjack, and pushes it onto the stack. EatFlapjacks pops the flapacks off the stack and writes the lines to the console for the lumberjack.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/449fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Then add the Main method</strong></p>&#13;
<p>The Main method prompts the user for the first lumberjack’s name, then asks for the number of flapjacks to give it. If the user gives a valid number, the program calls TakeFlapjack that number of times, passing it a random Flapjack each time, and adds the Lumberjack to a Queue. It keeps asking for more Lumberjacks until the user enters a blank line, then it uses a while loop to dequeue each Lumberjack and calls its EatFlapjacks method to write lines to the output.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/449fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0019">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/Common-1.png"/></span> Exercise Solution</h5>&#13;
<p>Here’s the code for the Lumberjack class and the Main method. Don’t forget that each file needs a <code>using System.Collections.Generic;</code> line at the top.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/450fig001.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-idd0026">&#13;
<h5>there are no Dumb Questions</h5>&#13;
<p><a data-primary="generic collections" data-type="indexterm" id="idm46402341381048"/><strong>Q: What happens if I try to get an object from a dictionary using a key that doesn’t exist?</strong></p>&#13;
<p><strong>A:</strong> If you pass a dictionary a key that doesn’t exist, it will throw an exception. For example, if you add this code to a console app:</p>&#13;
<pre data-type="programlisting">Dictionary&lt;string, string&gt; dict =&#13;
         new Dictionary&lt;string, string&gt;();&#13;
string s = dict["This key doesn’t exist"];</pre>&#13;
<p>you’ll get the exception “System.Collections.Generic.KeyNotFoundException: ‘The given key ‘This key doesn’t exist’ was not present in the dictionary.’” Conveniently, the exception includes the key—or, more specifically, the string that the key’s ToString method returns. That’s really useful if you’re trying to debug a problem in a program that accesses a dictionary thousands of times.</p>&#13;
<p><strong>Q: Is there a way to avoid that exception—like if I don’t know if a key exists?</strong></p>&#13;
<p><strong>A:</strong> Yes, there are two ways to avoid a KeyNotFoundException. One way is to use the Dictionary.ContainsKey method. You pass it the key you want to use with the dictionary, and it returns true only if the key exists. The other way is to use Dictionary.TryGetValue, which lets you do this:</p>&#13;
<pre data-type="programlisting">if (dict.TryGetValue("Key", out string value))&#13;
{&#13;
<span style="color:#9D9EA0;">    // do something</span>&#13;
}</pre>&#13;
<p>That code does exactly the same thing as this:</p>&#13;
<pre data-type="programlisting">if (dict.ContainsKey("Key"))&#13;
{    &#13;
    string value = dict["Key"];&#13;
<span style="color:#9D9EA0;">    // do something</span>&#13;
}</pre>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-idd0018">&#13;
<h5>Bullet Points</h5>&#13;
<ul>&#13;
<li><p>Lists, arrays, and other collections implement the <strong>IEnumerable&lt;T&gt; interface</strong>, which supports iteration over a non-generic collection.</p></li>&#13;
<li><p>A <strong>foreach loop</strong> works with any class that implements IEnumerable&lt;T&gt;, which includes a method to return an Enumerator object that lets the loop iterate through its contents in order.</p></li>&#13;
<li><p><strong>Covariance</strong> is C#’s way of letting you implicitly convert a subclass reference to its superclass.</p></li>&#13;
<li><p>The word <strong>“implicitly”</strong> refers to C#’s ability to figure out how to do the conversion without you needing to explicitly use casting.</p></li>&#13;
<li><p>Covariance is useful when you need to pass a collection of objects to a method that only works with the class they inherit from. For example, covariance allows you to use <strong>normal assignment to upcast</strong> a List&lt;Subclass&gt; to an IEnumerable&lt;Superclass&gt;.</p></li>&#13;
<li><p>A <strong>Dictionary&lt;TKey, TValue&gt;</strong> is a collection that stores a set of key/value pairs, and lets you use keys to look up their associated values.</p></li>&#13;
<li><p>Dictionary keys and values can be <strong>different types</strong>. Every <strong>key must be unique</strong> in the dictionary, but values can be duplicated.</p></li>&#13;
<li><p>The Dictionary class has a <strong>Keys property</strong> that returns an iterable sequence of keys.</p></li>&#13;
<li><p>A <strong>Queue&lt;T&gt;</strong> is a first-in, first-out collection with methods to enqueue an item at the end of the queue, and dequeue the item at the front of the queue.</p></li>&#13;
<li><p>A <strong>Stack&lt;T&gt;</strong> is a last-in, first-out collection with methods to push an item onto the top of the stack and pop an item off of the top of the stack.</p></li>&#13;
<li><p>The Stack&lt;T&gt; and Queue&lt;T&gt; classes <strong>implement IEnumerable&lt;T&gt;</strong>, and can easily be converted to Lists or other collection types.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="downloadable_exercise_two_decks">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/pg528-1.png"/></span> Downloadable exercise: Two Decks</h5>&#13;
<p><a data-primary="exercises" data-secondary="for cards" data-type="indexterm" id="idm46402341352808"/>In the next exercise you’ll build an app that lets you move cards between two decks. The left deck has buttons that let you shuffle it and reset it to 52 cards, and the right deck has buttons that let you clear and sort it.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/452fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>One of the most important ideas we’ve emphasized throughout this book is that writing C# code is a skill, and the best way to improve that skill is to <strong><em>get lots of practice</em></strong>. We want to give you as many opportunities to get practice as possible!</p>&#13;
<p>That’s why we created <strong>additional Windows WPF and macOS ASP.NET Core Blazor projects</strong> to go with some of the chapters in the rest of this book. We’ve included these projects at the end of the next few chapters too. Go ahead and an download the PDF for this project—we think you should take the time and do it before moving on to the next chapter, because it will help reinforce some important concepts that will help you with the material in the rest of the book.</p>&#13;
<p><strong>Go to the GitHub repo for the book and download the project PDF now:</strong></p>&#13;
<p><strong><a href="https://github.com/head-first-csharp/fourth-edition">https://github.com/head-first-csharp/fourth-edition</a></strong></p>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section></body></html>