<html><head></head><body><section data-pdf-bookmark="Unity Lab #3: GameObject Instances" data-type="afterword" epub:type="afterword"><div class="appendix" id="unity_lab_hash3_gameobject_instances">&#13;
<h1>Unity Lab #3: GameObject Instances</h1>&#13;
<p><a data-primary="Unity" data-secondary="GameObject instances" data-type="indexterm" id="idm46402343263032"/>C# is an object-oriented language, and since these Head First C# Unity Labs are all <strong>about getting practice writing C# code</strong>, it makes sense that these labs will focus on creating objects.</p>&#13;
<p>You’ve been creating objects in C# since you learned about the <code><strong>new</strong></code> keyword in <a href="ch03.html#objectshellipget_orientedexclamation_mar">#objectshellipget_orientedexclamation_mar</a>. In this Unity Lab you’ll <strong>create instances of a Unity GameObject</strong> and use them in a complete, working game. This is a great jumping-off point for writing Unity games in C#.</p>&#13;
<p>The goal of the next two Unity Labs is to <strong>create a simple game</strong> using the familiar billiard ball from the last lab. In this lab, you’ll build on what you learned about C# objects and instances to start building the game. You’ll use a <strong>prefab</strong>—Unity’s tool for creating instances of GameObjects—to create lots of instances of a GameObject, and you’ll use scripts to make your GameObjects fly around your game’s 3D space.</p>&#13;
<section data-pdf-bookmark="Let’s build a game in Unity!" data-type="sect1"><div class="sect1" id="letapostrophes_build_a_game_in_unityexcl">&#13;
<h1>Let’s build a game in Unity!</h1>&#13;
<p><a data-primary="Billiard Ball game" data-type="indexterm" id="idm46402343255656"/><a data-primary="Unity" data-secondary="building games in" data-type="indexterm" id="idm46402343255032"/>Unity is all about building games. So in the next two Unity Labs, you’ll use what you’ve learned about C# to build a simple game. Here’s the game that you’re going to create:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/344fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">When you start the game, the scene slowly fills up with billiard balls. The player needs to keep clicking them to make them disappear. Once there are 15 balls in the scene, the game is over.</span></p>&#13;
</div>&#13;
<p>So let’s get started. The first thing you’ll do is get your Unity project set up. This time we’ll keep the files a little more organized, so you’ll create separate folders for your materials and scripts—and one more folder for prefabs (which you’ll learn about later in the lab):</p>&#13;
<ol>&#13;
<li><p>Before you begin, close any Unity project that you have open. Also close Visual Studio—you’ll let Unity open it for you.</p></li>&#13;
<li><p><strong>Create a new Unity project</strong> using the 3D template, just like you did for the previous Unity Labs. Give it a name to help you remember which labs it goes with (“Unity Labs 3 and 4”).</p></li>&#13;
<li><p>Choose the Wide layout so your screen matches the screenshots.</p></li>&#13;
<li><p>Create a folder for your materials underneath the Assets folder. <strong>Right-click on the Assets folder</strong> in the Project window and choose Create &gt;&gt; Folder. Name it <strong><em>Materials</em></strong>.</p></li>&#13;
<li><p>Create another folder under Assets named <strong><em>Scripts</em></strong>.</p></li>&#13;
<li><p>Create one more folder under Assets named <strong><em>Prefabs</em></strong>.</p></li>&#13;
</ol>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/344fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Create a new material inside the Materials folder" data-type="sect1"><div class="sect1" id="create_a_new_material_inside_the_materia">&#13;
<h1>Create a new material inside the Materials folder</h1>&#13;
<p><a data-primary="albedo" data-type="indexterm" id="idm46402343238552"/><a data-primary="Materials folder" data-type="indexterm" id="idm46402343237448"/>Double-click on your new Materials folder to open it. You’ll create a new material here.</p>&#13;
<p>Go to <a href="https://github.com/head-first-csharp/fourth-edition">https://github.com/head-first-csharp/fourth-edition</a> and click on the Billiard Ball Textures link (just like you did in the first Unity lab) and download the texture file <strong><em>1 Ball Texture.png</em></strong> into a folder on your computer, then drag it into your Materials folder—just like you did with the downloaded file in the first Unity Lab, except this time drag it into the Materials folder you just created instead of the parent Assets folder.</p>&#13;
<p>Now you can create the new material. Right-click on the Materials folder in the Project window and <strong>choose Create &gt;&gt; Material</strong>. Name your new material <strong>1 Ball</strong>. You should see it appear in the Materials folder in the Project window.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/345fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>In the previous Unity Labs we used a <span style="color:#9D9EA0;"><u>texture</u></span>, or a bitmap image file that Unity can wrap around GameObjects. When you dragged the texture onto a sphere,  Unity automatically created a <span style="color:#9D9EA0;"><u>material</u></span>, which is what Unity uses to keep track of information about how a GameObject should be rendered that can have a reference to a texture. This time you’re creating the material manually. Just like last time, you may need to click the Download button on the GitHub page to download the texture PNG file.</p>&#13;
</div>&#13;
<p>Make sure the 1 Ball material is selected in the Materials window, so it shows up in the Inspector. Click on the <em>1 Ball Texture</em> file and <strong>drag it into the box to the left of the Albedo label</strong>.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/345fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>You should now see a tiny little picture of the 1 Ball texture in the box to the left of Albedo in the Inspector.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/345fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Now your material looks like a billiard ball when wrapped around a sphere.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/345fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="behind_the_scenes-idd0002">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/icon.png"/></span> Behind the Scenes</h5>&#13;
<p><strong>GameObjects reflect light from their surfaces.</strong></p>&#13;
<p>When you see an object in a Unity game with a color or texture map, you’re seeing the surface of a GameObject reflecting light from the scene, and the <strong>albedo</strong> controls the color of that surface. Albedo is a term from physics (specifically astronomy) that means the color that’s reflected by an object. You can learn more about albedo from the Unity Manual. Choose “Unity Manual” from the Help menu to open the manual in a browser and search for “albedo”—there’s a manual page that explains albedo color and transparency.</p>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Spawn a billiard ball at a random point in the scene" data-type="sect1"><div class="sect1" id="spawn_a_billiard_ball_at_a_random_point">&#13;
<h1>Spawn a billiard ball at a random point in the scene</h1>&#13;
<p>Create a new Sphere GameObject with a script called OneBallBehaviour:</p>&#13;
<ul>&#13;
<li><p>Choose 3D Object &gt;&gt; Sphere from the GameObject menu to <strong>create a sphere</strong>.</p></li>&#13;
<li><p>Drag your new <strong>1 Ball material</strong> onto it to make it look like a billiard ball.</p></li>&#13;
<li><p>Next, <strong>right-click on the Scripts folder</strong> that you created in the Project window and <strong>create a new C# script</strong> named OneBallBehaviour.</p></li>&#13;
<li><p><strong>Drag the script onto the Sphere</strong> in the Hierarchy window. Select the sphere and make sure a Script component called “One Ball Behaviour” shows up in the Inspector window.</p></li>&#13;
</ul>&#13;
<p>Double-click on your new script to edit it in Visual Studio. <strong><em>Add exactly the <u>same</u> code</em></strong> that you used in BallBehaviour in the first Unity Lab, then <strong>comment out the Debug.DrawRay line</strong> in the Update method.</p>&#13;
<p>Your OneBallBehaviour script should now look like this:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/346fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Now modify the Start method to move the sphere to a random position when it’s created. You’ll do this by setting <strong>transform.position</strong>, which changes the position of the GameObject in the scene. Here’s the code to position your ball at a random point—<strong>add it to the Start</strong> method of your OneBallBehaviour script:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/346fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Use the Play button in Unity to run your game.</strong> A ball should now be circling the Y axis at a random point. Stop and start the game a few times. The ball should spawn at a different point in the scene each time.</p>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Use the debugger to understand Random.value" data-type="sect1"><div class="sect1" id="use_the_debugger_to_understand_randomdot">&#13;
<h1>Use the debugger to understand Random.value</h1>&#13;
<p><a data-primary="debugger" data-secondary="Random.value and" data-type="indexterm" id="idm46402343196440"/><a data-primary="Random.value (Unity)" data-type="indexterm" id="idm46402343195800"/>You’ve used the Random class in the .NET System namespace a few times already. You used it to scatter the animals in the animal matching game in <a href="ch01.html#start_building_with_chash_build_somethin">#start_building_with_chash_build_somethin</a> and to pick random cards in <a href="ch03.html#objectshellipget_orientedexclamation_mar">#objectshellipget_orientedexclamation_mar</a>. This Random class is different—try hovering over the Random keyword in Visual Studio.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/347fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>You can see from the code that this new Random class is different from the one you used before. Earlier you called Random.Next to get a random value, and that value was a whole number. This new code uses <strong>Random.value</strong>, but that’s not a method—it’s actually a property.</p>&#13;
<p>Use the Visual Studio debugger to see the kinds of values that this new Random class gives you. Click the “Attach to Unity” button <span class="inlineimage"><img alt="Images" src="assets/347fig02.png"/></span> in Windows, <span class="inlineimage"><img alt="Images" src="assets/347fig03.png"/></span> in macOS) to attach Visual Studio to Unity. Then <strong>add a breakpoint</strong> to the line you added to the Start method.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">Unity may prompt you to enable debugging, just like in the last Unity Lab.</span></p>&#13;
</div>&#13;
<p>Now go back to Unity and <strong>start your game</strong>. It should break as soon as you press the Play button. Hover your cursor over Random.value—make sure it’s over <code>value</code>. Visual Studio will show you its value in a tooltip:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/347fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Keep Visual Studio attached to Unity, then go back to the Unity editor and <strong>stop your game</strong> (in the Unity editor, <u>not</u> in Visual Studio). Start your game again. Do it a few more times. You’ll get a different random value each time. That’s how UnityEngine.Random works: it gives you a new random value between 0 and 1 each time you access its value property.</p>&#13;
<p>Press Continue (<span class="inlineimage"><img alt="Images" src="assets/347fig05.png"/></span>) to resume your game. It should keep running—the breakpoint was only in the Start method, which is just called once for each GameObject instance, so it won’t break again. Then go back to Unity and stop the game.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>You can’t edit scripts in Visual Studio while it’s attached to Unity, so click the square Stop Debugging button to detach the Visual Studio debugger from Unity.</strong></p>&#13;
</div>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Turn your GameObject into a prefab" data-type="sect1"><div class="sect1" id="turn_your_gameobject_into_a_prefab">&#13;
<h1>Turn your GameObject into a prefab</h1>&#13;
<p><a data-primary="prefab" data-type="indexterm" id="idm46402343177576"/>In Unity, a <strong>prefab</strong> is a GameObject that you can instantiate in your scene. Over the past few chapters you’ve been working with object instances, and creating objects by instantiating classes. Unity lets you take advantage of objects and instances, so you can build games that reuse the same GameObjects over and over again. Let’s turn your 1 ball GameObject into a prefab.</p>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-idd0005">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/watchit.png"/></span> Watch it!</h5>&#13;
<p><strong>Visual Studio won’t let you edit code while it’s attached to Unity.</strong></p>&#13;
<p><em>If you try to edit your code but find that Visual Studio won’t let you make any changes, that means Visual Studio is probably still attached to Unity! Press the square Stop Debugging button to detach it.</em></p>&#13;
</div></aside>&#13;
<p>GameObjects have names.. Change the name of your GameObject to <em>OneBall</em>. Start by <strong>selecting your sphere</strong>, by clicking on it in the Hierarchy window or in the scene. Then use the Inspector window to <strong>change its name to OneBall</strong>.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/348fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Now you can turn your GameObject into a prefab. <strong>Drag OneBall from the Hierarchy window into the Prefabs folder</strong>.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/348fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>OneBall should now appear in your Prefabs folder. Notice that <strong><em>OneBall is now blue in the Hierarchy window</em></strong>. This indicates that <u>it’s now a prefab</u>—Unity turned it blue to tell you that an instance of a prefab is in your hierarchy. That’s fine for some games, but for this game we want all of the instances of the balls to be created by scripts.</p>&#13;
<p>Right-click on OneBall in the Hierarchy window <strong>and <u>delete</u> the OneBall GameObject from the scene</strong>. You should now only see it in the Project window, and not in the Hierarchy window or the scene.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/348fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Have you been saving your scene as you go? Save early, save often!</strong></p>&#13;
</div>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Create a script to control the game" data-type="sect1"><div class="sect1" id="create_a_script_to_control_the_game">&#13;
<h1>Create a script to control the game</h1>&#13;
<p><a data-primary="Instantiate method (Unity)" data-type="indexterm" id="idm46402343154088"/><a data-primary="InvokeRepeating (Unity)" data-type="indexterm" id="idm46402343153128"/>The game needs a way to add balls to the scene (and eventually keep track of the score, and whether or not the game is over).</p>&#13;
<p>Right-click on the Scripts folder in the Project window and <strong>create a new script called GameController</strong>. Your new script will use two methods available in any GameObject script:</p>&#13;
<ul>&#13;
<li><p><strong>The Instantiate method creates a new instance of a GameObject.</strong> When you’re instantiating GameObjects in Unity, you don’t typically use the <code>new</code> keyword like you saw in <a href="ch02.html#dive_into_chash_statementscomma_classesc">#dive_into_chash_statementscomma_classesc</a>. Instead, you’ll use the Instantiate method, which you’ll call from the AddABall method.</p></li>&#13;
<li><p><strong>The InvokeRepeating method calls another method in the script over and over again.</strong> In this case, it will wait one and a half seconds, then call the AddABall method once a second for the rest of the game.</p></li>&#13;
</ul>&#13;
<p>Here’s the source code for it:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/349fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-idd0021">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/brainpower.png"/></span> Brain Power</h5>&#13;
<p>Unity will only run scripts that are attached to GameObjects in a scene. The GameController script will create instances of our OneBall prefab, but we need to attach it to something. Luckily, we already know that a camera is just a GameObject with a Camera component (and also an AudioListener). The Main Camera will always be available in the scene. So...what do you think you’ll do with your new GameController script?</p>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Attach the script to the Main Camera" data-type="sect1"><div class="sect1" id="attach_the_script_to_the_main_camera">&#13;
<h1>Attach the script to the Main Camera</h1>&#13;
<p>Your new GameController script needs to be attached to a GameObject to run. Luckily, the Main Camera is just another GameObject—it happens to be one with a Camera component and an AudioListener component—so let’s attach your new script to it. <strong>Drag your GameController</strong> script out of the Scripts folder in the Project window and <strong>onto the Main Camera</strong> in the Hierarchy window.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/350fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>You learned all about public versus private fields in <a href="ch05.html#encapsulation_keep_your_privateshellippr">#encapsulation_keep_your_privateshellippr</a>. When a script class has a public field, the Unity editor shows that field in the Script component in the Inspector. It adds spaces between uppercase letters to make its name easier to read.</strong></p>&#13;
</div>&#13;
<p>Look in the Inspector—you’ll see a component for the script, exactly like you would for any other GameObject. The script has a <strong><em>public field called OneBallPrefab</em></strong>, so Unity displays it in the Script component.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/350fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>The OneBallPrefab field still says None, so we need to set it. <strong>Drag OneBall out of the Prefabs folder</strong> and <u>onto</u> the <strong>box next to the One Ball Prefab label.</strong></p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/350fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Now the GameController’s OneBallPrefab field contains a <strong><em>reference</em></strong> to the OneBall prefab:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/350fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Go back to the code and <strong>look closely the AddABall method</strong>. It calls the Instantiate method, passing it the OneBallPrefab field as an argument. You just set that field so that it contains your prefab. So every time GameController calls its AddABall method, it will <strong><em>create a new instance of the OneBall prefab.</em></strong></p>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Press Play to run your code" data-type="sect1"><div class="sect1" id="press_play_to_run_your_code">&#13;
<h1>Press Play to run your code</h1>&#13;
<p><a data-primary="exercises" data-secondary="Billiard Ball game" data-type="indexterm" id="idm46402343121608"/><a data-primary="hierarchy" data-secondary="about" data-type="indexterm" id="idm46402343120328"/>Your game is all ready to run. The GameController script attached to the Main Camera will wait 1.5 seconds, then instantiate a OneBall prefab every second. Each instantiated OneBall’s Start method will move it to a random position in the scene, and its Update method will rotate it around the Y axis every 2 seconds using OneBallBehaviour fields (just like in the last Lab). Watch as the play area slowly fills up with rotating balls:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/351fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Unity calls every GameObject’s Update method before each frame. That’s called the <span style="color:#9D9EA0;"><u>update loop</u></span>.</strong></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>When you instantiate GameObjects  in your code, they show up in the Hierarchy window when you run your game.</p>&#13;
</div>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Watch the live instances in the Hierarchy window" data-type="sect1"><div class="sect1" id="watch_the_live_instances_in_the_hierarch">&#13;
<h1>Watch the live instances in the Hierarchy window</h1>&#13;
<p>Each of the balls flying around the scene is an instance of the OneBall prefab. Each of the instances has its own instance of the OneBallBehaviour class. You can use the Hierarchy window to track all of the OneBall instances—as each one is created, a “OneBall(Clone)” entry is added to the Hierarchy.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/351fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p><strong>Click on any of the OneBall(Clone) items</strong> to view it in the Inspector. You’ll see its Transform values change as it rotates, just like in the last lab.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><span style="color:#9D9EA0;">We’ve included some coding exercises in the Unity Labs. They’re just like the exercises in the rest of the book—and remember, it’s <u>not</u> cheating to peek at the solution.</span></p>&#13;
</div>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-idd0023">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> Exercise</h5>&#13;
<p>Figure out how to add a BallNumber field to your OneBallBehaviour script, so that when you click on a OneBall instance in the Hierarchy and check its One Ball Behaviour (Script) component, under the X Rotation, Y Rotation, Z Rotation, and Degrees Per Second labels it has a Ball Number field:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/351fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>The first instance of OneBall should have its Ball Number field set to 1. The second instance should have it set to 2, the third 3, etc. <em>Here’s a hint: you’ll need a way to keep track of the count that’s <strong><em>shared by all of the OneBall instances</em></strong>. You’ll modify the Start method to increment it, then use it to set the BallNumber field.</em></p>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Use the Inspector to work with GameObject instances" data-type="sect1"><div class="sect1" id="use_the_inspector_to_work_with_gameobjec">&#13;
<h1>Use the Inspector to work with GameObject instances</h1>&#13;
<p><a data-primary="Inspector window (Unity)" data-type="indexterm" id="idm46402343100888"/>Run your game. Once a few balls have been instantiated, click the Pause button—the Unity editor will jump back to the Scene view. Click one of the OneBall instances in the Hierarchy window to select it. The Unity editor will outline it in the Scene window to show you which object you selected. Go to the Transform component in the Inspector window and <strong>set its Z scale value to 4</strong> to make the ball stretch.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/352fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Start your simulation again—now you can track which ball you’re modifying. Try changing its DegreesPerSecond, XRotation, YRotation, and ZRotation fields like you did in the last lab.</p>&#13;
<p>While the game is running, switch between the Game and Scene views. You can use the Gizmos in the Scene view <strong><em>while the game is running</em></strong>, even for GameObject instances that were created using the Instantiate method (rather than added to the Hierarchy window).</p>&#13;
<p>Try clicking the Gizmos button at the top of the toolbar to toggle them  on and off. You can turn on the Gizmos in the Game view, and you can  turn them off in the Scene view.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/352fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-idd0014">&#13;
<h5><span class="inlineimage"><img alt="Images" src="assets/exercise.png"/></span> Exercise Solution</h5>&#13;
<p>You can add a BallNumber field to the OneBallBehaviour script by keeping track of the total number of balls added so far in a static field (which we called BallCount). Each time a new ball is instantiated, Unity calls its Start method, so you can increment the static BallCount field and assign its value to that instance’s BallNumber field.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/352fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
</div></aside>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Use physics to keep balls from overlapping" data-type="sect1"><div class="sect1" id="use_physics_to_keep_balls_from_overlappi">&#13;
<h1>Use physics to keep balls from overlapping</h1>&#13;
<p><a data-primary="GameObjects" data-secondary="deleting" data-type="indexterm" id="idm46402343083432"/><a data-primary="Hierarchy window (Unity)" data-type="indexterm" id="idm46402343081752"/><a data-primary="physics engine (Unity)" data-type="indexterm" id="idm46402343080984"/>Did you notice that occasionally some of the balls overlap each other?</p>&#13;
<p>Unity has a powerful <strong>physics engine</strong> that you can use to make your GameObjects behave like they’re real, solid bodies—and one thing that solid shapes don’t do is overlap each other. To prevent that overlap, you just need to tell Unity that your OneBall prefab is a solid object.</p>&#13;
<p>Stop your game, then <strong>click on the OneBall prefab in the Project window</strong> to select it. Then go to the Inspector and scroll all the way down to the bottom to the Add Component button:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/353fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/353fig02.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>Click the button to pop up the Component window. <strong>Choose Physics</strong> to view the physics components, then <strong>select Rigidbody</strong> to add the component.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/353fig03.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>While you’re running physics experiments, here’s one Galileo would appreciate. Try checking the Use Gravity box while your game is running. New balls that get created will start falling, occasionally hitting another ball and knocking it out of the way.</p>&#13;
</div>&#13;
<p>Run your game again—now you won’t see balls overlap. Occasionally one ball will get created on top of another one. When that happens, the new ball will knock the old one out of the way.</p>&#13;
<p><strong>Let’s run a little physics experiment</strong> to prove that the balls really are rigid now. Start your game, then pause it as soon as there are more than two balls created. Go to the Hierarchy window. If it looks like this:</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/353fig04.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<p>then you’re editing the prefab—click the back caret (<span class="inlineimage"><img alt="Images" src="assets/353fig05.png"/></span>) in the top-right corner of the Hierarchy window to get back to the scene (you may need to expand SampleScene again).</p>&#13;
<ul>&#13;
<li><p>Hold down the Shift key, click the first OneBall instance in the Hierarchy window, and then click the second one so the first two OneBall instances are selected.</p></li>&#13;
<li><p>You’ll see dashes (<span class="inlineimage"><img alt="Images" src="assets/353fig06.png"/></span>) in the Position boxes in the Transform panel. <strong>Set the Position to (0, 0, 0)</strong> to set both OneBall instances’ positions at the same time.</p></li>&#13;
<li><p>Use Shift-click to select any other instances of OneBall, right-click, and <strong>choose Delete</strong> to delete them from the scene so only the two overlapping balls are left.</p></li>&#13;
<li><p>Unpause your game—the balls can’t overlap now, so instead they’ll be rotating next to each other.</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/353fig07.png"/>&#13;
<h6/>&#13;
</div></figure></li>&#13;
</ul>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>Stop the game in Unity and Visual Studio and save your scene. <u>Save early, save often!</u></strong></p>&#13;
</div>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p><strong>You can use the Hierarchy window to delete GameObjects from your scene while the game is running.</strong></p>&#13;
</div>&#13;
</div></section>&#13;
<section data-pdf-bookmark="Get creative!" data-type="sect1"><div class="sect1" id="get_creativeexclamation_mark-idd0002">&#13;
<h1>Get creative!</h1>&#13;
<p><a data-primary="paper prototype" data-type="indexterm" id="idm46402343051128"/>You’re halfway done with the game! You’ll finish it in the next Unity Lab. In the meantime, this is a great opportunity to practice your <strong>paper prototyping</strong> skills. We gave you a description of the game at the beginning of this Unity Lab. Try creating a paper prototype of the game. Can you come up with ways to make it more interesting?</p>&#13;
<figure class="informal"><div class="figure">&#13;
<img alt="Images" src="assets/354fig01.png"/>&#13;
<h6/>&#13;
</div></figure>&#13;
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-idd0014">&#13;
<h5>Bullet Points</h5>&#13;
<ul>&#13;
<li><p><strong>Albedo</strong> is a physics term that means the color that’s reflected by an object. Unity can use texture maps for the albedo in a material.</p></li>&#13;
<li><p>Unity has its own <strong>Random class</strong> in the UnityEngine namespace. The static Random.value method returns a random number between 0 and 1.</p></li>&#13;
<li><p>A <strong>prefab</strong> is a GameObject that you can instantiate in your scene. You can turn any GameObject into a prefab.</p></li>&#13;
<li><p>The <strong>Instantiate method</strong> creates a new instance of a GameObject. The Destroy method destroys it. Instances are created and destroyed at the end of the update loop.</p></li>&#13;
<li><p>The <strong>InvokeRepeating method</strong> calls another method in the script over and over again.</p></li>&#13;
<li><p>Unity calls every GameObject’s Update method before each frame. That’s called the <strong>update loop</strong>.</p></li>&#13;
<li><p>You can <strong>inspect the live instances</strong> of your prefabs by clicking on them in the Hierarchy window.</p></li>&#13;
<li><p>When you add a <strong>Rigidbody</strong> component to a GameObject, Unity’s physics engine makes it act like a real, solid, physical object.</p></li>&#13;
<li><p>The Rigidbody component lets you turn <strong>gravity</strong> on or off for a GameObject.</p></li>&#13;
</ul>&#13;
</div></aside>&#13;
</div></section>&#13;
</div></section></body></html>